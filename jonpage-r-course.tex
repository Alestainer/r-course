\documentclass[]{book}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage[margin=1in]{geometry}
\usepackage{hyperref}
\hypersetup{unicode=true,
            pdftitle={R for Data Analysis and Visualization},
            pdfauthor={Jonathan Page},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage{natbib}
\bibliographystyle{apalike}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{{#1}}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{{#1}}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{{#1}}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{{#1}}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\ImportTok}[1]{{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{{#1}}}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{{#1}}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{{#1}}}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{{#1}}}}
\newcommand{\BuiltInTok}[1]{{#1}}
\newcommand{\ExtensionTok}[1]{{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{{#1}}}
\newcommand{\RegionMarkerTok}[1]{{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{{#1}}}}
\newcommand{\NormalTok}[1]{{#1}}
\usepackage{longtable,booktabs}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

%%% Use protect on footnotes to avoid problems with footnotes in titles
\let\rmarkdownfootnote\footnote%
\def\footnote{\protect\rmarkdownfootnote}

%%% Change title format to be more compact
\usepackage{titling}

% Create subtitle command for use in maketitle
\newcommand{\subtitle}[1]{
  \posttitle{
    \begin{center}\large#1\end{center}
    }
}

\setlength{\droptitle}{-2em}
  \title{R for Data Analysis and Visualization}
  \pretitle{\vspace{\droptitle}\centering\huge}
  \posttitle{\par}
\subtitle{ECON 396 (Fall 2017)\\
TR 10:30-11:45, Webster Hall 112}
  \author{Jonathan Page}
  \preauthor{\centering\large\emph}
  \postauthor{\par}
  \predate{\centering\large\emph}
  \postdate{\par}
  \date{2017-08-13}

\usepackage{booktabs}

\usepackage{amsthm}
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}{Lemma}[chapter]
\theoremstyle{definition}
\newtheorem{definition}{Definition}[chapter]
\newtheorem{corollary}{Corollary}[chapter]
\newtheorem{proposition}{Proposition}[chapter]
\theoremstyle{definition}
\newtheorem{example}{Example}[chapter]
\theoremstyle{remark}
\newtheorem*{remark}{Remark}
\begin{document}
\maketitle

{
\setcounter{tocdepth}{1}
\tableofcontents
}
\chapter*{Syllabus}\label{syllabus}
\addcontentsline{toc}{chapter}{Syllabus}

\section*{Office Hours}\label{office-hours}
\addcontentsline{toc}{section}{Office Hours}

Monday 2-3 PM and Tuesday 3-4 PM, or by appointment, Saunders 509,
jrpage at hawaii dot edu.

\section*{Student Learning
Objectives}\label{student-learning-objectives}
\addcontentsline{toc}{section}{Student Learning Objectives}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  To be familiar with standard techniques for visualizing data,
  including heat maps, contour plots, (look at the list in the Data
  Visualization book)
\item
  To be able to transform raw data into formats suitable for analysis
\item
  To be able to perform basic exploratory analysis
\item
  To be able to create data visualizations
\end{enumerate}

There is no prerequisite for this course.

\section*{Resources}\label{resources}
\addcontentsline{toc}{section}{Resources}

\subsection*{Required}\label{required}
\addcontentsline{toc}{subsection}{Required}

Introductory Statistics with Randomization and Simulation: Available as
a free PDF
(\url{https://www.openintro.org/stat/textbook.php?stat_book=isrs}) or
for \$8.49 on Amazon.

R Graphics Cookbook

\subsection*{Recommended:}\label{recommended}
\addcontentsline{toc}{subsection}{Recommended:}

\href{https://www.rstudio.com/resources/cheatsheets/}{RStudio Cheat
Sheets}

\section*{Course Requirements}\label{course-requirements}
\addcontentsline{toc}{section}{Course Requirements}

Grades for this course will be based on weekly assignments (30\%),
project assignments (30\%), the project proposal (5\%), the final
project deliverable (15\%), and final project presentation participation
(20\%).

\subsection*{Weekly assignments (30\%)}\label{weekly-assignments-30}
\addcontentsline{toc}{subsection}{Weekly assignments (30\%)}

Weekly assignments are short R excercises. Each exercise should take no
longer than 15 minutes. You will typically be given time to complete the
exercise in class the day the assignment is given. The assignment will
be in the form of R Markdown file (*.Rmd). You will submit the completed
assignments via \href{https//classroom.google.com}{classroom.google.com}
by the following class period.

\section*{Individual Project}\label{individual-project}
\addcontentsline{toc}{section}{Individual Project}

\subsection*{Project assignments (30\%)}\label{project-assignments-30}
\addcontentsline{toc}{subsection}{Project assignments (30\%)}

Each week, leading up to the project proposal, you will be given an
assignment that is designed to provide you with an organized workflow
for approaching new data science projects. Project assignments are
submitted via \href{https//classroom.google.com}{classroom.google.com},
with the exception of the two presentations

\subsection*{Project proposal presentation
(5\%)}\label{project-proposal-presentation-5}
\addcontentsline{toc}{subsection}{Project proposal presentation (5\%)}

This presentation should be less than 2 minutes. You simply need to
communicate the core question your project seeks to answer and the
dataset(s) you will be using to answer this question.

\subsection*{Final project (15\%)}\label{final-project-15}
\addcontentsline{toc}{subsection}{Final project (15\%)}

The final project will be an R Markdown document which communicates your
project question, the data you used, and your results.

\subsection*{Final project presentation participation
(20\%)}\label{final-project-presentation-participation-20}
\addcontentsline{toc}{subsection}{Final project presentation
participation (20\%)}

Your final project participation grade is based on a combination of your
own presentation and the feedback you provide to your classmates.

\section*{Schedule}\label{schedule}
\addcontentsline{toc}{section}{Schedule}

The following schedule is tentative and subject to change.

\subsection*{Week 1}\label{week-1}
\addcontentsline{toc}{subsection}{Week 1}

\begin{itemize}
\tightlist
\item
  \textbf{R} \protect\hyperlink{intro}{Intro to R and RStudio;
  Histograms, scatterplots, summary statistics}

  \begin{itemize}
  \tightlist
  \item
    \textbf{Data} R Sample Datasets
  \end{itemize}
\item
  \textbf{Topic} \protect\hyperlink{data-sources}{Data sources overview}
\item
  \textbf{Project Assignment} Indentify interesting datasets and
  questions
\end{itemize}

\subsection*{Week 2}\label{week-2}
\addcontentsline{toc}{subsection}{Week 2}

\begin{itemize}
\tightlist
\item
  \textbf{R} \protect\hyperlink{read-data}{read\_csv, dplyr basics,
  heatmaps, hexbins}

  \begin{itemize}
  \tightlist
  \item
    \textbf{Data} ACS PUMS \emph{{[}CSV{]}}
  \end{itemize}
\item
  \textbf{Topic} \protect\hyperlink{anscombe}{Anscombe's Quartet}
\item
  \textbf{Project Assignment} Choose question and dataset for your
  project
\end{itemize}

\subsection*{Week 3}\label{week-3}
\addcontentsline{toc}{subsection}{Week 3}

\begin{itemize}
\tightlist
\item
  \textbf{R} \protect\hyperlink{facets-and-bubbles}{ggplot facets,
  bubble plots, transparency}

  \begin{itemize}
  \tightlist
  \item
    \textbf{Data} Hawaii Tourism Authority \emph{{[}Excel{]}}
  \end{itemize}
\item
  \textbf{Topic} Effective Data Visualization
\item
  \textbf{Project Assignment} Write description of your question
\end{itemize}

\subsection*{Week 4}\label{week-4}
\addcontentsline{toc}{subsection}{Week 4}

\begin{itemize}
\tightlist
\item
  \textbf{R} \protect\hyperlink{lines}{geom\_smooth, abline, vline,
  hline}
\item
  \textbf{Data} State of Hawaii Department of Business, Economic
  Development (DBEDT) \emph{{[}Excel{]}}
\item
  \textbf{Topic} Time series analysis 
\item
  \textbf{Project Assignment} Write description of your dataset(s)
\end{itemize}

\subsection*{Week 5}\label{week-5}
\addcontentsline{toc}{subsection}{Week 5}

\begin{itemize}
\tightlist
\item
  \textbf{R} \protect\hyperlink{ggplot-exts}{ggplot2 Extensions and
  Scatterplot Matrices (GGally)}

  \begin{itemize}
  \tightlist
  \item
    \textbf{Data} ACS Immigration \emph{{[}CSV{]}}
  \end{itemize}
\item
  \textbf{Topic} \protect\hyperlink{trifecta}{JunkCharts Trifecta
  Checkup}
\item
  \textbf{Project Assignment} Create 2 descriptive plots of your
  datasets(s)
\end{itemize}

\subsection*{Week 6}\label{week-6}
\addcontentsline{toc}{subsection}{Week 6}

\begin{itemize}
\tightlist
\item
  \textbf{R} \protect\hyperlink{boxplots-and-violins}{Boxplots, violin
  plots}

  \begin{itemize}
  \tightlist
  \item
    \textbf{Data} SSA \emph{{[}Excel{]}}
  \end{itemize}
\item
  \textbf{Topic}
\item
  \textbf{Project Assignment} Write a description of the data cleaning
  required for your project
\end{itemize}

\subsection*{Week 7}\label{week-7}
\addcontentsline{toc}{subsection}{Week 7}

\begin{itemize}
\tightlist
\item
  \textbf{R} \protect\hyperlink{geom_spoke}{Spatial Visualizations with
  geom\_spoke, gganimate, and GGally::glyphs}

  \begin{itemize}
  \tightlist
  \item
    \textbf{Data} NOAA Wind \emph{{[}netCDF{]}}
  \end{itemize}
\item
  \textbf{Topic}
\item
  \textbf{Project Assignment} Write a description of your planned
  approach
\end{itemize}

\subsection*{Week 8}\label{week-8}
\addcontentsline{toc}{subsection}{Week 8}

\begin{itemize}
\tightlist
\item
  \textbf{R} \protect\hyperlink{area-and-ribbons}{geom\_area,
  geom\_ribbon}
\item
  \textbf{Data} BLS American Time Use Survey (ATUS) \emph{{[}TSV{]}}
\item
  \textbf{Topic} Project Proposal Description
\item
  \textbf{Project Assignment} Work on project proposal presentation
\end{itemize}

\subsection*{Week 9}\label{week-9}
\addcontentsline{toc}{subsection}{Week 9}

\begin{itemize}
\tightlist
\item
  \textbf{R} \protect\hyperlink{jitter-rug}{jitter, rug, aesthetics}
\item
  \textbf{Data} PSID
\item
  \textbf{Project Assignment} Present project proposal (\textless{}2
  Minutes)
\end{itemize}

\subsection*{Week 10}\label{week-10}
\addcontentsline{toc}{subsection}{Week 10}

\begin{itemize}
\tightlist
\item
  \textbf{R} \protect\hyperlink{themes-labels-colors}{Themes, Labels,
  and Colors}

  \begin{itemize}
  \tightlist
  \item
    \textbf{Data} IPUMS 
  \end{itemize}
\item
  \textbf{Topic}
\item
  \textbf{Project Assignment} Work on final project
\end{itemize}

\subsection*{Week 11}\label{week-11}
\addcontentsline{toc}{subsection}{Week 11}

\begin{itemize}
\tightlist
\item
  \textbf{R} polar coordinates, ggradar extension 
\item
  \textbf{Topic}
\item
  \textbf{Project Assignment} Work on final project (cont.)
\end{itemize}

\subsection*{Week 12}\label{week-12}
\addcontentsline{toc}{subsection}{Week 12}

\begin{itemize}
\tightlist
\item
  \textbf{R} word/text analysis 
\item
  \textbf{Topic}
\item
  \textbf{Project Assignment} Work on final project (cont.)
\end{itemize}

\subsection*{Week 13}\label{week-13}
\addcontentsline{toc}{subsection}{Week 13}

\begin{itemize}
\tightlist
\item
  \textbf{R} gganimate 
\item
  \textbf{Topic}
\item
  \textbf{Project Assignment} Work on final project (cont.)
\end{itemize}

\subsection*{Week 14}\label{week-14}
\addcontentsline{toc}{subsection}{Week 14}

\begin{itemize}
\tightlist
\item
  \textbf{R} git and GitHub for R
\item
  \textbf{Topic}
\item
  \textbf{Project Assignment}
\end{itemize}

\subsection*{Week 15}\label{week-15}
\addcontentsline{toc}{subsection}{Week 15}

\begin{itemize}
\tightlist
\item
  \textbf{R} networks, geomnet extension 
\item
  \textbf{Topic} Final Project presentations
\item
  \textbf{Project Assignment}
\end{itemize}

\section*{Other Resources}\label{other-resources}
\addcontentsline{toc}{section}{Other Resources}

There are many useful resources you should be aware of while going
through this course:

\href{https://github.com/rstudio/RStartHere}{RStudio's List of Useful R
Packages}

\href{http://tinlizzie.org/histograms/}{Visual Tutorial on Histograms}

\subsection*{Statistics}\label{statistics}
\addcontentsline{toc}{subsection}{Statistics}

\href{http://varianceexplained.org/RData/resources/}{Variance Explained}

\href{http://r4ds.had.co.nz/}{R for Data Science - Grolemund and
Wickham}

\subsection*{Visualization}\label{visualization}
\addcontentsline{toc}{subsection}{Visualization}

\href{}{FlowingData}

\href{http://junkcharts.typepad.com/}{Junk Charts}

\subsection*{Courses}\label{courses}
\addcontentsline{toc}{subsection}{Courses}

\href{http://projects.iq.harvard.edu/gov2001/}{Gary King - Quantitative
Research Methodology}

\href{http://www.cc.gatech.edu/~stasko/7450/}{John Stasko - Information
Visualization}

\href{http://stat545.com/}{Jenny Bryan - Data wrangling, exploration,
and analysis with R}

\subsection*{Books}\label{books}
\addcontentsline{toc}{subsection}{Books}

\href{https://cran.r-project.org/doc/contrib/Farnsworth-EconometricsInR.pdf}{Econometrics
in R}

\href{ftp://cran.r-project.org/pub/R/doc/contrib/usingR.pdf}{Using R for
Data Analysis and Graphics}

\subsection*{Papers}\label{papers}
\addcontentsline{toc}{subsection}{Papers}

\href{http://vita.had.co.nz/papers/embedded-plots.pdf}{Embedded Plots}

\chapter*{Individual Project}\label{individual-project-1}
\addcontentsline{toc}{chapter}{Individual Project}

\section*{Project assignments}\label{project-assignments}
\addcontentsline{toc}{section}{Project assignments}

Each week, leading up to the project proposal, you will be given an
assignment that is designed to provide you with an organized workflow
for approaching new data science projects. Project assignments are
submitted via \href{https//classroom.google.com}{classroom.google.com},
with the exception of the two presentations

\section*{Project proposal
presentation}\label{project-proposal-presentation}
\addcontentsline{toc}{section}{Project proposal presentation}

This presentation should be less than 2 minutes. You simply need to
communicate the core question your project seeks to answer and the
dataset(s) you will be using to answer this question.

\section*{Final project RMarkdown}\label{final-project-rmarkdown}
\addcontentsline{toc}{section}{Final project RMarkdown}

The final project will be an R Markdown document which communicates your
project question, the data you used, and your results.

\section*{Final project presentation
participation}\label{final-project-presentation-participation}
\addcontentsline{toc}{section}{Final project presentation participation}

Your final project participation grade is based on a combination of your
own presentation and the feedback you provide to your classmates.

\part{R Tutorials}\label{part-r-tutorials}

\hypertarget{intro}{\chapter{R Basics}\label{intro}}

Before we begin, make sure you have
\href{https://cran.r-project.org/}{R} and
\href{https://www.rstudio.com/products/rstudio/download3/\#download}{RStudio}
installed.

\section{R Markdown}\label{r-markdown}

Throughout this course,
\href{http://rmarkdown.rstudio.com/lesson-1.html}{R Markdown} will make
our lives easier. Make sure that the \texttt{rmarkdown} library is
installed:

\begin{verbatim}
install.packages("rmarkdown")
\end{verbatim}

For each assignment, you will create an R Markdown file (*.Rmd) and
submit that file by the following class session using
\href{https://classroom.google.com}{classroom.google.com}

\section{Working with data already loaded into
R}\label{working-with-data-already-loaded-into-r}

Base R comes with a set of sample data that is useful for illustrating
techniques in R. Run the following command to see a list of the datasets
in the core library \texttt{datasets}:

\begin{verbatim}
library(help = "datasets")
\end{verbatim}

These datasets are accessible automatically. We'll start with the Swiss
Fertility and Socioeconomic Inicators (1888) dataset. See a description
of the dataset by using the help command, either \texttt{?swiss} or
\texttt{help(swiss)}. This dataset is technically a \texttt{data.frame},
which you can see by using the command \texttt{class(swiss)}. For more
information on \texttt{data.frame}s take a look at the
documentation(\texttt{help(data.frame)})

\subsection{Numeric summaries}\label{numeric-summaries}

Here are a few ways we can summarize a dataset:

\texttt{head()} shows us the first six rows of a \texttt{data.frame}.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{head}\NormalTok{(swiss)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##              Fertility Agriculture Examination Education Catholic
## Courtelary        80.2        17.0          15        12     9.96
## Delemont          83.1        45.1           6         9    84.84
## Franches-Mnt      92.5        39.7           5         5    93.40
## Moutier           85.8        36.5          12         7    33.77
## Neuveville        76.9        43.5          17        15     5.16
## Porrentruy        76.1        35.3           9         7    90.57
##              Infant.Mortality
## Courtelary               22.2
## Delemont                 22.2
## Franches-Mnt             20.2
## Moutier                  20.3
## Neuveville               20.6
## Porrentruy               26.6
\end{verbatim}

\texttt{summary()} provides summary statistics for each column in a
\texttt{data.frame}.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{summary}\NormalTok{(swiss)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    Fertility      Agriculture     Examination      Education    
##  Min.   :35.00   Min.   : 1.20   Min.   : 3.00   Min.   : 1.00  
##  1st Qu.:64.70   1st Qu.:35.90   1st Qu.:12.00   1st Qu.: 6.00  
##  Median :70.40   Median :54.10   Median :16.00   Median : 8.00  
##  Mean   :70.14   Mean   :50.66   Mean   :16.49   Mean   :10.98  
##  3rd Qu.:78.45   3rd Qu.:67.65   3rd Qu.:22.00   3rd Qu.:12.00  
##  Max.   :92.50   Max.   :89.70   Max.   :37.00   Max.   :53.00  
##     Catholic       Infant.Mortality
##  Min.   :  2.150   Min.   :10.80   
##  1st Qu.:  5.195   1st Qu.:18.15   
##  Median : 15.140   Median :20.00   
##  Mean   : 41.144   Mean   :19.94   
##  3rd Qu.: 93.125   3rd Qu.:21.70   
##  Max.   :100.000   Max.   :26.60
\end{verbatim}

\subsection{Visual summaries}\label{visual-summaries}

Scatterplot matrix (default plot of a data.frame):

\begin{verbatim}
plot(swiss)
# or
pairs(swiss)
\end{verbatim}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-5-1.pdf}

Scatterplot of two dimensions

\begin{verbatim}
plot(swiss[,c("Education", "Fertility")])
# or
plot(swiss[4,1])
# or
plot(swiss$Education, swiss$Fertility)
# or
plot(swiss$Fertility ~ swiss$Education)
\end{verbatim}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-6-1.pdf}

Smoothed Scatterplot of two dimensions

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{smoothScatter}\NormalTok{(swiss$Fertility ~}\StringTok{ }\NormalTok{swiss$Examination)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-7-1.pdf}

Scatterplot with a \texttt{loess} (locally weighted polynomial
regression)

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{scatter.smooth}\NormalTok{(swiss$Fertility ~}\StringTok{ }\NormalTok{swiss$Agriculture)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-8-1.pdf}

\subsection{Distribution plots}\label{distribution-plots}

Histograms:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{hist}\NormalTok{(swiss$Catholic)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-9-1.pdf}

Stem-and-Leaf Plots:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{stem}\NormalTok{(swiss$Fertility)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##   The decimal point is 1 digit(s) to the right of the |
## 
##   3 | 5
##   4 | 35
##   5 | 46778
##   6 | 124455556678899
##   7 | 01223346677899
##   8 | 0233467
##   9 | 223
\end{verbatim}

Kernel density plot (and add a rug showing where observation occur):

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{plot}\NormalTok{(}\KeywordTok{density}\NormalTok{(swiss$Fertility))}
\KeywordTok{rug}\NormalTok{(swiss$Fertility)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-11-1.pdf}

Boxplots:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{boxplot}\NormalTok{(swiss)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-12-1.pdf}

\subsubsection{More complicated charts}\label{more-complicated-charts}

Conditioning plots:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{coplot}\NormalTok{(swiss$Fertility ~}\StringTok{ }\NormalTok{swiss$Examination |}\StringTok{ }\KeywordTok{as.factor}\NormalTok{(swiss$Catholic >}\StringTok{ }\DecValTok{50}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-13-1.pdf}

Star plots (half-star plots here):

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{stars}\NormalTok{(swiss, }\DataTypeTok{key.loc =} \KeywordTok{c}\NormalTok{(}\DecValTok{15}\NormalTok{,}\DecValTok{1}\NormalTok{), }\DataTypeTok{flip.labels =} \OtherTok{FALSE}\NormalTok{, }\DataTypeTok{full =} \OtherTok{FALSE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-14-1.pdf}

\section{Assignment}\label{assignment}

Choose a dataset from \texttt{datasets}
(\texttt{library(help\ =\ "datasets")} will show you a list) and create
5 charts in an R Markdown file from the example charts above. Run the
following command to see what else is available in the base R graphics
package:

\begin{verbatim}
demo(graphics)
\end{verbatim}

\hypertarget{read-data}{\chapter{Reading data}\label{read-data}}

The first step in analyzing data with R is reading data into it. This
lesson focuses on reading data, manipulating it with \texttt{dplyr} and
a few summary visualizations.

\section{Data Source:}\label{data-source}

The US Census Bureau has a large selection of data on the population of
the United States. The public-use micro surveys (PUMS) are available
from the following link:

\url{https://www.census.gov/programs-surveys/acs/data/pums.html}

We'll take a look at the 1-year American Community Survey results for
the state of Hawaii.

\href{https://www2.census.gov/programs-surveys/acs/data/pums/2015/1-Year/csv_phi.zip}{Hawaii
Population Records}

\href{https://www2.census.gov/programs-surveys/acs/tech_docs/pums/data_dict/PUMSDataDict15.txt}{The
data dictionary}

\section{\texorpdfstring{\texttt{read\_csv}}{read\_csv}}\label{read_csv}

To read in the downloaded file, we'll use the \texttt{readr} package,
which you can install by installing \texttt{tidyverse}.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(readr) }\CommentTok{# also in library(tidyverse)}
\NormalTok{pop_hi <-}\StringTok{ }\KeywordTok{read_csv}\NormalTok{(}\StringTok{"data/csv_phi.zip"}\NormalTok{)}
\NormalTok{pop_hi}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 14,124 x 284
##       RT SERIALNO SPORDER  PUMA    ST  ADJINC PWGTP  AGEP   CIT CITWP
##    <chr>    <int>   <chr> <chr> <int>   <int> <chr> <chr> <int> <int>
##  1     P       21      01 00303    15 1001264 00078    63     1    NA
##  2     P      158      01 00306    15 1001264 00056    54     1    NA
##  3     P      267      01 00100    15 1001264 00059    52     5    NA
##  4     P      267      02 00100    15 1001264 00071    56     5    NA
##  5     P      267      03 00100    15 1001264 00102    25     5    NA
##  6     P      267      04 00100    15 1001264 00155    22     5    NA
##  7     P      267      05 00100    15 1001264 00074    15     5    NA
##  8     P      351      01 00100    15 1001264 00307    32     4  2005
##  9     P      351      02 00100    15 1001264 00578    02     1    NA
## 10     P      470      01 00200    15 1001264 00041    79     1    NA
## # ... with 14,114 more rows, and 274 more variables: COW <int>,
## #   DDRS <int>, DEAR <int>, DEYE <int>, DOUT <int>, DPHY <int>,
## #   DRAT <int>, DRATX <int>, DREM <int>, ENG <int>, FER <int>, GCL <int>,
## #   GCM <int>, GCR <int>, HINS1 <int>, HINS2 <int>, HINS3 <int>,
## #   HINS4 <int>, HINS5 <int>, HINS6 <int>, HINS7 <int>, INTP <chr>,
## #   JWMNP <chr>, JWRIP <chr>, JWTR <chr>, LANX <int>, MAR <int>,
## #   MARHD <int>, MARHM <int>, MARHT <int>, MARHW <int>, MARHYP <int>,
## #   MIG <int>, MIL <int>, MLPA <int>, MLPB <int>, MLPCD <int>, MLPE <int>,
## #   MLPFG <int>, MLPH <int>, MLPI <int>, MLPJ <int>, MLPK <int>,
## #   NWAB <int>, NWAV <int>, NWLA <int>, NWLK <int>, NWRE <int>, OIP <chr>,
## #   PAP <chr>, RELP <chr>, RETP <chr>, SCH <int>, SCHG <chr>, SCHL <chr>,
## #   SEMP <chr>, SEX <int>, SSIP <chr>, SSP <chr>, WAGP <chr>, WKHP <chr>,
## #   WKL <int>, WKW <int>, WRK <int>, YOEP <int>, ANC <int>, ANC1P <chr>,
## #   ANC2P <chr>, DECADE <int>, DIS <int>, DRIVESP <int>, ESP <int>,
## #   ESR <int>, FHICOVP <int>, FOD1P <int>, FOD2P <int>, HICOV <int>,
## #   HISP <chr>, INDP <chr>, JWAP <chr>, JWDP <chr>, LANP <int>,
## #   MIGPUMA <chr>, MIGSP <chr>, MSP <int>, NAICSP <chr>, NATIVITY <int>,
## #   NOP <int>, OC <int>, OCCP <chr>, PAOC <int>, PERNP <chr>, PINCP <chr>,
## #   POBP <chr>, POVPIP <chr>, POWPUMA <chr>, POWSP <chr>, PRIVCOV <int>,
## #   PUBCOV <int>, QTRBIR <int>, ...
\end{verbatim}

\section{\texorpdfstring{\texttt{dplyr}}{dplyr}}\label{dplyr}

Using the data dictionary we can identify some interesting variables.

\begin{verbatim}
PERSON RECORD

RT      1   
    Record Type     
        P .Person Record

AGEP        2   
    Age
        00  .Under 1 year   
        01..99  .1 to 99 years (Top-coded***)

COW     1   
    Class of worker
        b .N/A (less than 16 years old/NILF who last
          .worked more than 5 years ago or never worked)
        1 .Employee of a private for-profit company or
          .business, or of an individual, for wages,
          .salary, or commissions
        2 .Employee of a private not-for-profit,
          .tax-exempt, or charitable organization
        3 .Local government employee (city, county, etc.)
        4 .State government employee
        5 .Federal government employee
        6 .Self-employed in own not incorporated
          .business, professional practice, or farm
        7 .Self-employed in own incorporated
          .business, professional practice or farm
        8 .Working without pay in family business or farm
        9 .Unemployed and last worked 5 years ago or earlier or never
                  .worked
        
SCHL        2   
    Educational attainment
        bb .N/A (less than 3 years old)
        01 .No schooling completed
        02 .Nursery school, preschool   
        03 .Kindergarten
        04 .Grade 1
        05 .Grade 2
        06 .Grade 3     
        07 .Grade 4
        08 .Grade 5
        09 .Grade 6
        10 .Grade 7     
        11 .Grade 8  
        12 .Grade 9
        13 .Grade 10
        14 .Grade 11        
        15 .12th grade - no diploma   
        16 .Regular high school diploma
        17 .GED or alternative credential
        18 .Some college, but less than 1 year
        19 .1 or more years of college credit, no degree
        20 .Associate's degree      
        21 .Bachelor's degree
        22 .Master's degree
        23 .Professional degree beyond a bachelor's degree
        24 .Doctorate degree
        
WAGP        6   
    Wages or salary income past 12 months
        bbbbbb      .N/A (less than 15 years old)
        000000      .None
        000001..999999  .$1 to 999999 (Rounded and top-coded)

Note: Use ADJINC to adjust WAGP to constant dollars.


WKHP        2   
    Usual hours worked per week past 12 months
        bb   .N/A (less than 16 years old/did not work 
             .during the past 12 months)
        01..98   .1 to 98 usual hours
        99   .99 or more usual hours
        
WKW     1   
    Weeks worked during past 12 months
        b .N/A (less than 16 years old/did not work 
          .during the past 12 months)
        1 .50 to 52 weeks worked during past 12 months
        2 .48 to 49 weeks worked during past 12 months
        3 .40 to 47 weeks worked during past 12 months
        4 .27 to 39 weeks worked during past 12 months
        5 .14 to 26 weeks worked during past 12 months 
        6 .less than 14 weeks worked during past 12 months
        
ESR     1   
    Employment status recode
        b .N/A (less than 16 years old)
        1 .Civilian employed, at work
        2 .Civilian employed, with a job but not at work
        3 .Unemployed
        4 .Armed forces, at work
        5 .Armed forces, with a job but not at work
        6 .Not in labor force
        
PERNP       7   
    Total person's earnings
        bbbbbbb         .N/A (less than 15 years old)
        0000000         .No earnings
        -010000         .Loss of $10000 or more (Rounded & bottom-coded 
                        .components) 
        -000001..-009999    .Loss $1 to $9999 (Rounded components)
        0000001         .$1 or break even
        0000002..9999999    .$2 to $9999999 (Rounded & top-coded components)
        
Note: Use ADJINC to adjust PERNP to constant dollars.

PINCP       7   
    Total person's income (signed)
        bbbbbbb         .N/A (less than 15 years old)
        0000000         .None
        -019999         .Loss of $19999 or more (Rounded & bottom-coded 
                        .components) 
        -000001..-019998    .Loss $1 to $19998 (Rounded components)
        0000001         .$1 or break even
        0000002..9999999    .$2 to $9999999 (Rounded & top-coded components)
            
Note: Use ADJINC to adjust PINCP to constant dollars.
\end{verbatim}

Let's focus on employed civilians (ESR either 1 or 2) working full time
(WKHP \textgreater{} 32) for close to the entire year (WKW either 1 or
2).

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(dplyr) }\CommentTok{# also in library(tidyverse)}
\NormalTok{pop_hi <-}\StringTok{ }\NormalTok{pop_hi %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(}
    \NormalTok{ESR %in%}\StringTok{ }\KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{),}
    \KeywordTok{as.numeric}\NormalTok{(WKHP) >}\StringTok{ }\DecValTok{32}\NormalTok{,}
    \NormalTok{WKW %in%}\StringTok{ }\KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{)}
  \NormalTok{)}
\end{Highlighting}
\end{Shaded}

If you are unsure if a column that you want to treat as numeric contains
letters, you can run the following command to get a list of the values
containing letters:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{grep}\NormalTok{(}\StringTok{"[[:alpha:]]"}\NormalTok{, pop_hi$WKHP, }\DataTypeTok{value =} \OtherTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## character(0)
\end{verbatim}

We can use two functions to add new columns (or change existing ones).

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{mutate()} adds columns and keeps the previous columns
\item
  \texttt{transmute()} adds columns and removes the previous columns
\end{enumerate}

This time we want to drop the columns we don't mention.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pop_hi <-}\StringTok{ }\NormalTok{pop_hi %>%}
\StringTok{  }\KeywordTok{transmute}\NormalTok{(}
    \DataTypeTok{age =} \KeywordTok{as.numeric}\NormalTok{(AGEP),}
    \DataTypeTok{worker_class =} \KeywordTok{factor}\NormalTok{(COW, }\DataTypeTok{labels =} \KeywordTok{c}\NormalTok{(}
      \StringTok{"for-profit"}\NormalTok{,}
      \StringTok{"not-for-profit"}\NormalTok{,}
      \StringTok{"local government"}\NormalTok{,}
      \StringTok{"state government"}\NormalTok{,}
      \StringTok{"federal government"}\NormalTok{,}
      \StringTok{"self-employed not incorporated"}\NormalTok{,}
      \StringTok{"self-employed incorporated"}\NormalTok{,}
      \StringTok{"family business no pay"}
    \NormalTok{)),}
    \DataTypeTok{school =} \NormalTok{SCHL,}
    \DataTypeTok{wages =} \KeywordTok{as.numeric}\NormalTok{(WAGP),}
    \DataTypeTok{top_coded_wages =} \NormalTok{WAGP ==}\StringTok{ }\DecValTok{999999}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Creating a custom factor variable for educational attainment:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{education_levels <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"less than HS"}\NormalTok{, }\StringTok{"HS"}\NormalTok{, }\StringTok{"associates"}\NormalTok{, }\StringTok{"bachelors"}\NormalTok{, }\StringTok{"masters"}\NormalTok{, }\StringTok{"doctorate"}\NormalTok{)}

\NormalTok{pop_hi$education <-}\StringTok{ }\OtherTok{NA}
\NormalTok{pop_hi[pop_hi$school <}\StringTok{ }\DecValTok{16}\NormalTok{,]$education <-}\StringTok{ "less than HS"}
\NormalTok{pop_hi[pop_hi$school >}\StringTok{ }\DecValTok{16} \NormalTok{&}\StringTok{ }\NormalTok{pop_hi$school <}\StringTok{ }\DecValTok{20}\NormalTok{,]$education <-}\StringTok{ "HS"}
\NormalTok{pop_hi[pop_hi$school ==}\StringTok{ }\DecValTok{20}\NormalTok{,]$education <-}\StringTok{ "associates"}
\NormalTok{pop_hi[pop_hi$school ==}\StringTok{ }\DecValTok{21}\NormalTok{,]$education <-}\StringTok{ "bachelors"}
\NormalTok{pop_hi[pop_hi$school %in%}\StringTok{ }\KeywordTok{c}\NormalTok{(}\DecValTok{22}\NormalTok{, }\DecValTok{23}\NormalTok{),]$education <-}\StringTok{ "masters"}
\NormalTok{pop_hi[pop_hi$school ==}\StringTok{ }\DecValTok{24}\NormalTok{,]$education <-}\StringTok{ "doctorate"}

\NormalTok{pop_hi <-}\StringTok{ }\NormalTok{pop_hi %>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{education =} \KeywordTok{factor}\NormalTok{(education, }\DataTypeTok{levels =} \NormalTok{education_levels))}
\end{Highlighting}
\end{Shaded}

\section{\texorpdfstring{First Look at
\texttt{ggplot2}}{First Look at ggplot2}}\label{first-look-at-ggplot2}

See the \href{ggplot2.tidyverse.org/reference/}{ggplot2 documentation}
for details and inspiration.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(ggplot2) }\CommentTok{# also in library(tidyverse)}
\KeywordTok{ggplot}\NormalTok{(pop_hi, }\KeywordTok{aes}\NormalTok{(age, wages)) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-21-1.pdf}

Income has a skewed distribution, so it is often presented/analyzed in
logs. Here's how to modify the above chart to display income in logs:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pop_hi <-}\StringTok{ }\NormalTok{pop_hi %>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{log_safe_wages =} \KeywordTok{ifelse}\NormalTok{(wages ==}\StringTok{ }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, wages))}
\NormalTok{pop_hi %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(age, log_safe_wages)) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{() +}
\StringTok{  }\KeywordTok{scale_y_log10}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-22-1.pdf}

\section{Heatmaps}\label{heatmaps}

Heatmaps allow you to get a sense of the concetration of observations in
regions where there are many overlapping points:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{ggplot}\NormalTok{(pop_hi, }\KeywordTok{aes}\NormalTok{(age, log_safe_wages)) +}
\StringTok{  }\KeywordTok{geom_bin2d}\NormalTok{() +}
\StringTok{  }\KeywordTok{scale_y_log10}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-23-1.pdf}

\section{Hexbins}\label{hexbins}

Hexbins use hexagons instead of squares, which helps avoid the
rectangular sections in heatmaps that may misrepresent your data.

You will need to install the \texttt{hexbin} package.

\begin{verbatim}
install.packages("hexbin")
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pop_hi %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(wages >}\StringTok{ }\DecValTok{10000}\NormalTok{, wages <}\StringTok{ }\DecValTok{300000}\NormalTok{) %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(age, wages)) +}
\StringTok{  }\KeywordTok{geom_hex}\NormalTok{() +}\StringTok{ }
\StringTok{  }\KeywordTok{scale_x_log10}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-24-1.pdf}

Here we can see that inequality in wages for workers increases with age.

\section{Other topics from this
dataset}\label{other-topics-from-this-dataset}

This dataset includes information on the majors for degree holders and
the industry codes. You could use that additional information to ask how
well targeted majors are to particular industries and how incomes vary
across choice of major. Because of the size of the data in the Hawaii
sample, it would be better to ask some of these questions at the
national level.

Go to the
\href{https://www.census.gov/programs-surveys/acs/technical-documentation/pums/documentation.2015.html}{ACS
PUMS documentation page} for more information.

\section{Assignment}\label{assignment-1}

Choose another pair of variables from the data dictionary and visualize
them with a scatterplot, a heatmap, and a hexbin plot.

\hypertarget{facets-and-bubbles}{\chapter{Facets, Bubbles, and
Transparency}\label{facets-and-bubbles}}

\section{Data}\label{data}

For this session, we'll explore the Hawaii Tourism Authority (HTA)
\href{http://www.hawaiitourismauthority.org/research/research/infrastructure-research/}{Air
Seat Projection}. I'll be working with the
\href{http://www.hawaiitourismauthority.org/default/assets/File/2017\%20Air\%20Seat\%20Forecast\%20rev\%200617.xls}{Air
Seat Projection for 2017 (revised 06/17)}. Feel free to download the
latest available.

\subsection{Importing non-standard Excel
files}\label{importing-non-standard-excel-files}

The first steps in preparing a non-standard Excel file are (1) identify
how many rows to skip and (2) provide column names if the column names
are not neatly contained in a single row. You may also want to set the
\texttt{range} if there is metadata at the end of the table you are
importing. \texttt{range} overrides any \texttt{skip} setting, so we
wont have to specify the number of rows to skip.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(readxl)}
\NormalTok{seats <-}\StringTok{ }\KeywordTok{read_excel}\NormalTok{(}\StringTok{"data/2017 Air Seat Forecast rev 0617.xls"}\NormalTok{, }\DataTypeTok{col_names =} \KeywordTok{c}\NormalTok{(}
  \StringTok{"dep_city"}\NormalTok{, }
  \StringTok{"seats2017Q1"}\NormalTok{, }\StringTok{"seats2017Q2"}\NormalTok{, }\StringTok{"seats2017Q3"}\NormalTok{, }\StringTok{"seats2017Q4"}\NormalTok{, }\StringTok{"seats2017"}\NormalTok{, }
  \StringTok{"seats2016Q1"}\NormalTok{, }\StringTok{"seats2016Q2"}\NormalTok{, }\StringTok{"seats2016Q3"}\NormalTok{, }\StringTok{"seats2016Q4"}\NormalTok{, }\StringTok{"seats2016"}\NormalTok{,}
  \StringTok{"seatschangeQ1"}\NormalTok{, }\StringTok{"seatschangeQ2"}\NormalTok{, }\StringTok{"seatschangeQ3"}\NormalTok{, }\StringTok{"seatschangeQ4"}\NormalTok{, }\StringTok{"seatschange"}
\NormalTok{), }\DataTypeTok{range =} \StringTok{"A5:P78"}\NormalTok{)}
\NormalTok{seats}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 74 x 16
##     dep_city seats2017Q1 seats2017Q2 seats2017Q3 seats2017Q4 seats2017
##        <chr>       <dbl>       <dbl>       <dbl>       <dbl>     <dbl>
##  1     TOTAL     2987920     3016376     3168233     3050112  12222641
##  2 SCHEDULED     2966915     2996155     3140998     3029794  12133862
##  3  CHARTERS       21005       20221       27235       20318     88779
##  4      <NA>          NA          NA          NA          NA        NA
##  5  US TOTAL     1996549     2108969     2215424     2071513   8392455
##  6 SCHEDULED     1978616     2091981     2200195     2055171   8325963
##  7  CHARTERS       17933       16988       15229       16342     66492
##  8      <NA>          NA          NA          NA          NA        NA
##  9   US WEST     1717254     1837080     1943653     1817441   7315428
## 10 Anchorage       25758       15105       13674       17013     71550
## # ... with 64 more rows, and 10 more variables: seats2016Q1 <dbl>,
## #   seats2016Q2 <dbl>, seats2016Q3 <dbl>, seats2016Q4 <dbl>,
## #   seats2016 <dbl>, seatschangeQ1 <dbl>, seatschangeQ2 <chr>,
## #   seatschangeQ3 <chr>, seatschangeQ4 <dbl>, seatschange <dbl>
\end{verbatim}

Let's add a region identifier

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(dplyr)}
\NormalTok{us_west_range <-}\StringTok{ }\DecValTok{10}\NormalTok{:}\DecValTok{23}
\NormalTok{us_east_range <-}\StringTok{ }\DecValTok{26}\NormalTok{:}\DecValTok{33}
\NormalTok{japan_range <-}\StringTok{ }\DecValTok{40}\NormalTok{:}\DecValTok{45}
\NormalTok{canada_range <-}\StringTok{ }\DecValTok{48}\NormalTok{:}\DecValTok{52}
\NormalTok{other_asia_range <-}\DecValTok{55}\NormalTok{:}\DecValTok{58}
\NormalTok{oceania_range <-}\StringTok{ }\DecValTok{61}\NormalTok{:}\DecValTok{64}
\NormalTok{other_range <-}\StringTok{ }\DecValTok{67}\NormalTok{:}\DecValTok{74}

\NormalTok{seats$region <-}\StringTok{ }\OtherTok{NA}
\NormalTok{seats[us_west_range,]$region <-}\StringTok{ "US West"}
\NormalTok{seats[us_east_range,]$region <-}\StringTok{ "US East"}
\NormalTok{seats[japan_range,]$region <-}\StringTok{ "Japan"}
\NormalTok{seats[canada_range,]$region <-}\StringTok{ "Canada"}
\NormalTok{seats[other_asia_range,]$region <-}\StringTok{ "Other Asia"}
\NormalTok{seats[oceania_range,]$region <-}\StringTok{ "Oceania"}
\NormalTok{seats[other_range,]$region <-}\StringTok{ "Other"}

\NormalTok{seats <-}\StringTok{ }\NormalTok{seats %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(!}\KeywordTok{is.na}\NormalTok{(region))}
\NormalTok{seats}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 49 x 17
##          dep_city seats2017Q1 seats2017Q2 seats2017Q3 seats2017Q4
##             <chr>       <dbl>       <dbl>       <dbl>       <dbl>
##  1      Anchorage       25758       15105       13674       17013
##  2     Bellingham       10198         318          NA        6519
##  3         Denver       55803       51654       52585       43290
##  4      Las Vegas       70514       74322       75839       75415
##  5    Los Angeles      548935      647498      715338      647703
##  6        Oakland       84571      104810      116015       90703
##  7        Phoenix      113046      115125      125348      108863
##  8       Portland       90207       71068       65997       81673
##  9     Sacramento       37620       38318       38456       38456
## 10 Salt Lake City       26370       23751       22968       28322
## # ... with 39 more rows, and 12 more variables: seats2017 <dbl>,
## #   seats2016Q1 <dbl>, seats2016Q2 <dbl>, seats2016Q3 <dbl>,
## #   seats2016Q4 <dbl>, seats2016 <dbl>, seatschangeQ1 <dbl>,
## #   seatschangeQ2 <chr>, seatschangeQ3 <chr>, seatschangeQ4 <dbl>,
## #   seatschange <dbl>, region <chr>
\end{verbatim}

\section{Facets}\label{facets}

Let's do a simple plot comparing 2017 seats outlook to the 2016 seats
outlook.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(ggplot2)}
\NormalTok{seats %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(seats2016, seats2017)) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-28-1.pdf}

The distribution of this data looks like a good candidate for using the
log scale (high concentration in lower values and lower concentration in
higher values).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{seats %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(seats2016, seats2017)) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{() +}
\StringTok{  }\KeywordTok{scale_x_log10}\NormalTok{() +}
\StringTok{  }\KeywordTok{scale_y_log10}\NormalTok{() +}\StringTok{ }
\StringTok{  }\KeywordTok{geom_abline}\NormalTok{(}\DataTypeTok{lty =} \DecValTok{2}\NormalTok{) }\CommentTok{# dashed line type (lty)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-29-1.pdf}

Since we have region identifiers it would be nice to divide our data and
see charts of each region side-by-side. Facets allow us to make multiple
charts based on a variable or set of variables.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{seats %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(seats2016, seats2017)) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{() +}
\StringTok{  }\KeywordTok{scale_x_log10}\NormalTok{() +}
\StringTok{  }\KeywordTok{scale_y_log10}\NormalTok{() +}\StringTok{ }
\StringTok{  }\KeywordTok{geom_abline}\NormalTok{(}\DataTypeTok{lty =} \DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{facet_wrap}\NormalTok{(~}\StringTok{ }\NormalTok{region) +}
\StringTok{  }\KeywordTok{coord_fixed}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-30-1.pdf}

An alternative representation is to present each region using color:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{seats %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(seats2016, seats2017, }\DataTypeTok{color =} \NormalTok{region, }\DataTypeTok{label =} \NormalTok{dep_city)) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{() +}
\StringTok{  }\KeywordTok{scale_x_log10}\NormalTok{() +}
\StringTok{  }\KeywordTok{scale_y_log10}\NormalTok{() +}\StringTok{ }
\StringTok{  }\KeywordTok{geom_abline}\NormalTok{(}\DataTypeTok{lty =} \DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_text}\NormalTok{(}\DataTypeTok{check_overlap =} \OtherTok{TRUE}\NormalTok{, }\DataTypeTok{nudge_y =} \FloatTok{0.1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-31-1.pdf}

\section{Bubbles}\label{bubbles}

Bubble charts are scatter plots (geom\_point) with points that vary in
size corresponding to the value of a given variable. Let's create a
measure of the size of a city's seats relative to its regional total.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{seats <-}\StringTok{ }\NormalTok{seats %>%}
\StringTok{  }\KeywordTok{group_by}\NormalTok{(region) %>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{proportion_of_region =} \NormalTok{seats2017/}\KeywordTok{sum}\NormalTok{(seats2017))}
\NormalTok{seats}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 49 x 18
## # Groups:   region [7]
##          dep_city seats2017Q1 seats2017Q2 seats2017Q3 seats2017Q4
##             <chr>       <dbl>       <dbl>       <dbl>       <dbl>
##  1      Anchorage       25758       15105       13674       17013
##  2     Bellingham       10198         318          NA        6519
##  3         Denver       55803       51654       52585       43290
##  4      Las Vegas       70514       74322       75839       75415
##  5    Los Angeles      548935      647498      715338      647703
##  6        Oakland       84571      104810      116015       90703
##  7        Phoenix      113046      115125      125348      108863
##  8       Portland       90207       71068       65997       81673
##  9     Sacramento       37620       38318       38456       38456
## 10 Salt Lake City       26370       23751       22968       28322
## # ... with 39 more rows, and 13 more variables: seats2017 <dbl>,
## #   seats2016Q1 <dbl>, seats2016Q2 <dbl>, seats2016Q3 <dbl>,
## #   seats2016Q4 <dbl>, seats2016 <dbl>, seatschangeQ1 <dbl>,
## #   seatschangeQ2 <chr>, seatschangeQ3 <chr>, seatschangeQ4 <dbl>,
## #   seatschange <dbl>, region <chr>, proportion_of_region <dbl>
\end{verbatim}

Now we can modify the chart to show the importance of each city in the
context of its region.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{seats %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(region %in%}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"US West"}\NormalTok{, }\StringTok{"US East"}\NormalTok{)) %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(seats2016, seats2017, }\DataTypeTok{color =} \NormalTok{region, }\DataTypeTok{label =} \NormalTok{dep_city)) +}
\StringTok{  }\KeywordTok{geom_abline}\NormalTok{(}\DataTypeTok{lty =} \DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{size =} \NormalTok{proportion_of_region)) +}
\StringTok{  }\KeywordTok{scale_x_log10}\NormalTok{(}\DataTypeTok{labels =} \NormalTok{scales::comma) +}
\StringTok{  }\KeywordTok{scale_y_log10}\NormalTok{(}\DataTypeTok{labels =} \NormalTok{scales::comma) +}\StringTok{ }
\StringTok{  }\KeywordTok{geom_text}\NormalTok{(}\DataTypeTok{check_overlap =} \OtherTok{TRUE}\NormalTok{, }\DataTypeTok{nudge_y =} \FloatTok{0.1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-33-1.pdf}

\section{Transparency}\label{transparency}

We can also use transparency (or alpha) to make less important points
less visible. We do this by setting the \texttt{alpha} aesthetic. Let's
try adding the alpha setting to the \texttt{geom\_point()} call first.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{seats %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(region %in%}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"US West"}\NormalTok{, }\StringTok{"US East"}\NormalTok{)) %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(seats2016, seats2017, }\DataTypeTok{color =} \NormalTok{region, }\DataTypeTok{label =} \NormalTok{dep_city)) +}
\StringTok{  }\KeywordTok{geom_abline}\NormalTok{(}\DataTypeTok{lty =} \DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{size =} \NormalTok{proportion_of_region, }\DataTypeTok{alpha =} \NormalTok{proportion_of_region)) +}
\StringTok{  }\KeywordTok{scale_x_log10}\NormalTok{(}\DataTypeTok{labels =} \NormalTok{scales::comma) +}
\StringTok{  }\KeywordTok{scale_y_log10}\NormalTok{(}\DataTypeTok{labels =} \NormalTok{scales::comma) +}\StringTok{ }
\StringTok{  }\KeywordTok{geom_text}\NormalTok{(}\DataTypeTok{check_overlap =} \OtherTok{TRUE}\NormalTok{, }\DataTypeTok{nudge_y =} \FloatTok{0.1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-34-1.pdf}

Let's add the alpha to the ggplot-level aesthetic instead, so that it
also affects the text labels.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{seats %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(region %in%}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"US West"}\NormalTok{, }\StringTok{"US East"}\NormalTok{)) %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(seats2016, seats2017, }\DataTypeTok{color =} \NormalTok{region, }\DataTypeTok{label =} \NormalTok{dep_city, }\DataTypeTok{alpha =} \NormalTok{proportion_of_region)) +}
\StringTok{  }\KeywordTok{geom_abline}\NormalTok{(}\DataTypeTok{lty =} \DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{size =} \NormalTok{proportion_of_region)) +}
\StringTok{  }\KeywordTok{scale_x_log10}\NormalTok{(}\DataTypeTok{labels =} \NormalTok{scales::comma) +}
\StringTok{  }\KeywordTok{scale_y_log10}\NormalTok{(}\DataTypeTok{labels =} \NormalTok{scales::comma) +}\StringTok{ }
\StringTok{  }\KeywordTok{geom_text}\NormalTok{(}\DataTypeTok{nudge_y =} \FloatTok{0.1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-35-1.pdf}

We can combine all the regions now and use transparency to help us see
how many cities are in the same area on the plot by how dark a region
is.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{seats %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(seats2016, seats2017, }\DataTypeTok{label =} \NormalTok{dep_city, }\DataTypeTok{alpha =} \NormalTok{proportion_of_region)) +}
\StringTok{  }\KeywordTok{geom_abline}\NormalTok{(}\DataTypeTok{lty =} \DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{size =} \NormalTok{proportion_of_region)) +}
\StringTok{  }\KeywordTok{scale_x_log10}\NormalTok{(}\DataTypeTok{labels =} \NormalTok{scales::comma) +}
\StringTok{  }\KeywordTok{scale_y_log10}\NormalTok{(}\DataTypeTok{labels =} \NormalTok{scales::comma) +}\StringTok{ }
\StringTok{  }\KeywordTok{geom_text}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{color =} \NormalTok{region), }\DataTypeTok{hjust =} \StringTok{"right"}\NormalTok{, }\DataTypeTok{vjust =} \StringTok{"center"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-36-1.pdf}

Let's use facets so we can combine everything we've done so far.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{seats %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(seats2016, seats2017, }\DataTypeTok{label =} \NormalTok{dep_city, }\DataTypeTok{alpha =} \NormalTok{proportion_of_region)) +}
\StringTok{  }\KeywordTok{geom_abline}\NormalTok{(}\DataTypeTok{lty =} \DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{size =} \NormalTok{proportion_of_region), }\DataTypeTok{color =} \StringTok{"darkblue"}\NormalTok{) +}
\StringTok{  }\KeywordTok{scale_x_log10}\NormalTok{(}\DataTypeTok{labels =} \NormalTok{scales::comma) +}
\StringTok{  }\KeywordTok{scale_y_log10}\NormalTok{(}\DataTypeTok{labels =} \NormalTok{scales::comma) +}\StringTok{ }
\StringTok{  }\KeywordTok{geom_text}\NormalTok{(}\DataTypeTok{hjust =} \StringTok{"right"}\NormalTok{, }\DataTypeTok{vjust =} \StringTok{"center"}\NormalTok{, }\DataTypeTok{nudge_x =} \NormalTok{-}\FloatTok{0.3}\NormalTok{) +}
\StringTok{  }\KeywordTok{facet_wrap}\NormalTok{(~}\StringTok{ }\NormalTok{region)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-37-1.pdf}

\section{Assignment}\label{assignment-2}

Create a bubble plot highlighting the change in year-on-year growth
rates for different quarters. Plot \texttt{seatschangeQ3} on the x axis
and \texttt{seatschangeQ4} on the y axis. Use \texttt{seats2017} to
determine the size of each bubble. Facet by region.

\chapter{Lines and Curves}\label{lines-and-curves}

\section{Data}\label{data-1}

We will use data on the number of active duty personnel in Hawaii. The
first dataset is an Excel file pulled from the State of Hawaii
Department of Business, Economic Development, and Tourism (DBEDT)
\href{http://dbedt.hawaii.gov/economic/databook/2015-individual/}{2015
State of Hawaii Data Book}. See the line listed as, ``10.03 - Active
Duty Personnel, by Service: 1953 to 2015.'' The data is originally from
the \href{www.dmdc.osd.mil/appj/dwp/stats_reports.jsp}{US Defense
Manpower Data Center}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(readxl)}
\NormalTok{if(}\StringTok{"package:dplyr"} \NormalTok{%in%}\StringTok{ }\KeywordTok{search}\NormalTok{()) }\KeywordTok{detach}\NormalTok{(}\StringTok{"package:dplyr"}\NormalTok{, }\DataTypeTok{unload=}\OtherTok{TRUE}\NormalTok{)}
\KeywordTok{library}\NormalTok{(dplyr)}
\KeywordTok{library}\NormalTok{(magrittr)}
\NormalTok{mil_personnel <-}\StringTok{ }\KeywordTok{read_excel}\NormalTok{(}\StringTok{"data/100315.xls"}\NormalTok{, }\DataTypeTok{range =} \StringTok{"A5:L38"}\NormalTok{, }\DataTypeTok{col_types =} \StringTok{"numeric"}\NormalTok{)}
\NormalTok{mil_personnel <-}\StringTok{ }\KeywordTok{bind_rows}\NormalTok{(}
  \NormalTok{mil_personnel %>%}\StringTok{ }\KeywordTok{select}\NormalTok{(}\DecValTok{1}\NormalTok{:}\DecValTok{6}\NormalTok{) %>%}\StringTok{ }\KeywordTok{set_colnames}\NormalTok{(}\KeywordTok{c}\NormalTok{(}\StringTok{"Year"}\NormalTok{, }\StringTok{"Total"}\NormalTok{, }\StringTok{"Army"}\NormalTok{, }\StringTok{"Navy"}\NormalTok{, }\StringTok{"Marine Corps"}\NormalTok{, }\StringTok{"Air Force"}\NormalTok{)),}
  \NormalTok{mil_personnel %>%}\StringTok{ }\KeywordTok{select}\NormalTok{(}\DecValTok{7}\NormalTok{:}\DecValTok{12}\NormalTok{) %>%}\StringTok{ }\KeywordTok{set_colnames}\NormalTok{(}\KeywordTok{c}\NormalTok{(}\StringTok{"Year"}\NormalTok{, }\StringTok{"Total"}\NormalTok{, }\StringTok{"Army"}\NormalTok{, }\StringTok{"Navy"}\NormalTok{, }\StringTok{"Marine Corps"}\NormalTok{, }\StringTok{"Air Force"}\NormalTok{))}
\NormalTok{)}
\NormalTok{mil_personnel}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 66 x 6
##     Year Total  Army  Navy `Marine Corps` `Air Force`
##    <dbl> <dbl> <dbl> <dbl>          <dbl>       <dbl>
##  1    NA    NA    NA    NA             NA          NA
##  2  1953 24785  5872  7657           6040        5216
##  3  1954 23654  7957  6443           4155        5099
##  4  1955 40258 19821  5211           9677        5549
##  5  1956 37470 16531  5237           9490        6212
##  6  1957 40683 17511  5466           9608        8098
##  7  1958 35076 14672  4908           8670        6826
##  8  1959 36310 15438  5309           8470        7093
##  9  1960 35412 15492  5687           7756        6477
## 10  1961 39474 16945  5774           9679        7076
## # ... with 56 more rows
\end{verbatim}

Notice that the \texttt{Year} 2015 was turned into \texttt{NA}. This
happened because the value in the corresponding cell was `2/ 2015'.
Let's remove the final row of \texttt{NA}s and replace the remaining
\texttt{NA} with 2015.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mil_personnel <-}\StringTok{ }\NormalTok{mil_personnel %>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(!}\KeywordTok{is.na}\NormalTok{(Total))}
\NormalTok{mil_personnel[}\KeywordTok{is.na}\NormalTok{(mil_personnel$Year),]$Year <-}\StringTok{ }\DecValTok{2015}
\NormalTok{mil_personnel}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 63 x 6
##     Year Total  Army  Navy `Marine Corps` `Air Force`
##    <dbl> <dbl> <dbl> <dbl>          <dbl>       <dbl>
##  1  1953 24785  5872  7657           6040        5216
##  2  1954 23654  7957  6443           4155        5099
##  3  1955 40258 19821  5211           9677        5549
##  4  1956 37470 16531  5237           9490        6212
##  5  1957 40683 17511  5466           9608        8098
##  6  1958 35076 14672  4908           8670        6826
##  7  1959 36310 15438  5309           8470        7093
##  8  1960 35412 15492  5687           7756        6477
##  9  1961 39474 16945  5774           9679        7076
## 10  1962 41657 17645  6664           9903        7445
## # ... with 53 more rows
\end{verbatim}

\section{geom\_smooth}\label{geom_smooth}

\texttt{geom\_smooth} allows you to have smooth lines appear in your
chart. With no argument, it will choose \texttt{loess} for series
shorter than 1,000 observations. It shows a shaded confidence interval.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(ggplot2)}
\NormalTok{mil_personnel %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(Year, Total)) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{() +}
\StringTok{  }\KeywordTok{geom_smooth}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-41-1.pdf}

Here's what it looks like if we fit a linear model instead:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mil_personnel %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(Year, Total)) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{() +}
\StringTok{  }\KeywordTok{geom_smooth}\NormalTok{(}\DataTypeTok{method =} \StringTok{"lm"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-42-1.pdf}

We can also just have a line chart that connects the points:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mil_personnel %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(Year, Total)) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{() +}
\StringTok{  }\KeywordTok{geom_line}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-43-1.pdf}

\section{geom\_abline}\label{geom_abline}

\texttt{geom\_abline} allows you to display lines with a specific
intercept and slope. If no intercept or slope is provided, a 45-degree
line will be shown.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x =}\StringTok{ }\KeywordTok{rnorm}\NormalTok{(}\DecValTok{100}\NormalTok{)}
\NormalTok{y =}\StringTok{ }\FloatTok{2.5} \NormalTok{+}\StringTok{ }\FloatTok{1.2} \NormalTok{*}\StringTok{ }\NormalTok{x +}\StringTok{ }\KeywordTok{rnorm}\NormalTok{(}\DecValTok{100}\NormalTok{)}
\NormalTok{test_data <-}\StringTok{ }\KeywordTok{data_frame}\NormalTok{(x, y)}

\NormalTok{test_data %>%}\StringTok{ }
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(x, y)) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{() +}
\StringTok{  }\KeywordTok{xlim}\NormalTok{(-}\DecValTok{2}\NormalTok{, }\DecValTok{6}\NormalTok{) +}\StringTok{ }\KeywordTok{ylim}\NormalTok{(-}\DecValTok{2}\NormalTok{, }\DecValTok{6}\NormalTok{) +}
\StringTok{  }\KeywordTok{coord_fixed}\NormalTok{() +}
\StringTok{  }\KeywordTok{geom_abline}\NormalTok{() }
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-44-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{test_data %>%}\StringTok{ }
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(x, y)) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{() +}
\StringTok{  }\KeywordTok{xlim}\NormalTok{(-}\DecValTok{2}\NormalTok{, }\DecValTok{6}\NormalTok{) +}\StringTok{ }\KeywordTok{ylim}\NormalTok{(-}\DecValTok{2}\NormalTok{, }\DecValTok{6}\NormalTok{) +}
\StringTok{  }\KeywordTok{coord_fixed}\NormalTok{() +}
\StringTok{  }\KeywordTok{geom_abline}\NormalTok{() +}
\StringTok{  }\KeywordTok{geom_abline}\NormalTok{(}\DataTypeTok{intercept =} \FloatTok{2.5}\NormalTok{, }\DataTypeTok{slope =} \FloatTok{1.2}\NormalTok{, }\DataTypeTok{color =} \StringTok{"red"}\NormalTok{) }
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-45-1.pdf}

\section{geom\_vline}\label{geom_vline}

\texttt{geom\_vline} allows you to draw vertical lines by specifying an
x intercept.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{test_data %>%}\StringTok{ }
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(x, y)) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{() +}
\StringTok{  }\KeywordTok{xlim}\NormalTok{(-}\DecValTok{2}\NormalTok{, }\DecValTok{6}\NormalTok{) +}\StringTok{ }\KeywordTok{ylim}\NormalTok{(-}\DecValTok{2}\NormalTok{, }\DecValTok{6}\NormalTok{) +}
\StringTok{  }\KeywordTok{coord_fixed}\NormalTok{() +}
\StringTok{  }\KeywordTok{geom_abline}\NormalTok{() +}
\StringTok{  }\KeywordTok{geom_abline}\NormalTok{(}\DataTypeTok{intercept =} \FloatTok{2.5}\NormalTok{, }\DataTypeTok{slope =} \FloatTok{1.2}\NormalTok{, }\DataTypeTok{color =} \StringTok{"red"}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_vline}\NormalTok{(}\DataTypeTok{xintercept =} \DecValTok{2}\NormalTok{, }\DataTypeTok{color =} \StringTok{"blue"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-46-1.pdf}

\section{hline}\label{hline}

\texttt{geom\_vline} allows you to draw vertical lines by specifying an
x intercept.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{test_data %>%}\StringTok{ }
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(x, y)) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{() +}
\StringTok{  }\KeywordTok{xlim}\NormalTok{(-}\DecValTok{2}\NormalTok{, }\DecValTok{6}\NormalTok{) +}\StringTok{ }\KeywordTok{ylim}\NormalTok{(-}\DecValTok{2}\NormalTok{, }\DecValTok{6}\NormalTok{) +}
\StringTok{  }\KeywordTok{coord_fixed}\NormalTok{() +}
\StringTok{  }\KeywordTok{geom_abline}\NormalTok{() +}
\StringTok{  }\KeywordTok{geom_abline}\NormalTok{(}\DataTypeTok{intercept =} \FloatTok{2.5}\NormalTok{, }\DataTypeTok{slope =} \FloatTok{1.2}\NormalTok{, }\DataTypeTok{color =} \StringTok{"red"}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_vline}\NormalTok{(}\DataTypeTok{xintercept =} \DecValTok{2}\NormalTok{, }\DataTypeTok{color =} \StringTok{"blue"}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_hline}\NormalTok{(}\DataTypeTok{yintercept =} \DecValTok{1}\NormalTok{, }\DataTypeTok{color =} \StringTok{"#4FCC53"}\NormalTok{, }\DataTypeTok{lty =} \DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-47-1.pdf}

\hypertarget{ggplot-exts}{\chapter{ggplot2
Extensions}\label{ggplot-exts}}

\section{Data}\label{data-2}

For this section, we'll look at data from the American Community Survey
(ACS) on immigration. To download the data,

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Go to the \href{https://factfinder.census.gov/}{American FactFinder
  website}.
\item
  Click on the ``Download Center'' section, then click the ``DOWNLOAD
  CENTER'' button.
\item
  Click the ``NEXT'' button, since we know the table we want to
  download.
\item
  Select ``American Community Survey'' from the Program dropdown.
\item
  Select ``2015 ACS 5-year estimates'', click the ``ADD TO YOUR
  SELECTIONS'' button, then click ``NEXT''
\item
  Select ``County - 050'' from the geographic type dropdown, then select
  ``All Counties within United States'', click the ``ADD TO YOUR
  SELECTIONS'' button, then click ``NEXT''
\item
  Type \texttt{income\ mobility} in the ``topic or table name''" search
  box, then select the option that reads:
\end{enumerate}

``B07011: MEDIAN INCOME IN THE PAST 12 MONTHS (IN 2015
INFLATION-ADJUSTED DOLLARS) BY GEOGRAPHICAL MOBILITY IN THE PAST YEAR
FOR CURRENT RESIDENCE IN THE UNITED STATES''

Click ``GO'', then check the checkbox beside the table we found. Now
click on the ``Download'' button, and uncheck the option that says,
``Include descriptive data element names.'' Click ``Ok'' to create your
zip file. Once the file has been created, click ``DOWNLOAD'' to download
the zip file.

The following will assume you moved the following files within the zip
to your \texttt{data} folder:

\begin{itemize}
\tightlist
\item
  ACS\_15\_5YR\_B07011\_with\_ann.csv
\item
  ACS\_15\_5YR\_B07011\_metadata.csv
\end{itemize}

The file \texttt{ACS\_15\_5YR\_B07011.txt} tells us how to interpret
codes within our data. It is possible for median values to be followed
by a \texttt{+} or \texttt{-} if they are in the upper or lower
open-ended interval. In our dataset we don't have any medians in the
upper open-ended interval, but we do have entries in the lower
open-ended interval.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(readr)}
\NormalTok{acs <-}\StringTok{ }\KeywordTok{read_csv}\NormalTok{(}\StringTok{"data/ACS_15_5YR_B07011_with_ann.csv"}\NormalTok{, }\DataTypeTok{col_types =} \KeywordTok{strrep}\NormalTok{(}\StringTok{"c"}\NormalTok{, }\DecValTok{15}\NormalTok{), }\DataTypeTok{na =} \KeywordTok{c}\NormalTok{(}\StringTok{"-"}\NormalTok{, }\StringTok{"(X)"}\NormalTok{))}
\NormalTok{meta <-}\StringTok{ }\KeywordTok{read_csv}\NormalTok{(}\StringTok{"data/ACS_15_5YR_B07011_metadata.csv"}\NormalTok{)}
\NormalTok{meta}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 14 x 2
##               GEO.id
##                <chr>
##  1           GEO.id2
##  2 GEO.display-label
##  3         HD01_VD02
##  4         HD02_VD02
##  5         HD01_VD03
##  6         HD02_VD03
##  7         HD01_VD04
##  8         HD02_VD04
##  9         HD01_VD05
## 10         HD02_VD05
## 11         HD01_VD06
## 12         HD02_VD06
## 13         HD01_VD07
## 14         HD02_VD07
## # ... with 1 more variables: Id <chr>
\end{verbatim}

Let's keep only the variables we care about, using more informative
variable names.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(dplyr)}
\NormalTok{acs_mobility <-}\StringTok{ }\NormalTok{acs %>%}
\StringTok{  }\KeywordTok{transmute}\NormalTok{(}
    \DataTypeTok{geo =} \StringTok{`}\DataTypeTok{GEO.display-label}\StringTok{`}\NormalTok{,}
    \DataTypeTok{same_house =} \NormalTok{HD01_VD03,}
    \DataTypeTok{same_county =} \NormalTok{HD01_VD04,}
    \DataTypeTok{same_state =} \NormalTok{HD01_VD05,}
    \DataTypeTok{same_country =} \NormalTok{HD01_VD06,}
    \DataTypeTok{different_country =} \NormalTok{HD01_VD07}
  \NormalTok{)}
\NormalTok{acs_mobility}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 1,949 x 6
##                         geo same_house same_county same_state same_country
##                       <chr>      <chr>       <chr>      <chr>        <chr>
##  1  Autauga County, Alabama      27553       18655      27643        35870
##  2  Barbour County, Alabama      17263       17363       8165        12667
##  3     Bibb County, Alabama      21489       16112       8804         <NA>
##  4   Butler County, Alabama      19499       11734      20769        23887
##  5 Chambers County, Alabama      20708       14522      21218        18516
##  6  Chilton County, Alabama      23668       20646      15739        33464
##  7     Clay County, Alabama      19201       18836      20596        11350
##  8 Cleburne County, Alabama      21888       11583      20380        16475
##  9   Coffee County, Alabama      24325       18957      11906        31702
## 10  Colbert County, Alabama      22419       18389      17330        20093
## # ... with 1,939 more rows, and 1 more variables: different_country <chr>
\end{verbatim}

Now we can add an indicator for whether the median value is in the
lowest available interval. This would mean that the median value
presented has been bottom-coded.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{acs_mobility <-}\StringTok{ }\NormalTok{acs_mobility %>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}
    \DataTypeTok{same_country_bc =} \KeywordTok{grepl}\NormalTok{(}\StringTok{"[0-9]*-"}\NormalTok{, same_country),}
    \DataTypeTok{different_country_bc =} \KeywordTok{grepl}\NormalTok{(}\StringTok{"[0-9]*-"}\NormalTok{, different_country)}
  \NormalTok{)}
\NormalTok{acs_mobility}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 1,949 x 8
##                         geo same_house same_county same_state same_country
##                       <chr>      <chr>       <chr>      <chr>        <chr>
##  1  Autauga County, Alabama      27553       18655      27643        35870
##  2  Barbour County, Alabama      17263       17363       8165        12667
##  3     Bibb County, Alabama      21489       16112       8804         <NA>
##  4   Butler County, Alabama      19499       11734      20769        23887
##  5 Chambers County, Alabama      20708       14522      21218        18516
##  6  Chilton County, Alabama      23668       20646      15739        33464
##  7     Clay County, Alabama      19201       18836      20596        11350
##  8 Cleburne County, Alabama      21888       11583      20380        16475
##  9   Coffee County, Alabama      24325       18957      11906        31702
## 10  Colbert County, Alabama      22419       18389      17330        20093
## # ... with 1,939 more rows, and 3 more variables: different_country <chr>,
## #   same_country_bc <lgl>, different_country_bc <lgl>
\end{verbatim}

Let's see how many counties have observations that are bottom coded:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{acs_mobility %>%}
\StringTok{  }\KeywordTok{summarize}\NormalTok{(}\DataTypeTok{same_country_bc =} \KeywordTok{sum}\NormalTok{(same_country_bc), }\DataTypeTok{different_country_bc =} \KeywordTok{sum}\NormalTok{(different_country_bc), }\DataTypeTok{counties =} \KeywordTok{n}\NormalTok{())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 1 x 3
##   same_country_bc different_country_bc counties
##             <int>                <int>    <int>
## 1              15                   64     1949
\end{verbatim}

Let's see what the typical bottom-coded values are:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{acs_mobility %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(same_country_bc) %>%}
\StringTok{  }\KeywordTok{select}\NormalTok{(same_country) %>%}
\StringTok{  }\KeywordTok{table}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## .
## 2,500- 
##     15
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{acs_mobility %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(different_country_bc) %>%}
\StringTok{  }\KeywordTok{select}\NormalTok{(different_country) %>%}
\StringTok{  }\KeywordTok{table}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## .
## 2,500- 
##     64
\end{verbatim}

In both cases the bottom-coded interval is the range from zero to 2,500.
Since this is a small number of counties given the entire range, let's
simply set the bottom-coded values to equal the upper-bound of their
interval (i.e., 2,500).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{acs_mobility <-}\StringTok{ }\NormalTok{acs_mobility %>%}
\StringTok{  }\KeywordTok{transmute}\NormalTok{(}
    \DataTypeTok{geo =} \NormalTok{geo,}
    \DataTypeTok{same_house =} \KeywordTok{as.integer}\NormalTok{(same_house),}
    \DataTypeTok{same_county =} \KeywordTok{as.integer}\NormalTok{(same_county),}
    \DataTypeTok{same_state =} \KeywordTok{as.integer}\NormalTok{(same_state),}
    \DataTypeTok{same_country =} \KeywordTok{if_else}\NormalTok{(same_country_bc, 2500L, }\KeywordTok{as.integer}\NormalTok{(same_country)),}
    \DataTypeTok{different_country =} \KeywordTok{if_else}\NormalTok{(different_country_bc, 2500L, }\KeywordTok{as.integer}\NormalTok{(different_country))}
  \NormalTok{)}
\NormalTok{acs_mobility}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 1,949 x 6
##                         geo same_house same_county same_state same_country
##                       <chr>      <int>       <int>      <int>        <int>
##  1  Autauga County, Alabama      27553       18655      27643        35870
##  2  Barbour County, Alabama      17263       17363       8165        12667
##  3     Bibb County, Alabama      21489       16112       8804           NA
##  4   Butler County, Alabama      19499       11734      20769        23887
##  5 Chambers County, Alabama      20708       14522      21218        18516
##  6  Chilton County, Alabama      23668       20646      15739        33464
##  7     Clay County, Alabama      19201       18836      20596        11350
##  8 Cleburne County, Alabama      21888       11583      20380        16475
##  9   Coffee County, Alabama      24325       18957      11906        31702
## 10  Colbert County, Alabama      22419       18389      17330        20093
## # ... with 1,939 more rows, and 1 more variables: different_country <int>
\end{verbatim}

Let's rearrange the data into \texttt{tidy} format (one observation per
row).

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(tidyr)}
\NormalTok{tidy_acs <-}\StringTok{ }\NormalTok{acs_mobility %>%}
\StringTok{  }\KeywordTok{gather}\NormalTok{(location_last_year, median_income, -geo, }\DataTypeTok{factor_key =} \OtherTok{TRUE}\NormalTok{)}
\NormalTok{tidy_acs}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 9,745 x 3
##                         geo location_last_year median_income
##                       <chr>             <fctr>         <int>
##  1  Autauga County, Alabama         same_house         27553
##  2  Barbour County, Alabama         same_house         17263
##  3     Bibb County, Alabama         same_house         21489
##  4   Butler County, Alabama         same_house         19499
##  5 Chambers County, Alabama         same_house         20708
##  6  Chilton County, Alabama         same_house         23668
##  7     Clay County, Alabama         same_house         19201
##  8 Cleburne County, Alabama         same_house         21888
##  9   Coffee County, Alabama         same_house         24325
## 10  Colbert County, Alabama         same_house         22419
## # ... with 9,735 more rows
\end{verbatim}

\section{ggplot2 extensions}\label{ggplot2-extensions}

There are many extensions the community have made that build on ggplot2.
The following link provides a gallery of many of these extensions:

\href{http://www.ggplot2-exts.org/gallery}{ggplot2 extensions}

Some others that are usefull are \texttt{ggjoy} and \texttt{GGally}.

\section{ggjoy}\label{ggjoy}

Make sure \texttt{ggjoy} is installed.

\begin{verbatim}
install.packages("ggjoy")
\end{verbatim}

\texttt{ggjoy} gives us the ability to stack kernel density plots.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(ggjoy)}
\KeywordTok{ggplot}\NormalTok{(tidy_acs, }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x =} \NormalTok{median_income, }\DataTypeTok{y =} \NormalTok{location_last_year, }\KeywordTok{group}\NormalTok{(location_last_year))) +}
\StringTok{  }\KeywordTok{geom_joy}\NormalTok{() +}
\StringTok{  }\KeywordTok{theme_joy}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-57-1.pdf}

This plot shows us that, on average, the distance moved in the past year
is inversely related to median income.

\section{scatterplot matrix
(GGally::ggscatmat)}\label{scatterplot-matrix-ggallyggscatmat}

Make sure you have \texttt{GGally} installed.

\begin{verbatim}
install.packages("GGally")
\end{verbatim}

One particular library, \href{http://ggobi.github.io/ggally/}{GGally},
has a great set of visualizations to extend those that come prebuilt
with \texttt{ggplot}. One common visualization tool that is missing from
ggplot is the scatterplot matrix. While base R provides \texttt{splom()}
in the \texttt{lattice} library, \texttt{GGally::ggpairs} and
\texttt{GGally::ggscatmat} pr ovide an easy tool to create a scatterplot
matrix with ggplot2.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(GGally)}
\NormalTok{acs_mobility %>%}
\StringTok{  }\KeywordTok{as.data.frame}\NormalTok{() %>%}
\StringTok{  }\KeywordTok{ggscatmat}\NormalTok{(}\DataTypeTok{columns =} \DecValTok{2}\NormalTok{:}\KeywordTok{ncol}\NormalTok{(.), }\DataTypeTok{alpha =} \FloatTok{0.1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-58-1.pdf}

\hypertarget{boxplots-and-violins}{\chapter{Boxplots and Violin
Plots}\label{boxplots-and-violins}}

Boxplots and violin plots are two important tools for visualizing the
distribution of data within a dataset. The boxplot highlights the
median, key percentiles, and outliers within a dataset. The violin plot
takes a kernel density plot, rotates it 90 degrees, then mirrors it
about the axis to create a shape that sometimes resembles a violin.

\section{Data}\label{data-3}

The Social Security Administration releases data on earnings and
employment each year. We'll take a look at the data for 2014:

\url{https://www.ssa.gov/policy/docs/statcomps/eedata_sc/2014/index.html}

We're going to download Table 1: ``Number of persons with Social
Security (OASDI) taxable earnings, amount taxable, and contributions, by
state or other area, sex, and type of earnings, 2014''

Save that file as `ssa\_earnings.xlsx' in the \texttt{data} folder

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(readxl)}
\NormalTok{ssa <-}\StringTok{ }\KeywordTok{read_xlsx}\NormalTok{(}\StringTok{"data/ssa_earnings.xlsx"}\NormalTok{, }\DataTypeTok{range =} \StringTok{"A7:J159"}\NormalTok{, }
                 \DataTypeTok{col_names =} \KeywordTok{c}\NormalTok{(}\StringTok{"state"}\NormalTok{, }\StringTok{"gender"}\NormalTok{, }\StringTok{"other"}\NormalTok{, }\StringTok{"other2"}\NormalTok{, }\StringTok{"number.total"}\NormalTok{, }\StringTok{"number.wage"}\NormalTok{, }\StringTok{"number.self"}\NormalTok{, }
                               \StringTok{"earnings.total"}\NormalTok{, }\StringTok{"earnings.wage"}\NormalTok{, }\StringTok{"earnings.self"}\NormalTok{))}
\NormalTok{ssa}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 153 x 10
##       state gender other other2 number.total number.wage number.self
##       <chr>  <chr> <lgl>  <lgl>        <dbl>       <dbl>       <dbl>
##  1  Alabama   <NA>    NA     NA      2355477     2215535      255253
##  2     <NA>    Men    NA     NA      1200468     1116458      138895
##  3     <NA>  Women    NA     NA      1155009     1099077      116357
##  4   Alaska   <NA>    NA     NA       400007      375833       47696
##  5     <NA>    Men    NA     NA       223464      209694       27884
##  6     <NA>  Women    NA     NA       176543      166140       19812
##  7  Arizona   <NA>    NA     NA      3189785     2997567      334292
##  8     <NA>    Men    NA     NA      1660088     1551488      185753
##  9     <NA>  Women    NA     NA      1529697     1446079      148539
## 10 Arkansas   <NA>    NA     NA      1468898     1376249      163320
## # ... with 143 more rows, and 3 more variables: earnings.total <dbl>,
## #   earnings.wage <dbl>, earnings.self <dbl>
\end{verbatim}

The starting format is far from ideal. Each row should represent one
group, so we don't need any of the rows with totals.

It's important to always read any footnotes and documentation that comes
with the data you plan to use. Footnote \texttt{c} for this table
indicates that individuals with both wage and salary employment will be
counted in both groups, but only once in the total. It is important to
be aware of this double counting.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(tidyr)}
\KeywordTok{library}\NormalTok{(dplyr)}
\NormalTok{ssa_long <-}\StringTok{ }\NormalTok{ssa %>%}
\StringTok{  }\KeywordTok{fill}\NormalTok{(state) %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(!}\KeywordTok{is.na}\NormalTok{(gender)) %>%}
\StringTok{  }\KeywordTok{reshape}\NormalTok{(}\DataTypeTok{varying =} \DecValTok{5}\NormalTok{:}\DecValTok{10}\NormalTok{, }\DataTypeTok{direction =} \StringTok{"long"}\NormalTok{, }\DataTypeTok{timevar =} \StringTok{"earnings_type"}\NormalTok{) %>%}
\StringTok{  }\KeywordTok{select}\NormalTok{(state, gender, earnings_type, number, earnings) %>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{per_capita =} \NormalTok{earnings /}\StringTok{ }\NormalTok{number)}
\end{Highlighting}
\end{Shaded}

\section{Boxplots}\label{boxplots}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(ggplot2)}
\NormalTok{ssa_long %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(earnings_type !=}\StringTok{ "total"}\NormalTok{) %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(gender, per_capita)) +}
\StringTok{  }\KeywordTok{geom_boxplot}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-62-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ssa_long %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(gender, per_capita, }\DataTypeTok{fill =} \NormalTok{gender)) +}
\StringTok{  }\KeywordTok{geom_boxplot}\NormalTok{() +}
\StringTok{  }\KeywordTok{facet_grid}\NormalTok{(~}\StringTok{ }\NormalTok{earnings_type)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-63-1.pdf}

\section{Violin Plots}\label{violin-plots}

Let's repeat the above plots using the violin plot type.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ssa_long %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(earnings_type !=}\StringTok{ "total"}\NormalTok{) %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(gender, per_capita)) +}
\StringTok{  }\KeywordTok{geom_violin}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-64-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ssa_long %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(gender, per_capita, }\DataTypeTok{color =} \NormalTok{gender, }\DataTypeTok{fill =} \NormalTok{gender)) +}
\StringTok{  }\KeywordTok{geom_violin}\NormalTok{() +}
\StringTok{  }\KeywordTok{facet_grid}\NormalTok{(~}\StringTok{ }\NormalTok{earnings_type)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-65-1.pdf}

\section{Dot Plots}\label{dot-plots}

Dot plots appear similar to violin plots, but dot plots may be easier to
interpret:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ssa_long %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(gender, per_capita, }\DataTypeTok{color =} \NormalTok{gender, }\DataTypeTok{fill =} \NormalTok{gender)) +}
\StringTok{  }\KeywordTok{geom_dotplot}\NormalTok{(}\DataTypeTok{binaxis =} \StringTok{"y"}\NormalTok{, }\DataTypeTok{stackdir =} \StringTok{"center"}\NormalTok{, }\DataTypeTok{position =} \StringTok{"dodge"}\NormalTok{) +}
\StringTok{  }\KeywordTok{facet_grid}\NormalTok{(~}\StringTok{ }\NormalTok{earnings_type)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-66-1.pdf}

\section{Assignment}\label{assignment-3}

Create your own visualization of the SSA data using one of the above
distribution visualizations.

\hypertarget{geom_spoke}{\chapter{Spatial
Visualizations}\label{geom_spoke}}

\section{Data}\label{data-4}

The data for this class will come from the National Oceanic and
Atmospheric Administration (NOAA) U.S. Wind Climatology datasets
(\url{https://www.ncdc.noaa.gov/societal-impacts/wind/}).

Download the files for both the u-component and the v-component of the
wind data. To open these files in R, we'll need to install the ncdf4
package, which provides an interface to Unidata's netCDF data file
format:

\begin{verbatim}
install.packages(c("ncdf4", "ncdf4.helpers", "PCICt"))
\end{verbatim}

Let's load up the u-component file first:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(ncdf4)}

\NormalTok{uwnd_nc <-}\StringTok{ }\KeywordTok{nc_open}\NormalTok{(}\StringTok{"data/uwnd.sig995.2017.nc"}\NormalTok{)}
\NormalTok{uwnd_nc}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## File data/uwnd.sig995.2017.nc (NC_FORMAT_NETCDF4_CLASSIC):
## 
##      2 variables (excluding dimension variables):
##         float uwnd[lon,lat,time]   
##             long_name: mean Daily u-wind at sigma level 995
##             units: m/s
##             precision: 2
##             least_significant_digit: 1
##             GRIB_id: 33
##             GRIB_name: UGRD
##             var_desc: u-wind
##             dataset: NCEP Reanalysis Daily Averages
##             level_desc: Surface
##             statistic: Mean
##             parent_stat: Individual Obs
##             missing_value: -9.96920996838687e+36
##             valid_range: -102.199996948242
##              valid_range: 102.199996948242
##             actual_range: -26.9250011444092
##              actual_range: 29.8999996185303
##         double time_bnds[nbnds,time]   
## 
##      4 dimensions:
##         lat  Size:73
##             units: degrees_north
##             actual_range: 90
##              actual_range: -90
##             long_name: Latitude
##             standard_name: latitude
##             axis: Y
##         lon  Size:144
##             units: degrees_east
##             long_name: Longitude
##             actual_range: 0
##              actual_range: 357.5
##             standard_name: longitude
##             axis: X
##         time  Size:198   *** is unlimited ***
##             long_name: Time
##             delta_t: 0000-00-01 00:00:00
##             standard_name: time
##             axis: T
##             units: hours since 1800-01-01 00:00:0.0
##             avg_period: 0000-00-01 00:00:00
##             coordinate_defines: start
##             actual_range: 1902192
##              actual_range: 1906920
##         nbnds  Size:2
## 
##     7 global attributes:
##         Conventions: COARDS
##         title: mean daily NMC reanalysis (2014)
##         history: created 2013/12 by Hoop (netCDF2.3)
##         description: Data is from NMC initialized reanalysis
## (4x/day).  These are the 0.9950 sigma level values.
##         platform: Model
##         References: http://www.esrl.noaa.gov/psd/data/gridded/data.ncep.reanalysis.html
##         dataset_title: NCEP-NCAR Reanalysis 1
\end{verbatim}

Let's store the uwnd observations in the netCDF file for the
u-component:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{## packages for getting nice time variables from the netCDF file}
\KeywordTok{library}\NormalTok{(ncdf4.helpers)}
\KeywordTok{library}\NormalTok{(PCICt)}
\NormalTok{## general data munging packages}
\KeywordTok{library}\NormalTok{(dplyr)}
\KeywordTok{library}\NormalTok{(tibble)}

\NormalTok{uwnd <-}\StringTok{ }\KeywordTok{ncvar_get}\NormalTok{(uwnd_nc, }\StringTok{"uwnd"}\NormalTok{)}
\NormalTok{uwnd_time <-}\StringTok{ }\KeywordTok{nc.get.time.series}\NormalTok{(uwnd_nc, }\DataTypeTok{v =} \StringTok{"uwnd"}\NormalTok{, }\DataTypeTok{time.dim.name =} \StringTok{"time"}\NormalTok{)}
\NormalTok{uwnd_lon <-}\StringTok{ }\KeywordTok{ncvar_get}\NormalTok{(uwnd_nc, }\StringTok{"lon"}\NormalTok{)}
\NormalTok{uwnd_lat <-}\StringTok{ }\KeywordTok{ncvar_get}\NormalTok{(uwnd_nc, }\StringTok{"lat"}\NormalTok{)}
\KeywordTok{nc_close}\NormalTok{(uwnd_nc)}

\NormalTok{uwnd_df <-}\StringTok{ }\NormalTok{uwnd %>%}
\StringTok{  }\KeywordTok{as.data.frame.table}\NormalTok{(}\DataTypeTok{responseName =} \StringTok{"uwnd"}\NormalTok{, }\DataTypeTok{stringsAsFactors =} \OtherTok{FALSE}\NormalTok{) %>%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\DataTypeTok{a =} \NormalTok{Var1, }\DataTypeTok{b =} \NormalTok{Var2, }\DataTypeTok{c =} \NormalTok{Var3) %>%}
\StringTok{  }\KeywordTok{cbind.data.frame}\NormalTok{(}\KeywordTok{expand.grid}\NormalTok{(uwnd_lon, uwnd_lat, uwnd_time)) %>%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\DataTypeTok{lon =} \NormalTok{Var1, }\DataTypeTok{lat =} \NormalTok{Var2, }\DataTypeTok{time =} \NormalTok{Var3) %>%}
\StringTok{  }\KeywordTok{select}\NormalTok{(lon, lat, time, uwnd) %>%}
\StringTok{  }\KeywordTok{as.tibble}\NormalTok{()}
\NormalTok{uwnd_df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 2,081,376 x 4
##      lon   lat        time        uwnd
##    <dbl> <dbl> <S3: PCICt>       <dbl>
##  1   0.0    90  2017-01-01 -2.29999971
##  2   2.5    90  2017-01-01 -1.99999964
##  3   5.0    90  2017-01-01 -1.69999957
##  4   7.5    90  2017-01-01 -1.34999967
##  5  10.0    90  2017-01-01 -1.02499962
##  6  12.5    90  2017-01-01 -0.72499961
##  7  15.0    90  2017-01-01 -0.39999962
##  8  17.5    90  2017-01-01 -0.04999962
##  9  20.0    90  2017-01-01  0.27500039
## 10  22.5    90  2017-01-01  0.60000038
## # ... with 2,081,366 more rows
\end{verbatim}

Now we need to do the same for the v-component of the wind vectors.
Since we know the lat, lon, and time dimensions are repeated, we can
join directly to the previous data.frame:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{vwnd_nc <-}\StringTok{ }\KeywordTok{nc_open}\NormalTok{(}\StringTok{"data/vwnd.sig995.2017.nc"}\NormalTok{)}
\NormalTok{vwnd <-}\StringTok{ }\KeywordTok{ncvar_get}\NormalTok{(vwnd_nc, }\StringTok{"vwnd"}\NormalTok{)}
\NormalTok{vwnd_time <-}\StringTok{ }\KeywordTok{nc.get.time.series}\NormalTok{(vwnd_nc, }\DataTypeTok{v =} \StringTok{"vwnd"}\NormalTok{, }\DataTypeTok{time.dim.name =} \StringTok{"time"}\NormalTok{)}
\NormalTok{vwnd_lon <-}\StringTok{ }\KeywordTok{ncvar_get}\NormalTok{(vwnd_nc, }\StringTok{"lon"}\NormalTok{)}
\NormalTok{vwnd_lat <-}\StringTok{ }\KeywordTok{ncvar_get}\NormalTok{(vwnd_nc, }\StringTok{"lat"}\NormalTok{)}
\KeywordTok{nc_close}\NormalTok{(vwnd_nc)}

\NormalTok{wind <-}\StringTok{ }\NormalTok{vwnd %>%}
\StringTok{  }\KeywordTok{as.data.frame.table}\NormalTok{(}\DataTypeTok{responseName =} \StringTok{"vwnd"}\NormalTok{, }\DataTypeTok{stringsAsFactors =} \OtherTok{FALSE}\NormalTok{) %>%}
\StringTok{  }\KeywordTok{cbind.data.frame}\NormalTok{(uwnd_df) %>%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\DataTypeTok{lon2 =} \NormalTok{Var1, }\DataTypeTok{lat2 =} \NormalTok{Var2, }\DataTypeTok{time2 =} \NormalTok{Var3) %>%}
\StringTok{  }\KeywordTok{select}\NormalTok{(lon, lat, time, vwnd, uwnd) %>%}
\StringTok{  }\KeywordTok{as.tibble}\NormalTok{()}
\NormalTok{wind}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 2,081,376 x 5
##      lon   lat        time     vwnd        uwnd
##    <dbl> <dbl> <S3: PCICt>    <dbl>       <dbl>
##  1   0.0    90  2017-01-01 7.150002 -2.29999971
##  2   2.5    90  2017-01-01 7.250002 -1.99999964
##  3   5.0    90  2017-01-01 7.350002 -1.69999957
##  4   7.5    90  2017-01-01 7.375001 -1.34999967
##  5  10.0    90  2017-01-01 7.475002 -1.02499962
##  6  12.5    90  2017-01-01 7.475002 -0.72499961
##  7  15.0    90  2017-01-01 7.525002 -0.39999962
##  8  17.5    90  2017-01-01 7.550002 -0.04999962
##  9  20.0    90  2017-01-01 7.550002  0.27500039
## 10  22.5    90  2017-01-01 7.525002  0.60000038
## # ... with 2,081,366 more rows
\end{verbatim}

Otherwise, we would need to merge these data.frames to get \texttt{uwnd}
and \texttt{vwnd} together with the following, which takes long time to
run:

\begin{verbatim}
wind <- merge(uwnd_df, vwnd_df)
\end{verbatim}

\hypertarget{geom_spoke}{\section{geom\_spoke}\label{geom_spoke}}

To represent these wind vectors we'll use the \texttt{geom\_spoke()}.
We'll start just plotting wind patterns for January 1, 2017:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(ggplot2)}
\NormalTok{wind <-}\StringTok{ }\NormalTok{wind %>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{angle =} \KeywordTok{atan2}\NormalTok{(vwnd, uwnd), }\DataTypeTok{radius =} \KeywordTok{sqrt}\NormalTok{(uwnd^}\DecValTok{2} \NormalTok{+}\StringTok{ }\NormalTok{vwnd^}\DecValTok{2}\NormalTok{), }\DataTypeTok{time =} \KeywordTok{as.POSIXct}\NormalTok{(time))}
\NormalTok{wind %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(time ==}\StringTok{ }\KeywordTok{as.POSIXct}\NormalTok{(}\StringTok{"2017-01-01"}\NormalTok{, }\DataTypeTok{tz =} \StringTok{"GMT"}\NormalTok{)) %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(lon, lat)) +}
\StringTok{  }\KeywordTok{geom_spoke}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{angle =} \NormalTok{angle, }\DataTypeTok{radius =} \NormalTok{radius, }\DataTypeTok{alpha =} \NormalTok{radius, }\DataTypeTok{color =} \NormalTok{angle)) +}
\StringTok{  }\KeywordTok{scale_color_gradient2}\NormalTok{(}\DataTypeTok{low =} \StringTok{"#132B43"}\NormalTok{, }\DataTypeTok{mid =} \StringTok{"#56B1F7"}\NormalTok{, }\DataTypeTok{high =} \StringTok{"#132B43"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-71-1.pdf}

\section{maps}\label{maps}

\begin{verbatim}
install.packages("maps")
\end{verbatim}

Map data will help to provide some context to this wind figure. We'll
use \texttt{geom\_polygon} to plot the world centered on the Pacific
Ocean (\texttt{world2}) using the \texttt{map\_data()} function.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{world <-}\StringTok{ }\KeywordTok{map_data}\NormalTok{(}\StringTok{"world2"}\NormalTok{)}
\NormalTok{wind %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(time ==}\StringTok{ }\KeywordTok{as.POSIXct}\NormalTok{(}\StringTok{"2017-01-01"}\NormalTok{, }\DataTypeTok{tz =} \StringTok{"GMT"}\NormalTok{)) %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(lon, lat)) +}
\StringTok{  }\KeywordTok{geom_polygon}\NormalTok{(}\DataTypeTok{data =} \NormalTok{world, }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x=}\NormalTok{long, }\DataTypeTok{y =} \NormalTok{lat, }\DataTypeTok{group =} \NormalTok{group), }\DataTypeTok{color =} \StringTok{"green"}\NormalTok{, }\DataTypeTok{fill =} \OtherTok{NA}\NormalTok{) +}\StringTok{ }
\StringTok{  }\KeywordTok{coord_fixed}\NormalTok{(}\DecValTok{1}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_spoke}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{angle =} \NormalTok{angle, }\DataTypeTok{radius =} \NormalTok{radius, }\DataTypeTok{alpha =} \NormalTok{radius, }\DataTypeTok{color =} \NormalTok{angle)) +}
\StringTok{  }\KeywordTok{scale_color_gradient2}\NormalTok{(}\DataTypeTok{low =} \StringTok{"#132B43"}\NormalTok{, }\DataTypeTok{mid =} \StringTok{"#56B1F7"}\NormalTok{, }\DataTypeTok{high =} \StringTok{"#132B43"}\NormalTok{) +}
\StringTok{  }\KeywordTok{theme_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-72-1.pdf}

\section{gganimate}\label{gganimate}

The \texttt{gganimate} package lets us animate the above chart. If you
want to be able to save animations as an mp4, you will need install
\texttt{ffmpeg} (\url{https://www.ffmpeg.org/download.html}). If you are
running macOS, you will need also need ImageMagick
(\url{http://www.imagemagick.org/script/binary-releases.php\#macosx}).

You can install \texttt{gganimate} with \texttt{devtools}:

\begin{verbatim}
devtools::install_github("dgrtwo/gganimate")
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(gganimate)}
\NormalTok{f <-}\StringTok{ }\NormalTok{wind %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(lon, lat)) +}
\StringTok{  }\KeywordTok{geom_polygon}\NormalTok{(}\DataTypeTok{data =} \NormalTok{world, }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x=}\NormalTok{long, }\DataTypeTok{y =} \NormalTok{lat, }\DataTypeTok{group =} \NormalTok{group), }\DataTypeTok{color =} \StringTok{"green"}\NormalTok{, }\DataTypeTok{fill =} \OtherTok{NA}\NormalTok{) +}\StringTok{ }
\StringTok{  }\KeywordTok{coord_fixed}\NormalTok{(}\DecValTok{1}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_spoke}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{angle =} \NormalTok{angle, }\DataTypeTok{radius =} \NormalTok{radius, }\DataTypeTok{alpha =} \NormalTok{radius, }\DataTypeTok{color =} \NormalTok{angle, }\DataTypeTok{frame =} \NormalTok{time)) +}
\StringTok{  }\KeywordTok{scale_color_gradient2}\NormalTok{(}\DataTypeTok{low =} \StringTok{"#132B43"}\NormalTok{, }\DataTypeTok{mid =} \StringTok{"#56B1F7"}\NormalTok{, }\DataTypeTok{high =} \StringTok{"#132B43"}\NormalTok{) +}
\StringTok{  }\KeywordTok{theme_minimal}\NormalTok{()}
\KeywordTok{gganimate}\NormalTok{(f)}
\end{Highlighting}
\end{Shaded}

\section{glyphs}\label{glyphs}

\texttt{glyphs} provide another useful way of analyzing spatial data
with a time dimesion. This shows a tiny line charts representing the
north-south component of the wind at each longitude/latitude
combination.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(GGally)}
\NormalTok{wind$day <-}\StringTok{ }\KeywordTok{as.numeric}\NormalTok{(}\KeywordTok{julian}\NormalTok{(wind$time, }\KeywordTok{as.POSIXct}\NormalTok{(}\StringTok{"2017-01-01"}\NormalTok{, }\DataTypeTok{tz =} \StringTok{"GMT"}\NormalTok{)))}
\NormalTok{wind$day_flip <-}\StringTok{ }\NormalTok{-wind$day}
\NormalTok{vwnd_gly <-}\StringTok{ }\KeywordTok{glyphs}\NormalTok{(wind, }\StringTok{"lon"}\NormalTok{, }\StringTok{"day"}\NormalTok{, }\StringTok{"lat"}\NormalTok{, }\StringTok{"vwnd"}\NormalTok{, }\DataTypeTok{height=}\FloatTok{2.5}\NormalTok{)}
\NormalTok{uwnd_gly <-}\StringTok{ }\KeywordTok{glyphs}\NormalTok{(wind, }\StringTok{"lon"}\NormalTok{, }\StringTok{"day"}\NormalTok{, }\StringTok{"lat"}\NormalTok{, }\StringTok{"uwnd"}\NormalTok{, }\DataTypeTok{height=}\FloatTok{2.5}\NormalTok{)}

\KeywordTok{ggplot}\NormalTok{(vwnd_gly, }\KeywordTok{aes}\NormalTok{(gx, gy, }\DataTypeTok{group =} \NormalTok{gid)) +}
\StringTok{  }\KeywordTok{add_ref_lines}\NormalTok{(vwnd_gly, }\DataTypeTok{color =} \StringTok{"grey90"}\NormalTok{) +}
\StringTok{  }\KeywordTok{add_ref_boxes}\NormalTok{(vwnd_gly, }\DataTypeTok{color =} \StringTok{"grey90"}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_path}\NormalTok{() +}
\StringTok{  }\KeywordTok{theme_bw}\NormalTok{() +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x =} \StringTok{""}\NormalTok{, }\DataTypeTok{y =} \StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-73-1.pdf}

Let's focus in on just the continental US:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{usa <-}\StringTok{ }\KeywordTok{map_data}\NormalTok{(}\StringTok{"usa"}\NormalTok{)}
\NormalTok{usa_long_range <-}\StringTok{ }\KeywordTok{range}\NormalTok{(usa$long)}
\NormalTok{usa_lat_range <-}\StringTok{ }\KeywordTok{range}\NormalTok{(usa$lat)}

\NormalTok{usa_wind <-}\StringTok{ }\NormalTok{wind %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(lon >=}\StringTok{ }\NormalTok{(usa_long_range[}\DecValTok{1}\NormalTok{] %%}\StringTok{ }\DecValTok{360}\NormalTok{) &}\StringTok{ }\NormalTok{lon <=}\StringTok{ }\NormalTok{(usa_long_range[}\DecValTok{2}\NormalTok{] %%}\StringTok{ }\DecValTok{360}\NormalTok{) &}
\StringTok{           }\NormalTok{lat >=}\StringTok{ }\NormalTok{usa_lat_range[}\DecValTok{1}\NormalTok{] &}\StringTok{ }\NormalTok{lat <=}\StringTok{ }\NormalTok{usa_lat_range[}\DecValTok{2}\NormalTok{])}
\NormalTok{usa_wind$day <-}\StringTok{ }\KeywordTok{as.numeric}\NormalTok{(}\KeywordTok{julian}\NormalTok{(usa_wind$time, }\KeywordTok{as.POSIXct}\NormalTok{(}\StringTok{"2017-01-01"}\NormalTok{, }\DataTypeTok{tz =} \StringTok{"GMT"}\NormalTok{)))}
\NormalTok{usa_wind$day_flip <-}\StringTok{ }\NormalTok{-usa_wind$day}
\NormalTok{usa_vwnd_gly <-}\StringTok{ }\KeywordTok{glyphs}\NormalTok{(usa_wind, }\StringTok{"lon"}\NormalTok{, }\StringTok{"day"}\NormalTok{, }\StringTok{"lat"}\NormalTok{, }\StringTok{"vwnd"}\NormalTok{, }\DataTypeTok{height=}\FloatTok{2.5}\NormalTok{)}
\NormalTok{usa_uwnd_gly <-}\StringTok{ }\KeywordTok{glyphs}\NormalTok{(usa_wind, }\StringTok{"lon"}\NormalTok{, }\StringTok{"uwnd"}\NormalTok{, }\StringTok{"lat"}\NormalTok{, }\StringTok{"day_flip"}\NormalTok{, }\DataTypeTok{height=}\FloatTok{2.5}\NormalTok{)}

\KeywordTok{ggplot}\NormalTok{(usa_vwnd_gly, }\KeywordTok{aes}\NormalTok{(gx, gy, }\DataTypeTok{group =} \NormalTok{gid)) +}
\StringTok{  }\KeywordTok{geom_polygon}\NormalTok{(}\DataTypeTok{data =} \NormalTok{usa, }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x =} \NormalTok{long %%}\StringTok{ }\DecValTok{360}\NormalTok{, }\DataTypeTok{y =} \NormalTok{lat %%}\StringTok{ }\DecValTok{360}\NormalTok{, }\DataTypeTok{group =} \NormalTok{group), }\DataTypeTok{fill =} \StringTok{"grey60"}\NormalTok{) +}
\StringTok{  }\KeywordTok{add_ref_lines}\NormalTok{(usa_vwnd_gly, }\DataTypeTok{color =} \StringTok{"grey90"}\NormalTok{) +}
\StringTok{  }\KeywordTok{add_ref_boxes}\NormalTok{(usa_vwnd_gly, }\DataTypeTok{color =} \StringTok{"grey90"}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_path}\NormalTok{(}\DataTypeTok{alpha =} \FloatTok{0.9}\NormalTok{) +}
\StringTok{  }\KeywordTok{theme_bw}\NormalTok{() +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x =} \StringTok{""}\NormalTok{, }\DataTypeTok{y =} \StringTok{""}\NormalTok{, }\DataTypeTok{title =} \StringTok{"North-South"}\NormalTok{)}
\KeywordTok{ggplot}\NormalTok{(usa_uwnd_gly, }\KeywordTok{aes}\NormalTok{(gx, gy, }\DataTypeTok{group =} \NormalTok{gid)) +}
\StringTok{  }\KeywordTok{geom_polygon}\NormalTok{(}\DataTypeTok{data =} \NormalTok{usa, }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x =} \NormalTok{long %%}\StringTok{ }\DecValTok{360}\NormalTok{, }\DataTypeTok{y =} \NormalTok{lat %%}\StringTok{ }\DecValTok{360}\NormalTok{, }\DataTypeTok{group =} \NormalTok{group), }\DataTypeTok{fill =} \StringTok{"grey60"}\NormalTok{) +}
\StringTok{  }\KeywordTok{add_ref_lines}\NormalTok{(usa_uwnd_gly, }\DataTypeTok{color =} \StringTok{"grey90"}\NormalTok{) +}
\StringTok{  }\KeywordTok{add_ref_boxes}\NormalTok{(usa_uwnd_gly, }\DataTypeTok{color =} \StringTok{"grey90"}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_path}\NormalTok{(}\DataTypeTok{alpha =} \FloatTok{0.9}\NormalTok{) +}
\StringTok{  }\KeywordTok{theme_bw}\NormalTok{() +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x =} \StringTok{""}\NormalTok{, }\DataTypeTok{y =} \StringTok{""}\NormalTok{, }\DataTypeTok{title =} \StringTok{"East-West"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-74-1.pdf}
\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-74-2.pdf}

\hypertarget{area-and-ribbons}{\chapter{geom\_area and
geom\_ribbon}\label{area-and-ribbons}}

\section{Data}\label{data-5}

The US Bureau of Labor Statistics (BLS) conducts the American Time Use
Survey (ATUS). You can download the text form of the ATUS by going to
the \href{https://www.bls.gov/data/}{BLS data page}, finding the section
labelled Spending \& Time Use, then clicking on the ``Text Files''
button on the row for the ATUS. Or by using the following link:

\url{https://download.bls.gov/pub/time.series/tu/}

\subsection{Downloading a file from the
internet}\label{downloading-a-file-from-the-internet}

While you can manually download the files from the above URL,
\texttt{download.file()} lets you download files from within R. The
first argument is the URL of the resource you want to download. The
second argument is the destination for the file. The following requests
will require you to create the \texttt{tu} folder.

\begin{verbatim}
download.file("https://download.bls.gov/pub/time.series/tu/tu.txt", "data/tu/tu.txt")
download.file("https://download.bls.gov/pub/time.series/tu/tu.series", "data/tu/tu.series")
download.file("https://download.bls.gov/pub/time.series/tu/tu.data.0.Current", "data/tu/tu.data.0.Current")
\end{verbatim}

The file \texttt{tu.txt} contains the documentation for the time use
(tu) survey data. Section 2 of that file provides descriptions of each
of the files in the \texttt{pub/time.series/tu} folder. From that list
we can see that \texttt{tu.series} will give us a list of the available
series.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(readr)}
\NormalTok{series_defn <-}\StringTok{ }\KeywordTok{read_tsv}\NormalTok{(}\StringTok{"data/tu/tu.series"}\NormalTok{)}
\NormalTok{series_defn}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 85,277 x 43
##             series_id seasonal stattype_code datays_code sex_code
##                 <chr>    <chr>         <int>       <chr>    <int>
##  1 TUU10100AA01000007        U         10100          01        0
##  2 TUU10100AA01000013        U         10100          01        0
##  3 TUU10100AA01000014        U         10100          01        0
##  4 TUU10100AA01000015        U         10100          01        0
##  5 TUU10100AA01000018        U         10100          01        0
##  6 TUU10100AA01000019        U         10100          01        0
##  7 TUU10100AA01000025        U         10100          01        0
##  8 TUU10100AA01000035        U         10100          01        0
##  9 TUU10100AA01000036        U         10100          01        0
## 10 TUU10100AA01000037        U         10100          01        0
## # ... with 85,267 more rows, and 38 more variables: region_code <chr>,
## #   lfstat_code <chr>, educ_code <chr>, maritlstat_code <chr>,
## #   age_code <chr>, orig_code <chr>, race_code <chr>, mjcow_code <chr>,
## #   nmet_code <int>, where_code <chr>, sjmj_code <int>,
## #   timeday_code <chr>, actcode_code <chr>, industry_code <chr>,
## #   occ_code <chr>, prhhchild_code <chr>, earn_code <chr>,
## #   disability_code <chr>, who_code <chr>, hhnscc03_code <chr>,
## #   schenr_code <int>, prownhhchild_code <chr>, work_code <int>,
## #   elnum_code <chr>, ecage_code <chr>, elfreq_code <int>,
## #   eldur_code <chr>, elwho_code <chr>, ecytd_code <int>,
## #   elder_code <int>, lfstatw_code <chr>, pertype_code <chr>,
## #   series_title <chr>, footnote_codes <chr>, begin_year <int>,
## #   begin_period <chr>, end_year <int>, end_period <chr>
\end{verbatim}

There is a lot here to process. The columns we care most about for now
are \texttt{series\_id} and \texttt{series\_title}. Using
\texttt{select()} from the \texttt{dplyr} library, we can show just the
columns we care about.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(dplyr)}
\NormalTok{series_defn %>%}
\StringTok{  }\KeywordTok{select}\NormalTok{(series_id, series_title)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 85,277 x 2
##             series_id
##                 <chr>
##  1 TUU10100AA01000007
##  2 TUU10100AA01000013
##  3 TUU10100AA01000014
##  4 TUU10100AA01000015
##  5 TUU10100AA01000018
##  6 TUU10100AA01000019
##  7 TUU10100AA01000025
##  8 TUU10100AA01000035
##  9 TUU10100AA01000036
## 10 TUU10100AA01000037
## # ... with 85,267 more rows, and 1 more variables: series_title <chr>
\end{verbatim}

\subsection{Pairing down the list of
variables}\label{pairing-down-the-list-of-variables}

Let's look for variables on sleep, work, and leisure:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{series_defn %>%}
\StringTok{  }\KeywordTok{select}\NormalTok{(series_title) %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(}\KeywordTok{grepl}\NormalTok{(}\StringTok{"sleep"}\NormalTok{, series_title, }\DataTypeTok{ignore.case =} \OtherTok{TRUE}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 1,310 x 1
##                                                                   series_title
##                                                                          <chr>
##  1                                                  Avg hrs per day - Sleeping
##  2                       Avg hrs per day - Sleeping, Weekend days and holidays
##  3                             Avg hrs per day - Sleeping, Nonholiday weekdays
##  4                                        Avg hrs per day - Sleeping, Employed
##  5             Avg hrs per day - Sleeping, Weekend days and holidays, Employed
##  6                   Avg hrs per day - Sleeping, Nonholiday weekdays, Employed
##  7                        Avg hrs per day - Sleeping, Employed, on days worked
##  8 Avg hrs per day - Sleeping, Weekend days and holidays, Employed, on days wo
##  9   Avg hrs per day - Sleeping, Nonholiday weekdays, Employed, on days worked
## 10                              Avg hrs per day - Sleeping, Employed full time
## # ... with 1,300 more rows
\end{verbatim}

Since this simple search returns a ton of results, let's further filter
by `employed' and `per day':

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{series_defn %>%}
\StringTok{  }\KeywordTok{select}\NormalTok{(series_title) %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(}\KeywordTok{grepl}\NormalTok{(}\StringTok{"per day.*sleep.*employed"}\NormalTok{, series_title, }\DataTypeTok{ignore.case =} \OtherTok{TRUE}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 154 x 1
##                                                                   series_title
##                                                                          <chr>
##  1                                        Avg hrs per day - Sleeping, Employed
##  2             Avg hrs per day - Sleeping, Weekend days and holidays, Employed
##  3                   Avg hrs per day - Sleeping, Nonholiday weekdays, Employed
##  4                        Avg hrs per day - Sleeping, Employed, on days worked
##  5 Avg hrs per day - Sleeping, Weekend days and holidays, Employed, on days wo
##  6   Avg hrs per day - Sleeping, Nonholiday weekdays, Employed, on days worked
##  7                              Avg hrs per day - Sleeping, Employed full time
##  8   Avg hrs per day - Sleeping, Weekend days and holidays, Employed full time
##  9         Avg hrs per day - Sleeping, Nonholiday weekdays, Employed full time
## 10              Avg hrs per day - Sleeping, Employed full time, on days worked
## # ... with 144 more rows
\end{verbatim}

Now let's filter further by `employed full time', `nonholiday weekdays',
and `on days worked':

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{series_defn %>%}
\StringTok{  }\KeywordTok{select}\NormalTok{(series_title) %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(}\KeywordTok{grepl}\NormalTok{(}\StringTok{"per day.*sleep.*nonholiday weekdays.*employed full time.*on days worked"}\NormalTok{, series_title, }\DataTypeTok{ignore.case =} \OtherTok{TRUE}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 1
##                                                                  series_title
##                                                                         <chr>
## 1 Avg hrs per day - Sleeping, Nonholiday weekdays, Employed full time, on day
## 2 Avg hrs per day - Sleeping, Nonholiday weekdays, Employed full time, on day
## 3 Avg hrs per day - Sleeping, Nonholiday weekdays, Employed full time, on day
## 4 Avg hrs per day for participants - Sleeping, Nonholiday weekdays, Employed 
## 5 Avg hrs per day for participants - Sleeping, Nonholiday weekdays, Employed 
## 6 Avg hrs per day for participants - Sleeping, Nonholiday weekdays, Employed
\end{verbatim}

Finally, let's filter that to exclude the `participants only' group and
only get the Men/Women values (not the combined totals):

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{series_defn %>%}
\StringTok{  }\KeywordTok{select}\NormalTok{(series_title) %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(}\KeywordTok{grepl}\NormalTok{(}\StringTok{"per day -.*sleep.*nonholiday weekdays.*employed full time.*on days worked,"}\NormalTok{, series_title, }\DataTypeTok{ignore.case =} \OtherTok{TRUE}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 2 x 1
##                                                                  series_title
##                                                                         <chr>
## 1 Avg hrs per day - Sleeping, Nonholiday weekdays, Employed full time, on day
## 2 Avg hrs per day - Sleeping, Nonholiday weekdays, Employed full time, on day
\end{verbatim}

\subsection{Adding more activity
categories}\label{adding-more-activity-categories}

Now let's add `work' and `leisure' to our search:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{activity <-}\StringTok{ }\NormalTok{series_defn %>%}
\StringTok{  }\KeywordTok{select}\NormalTok{(series_id, series_title) %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(}\KeywordTok{grepl}\NormalTok{(}\StringTok{"per day -.*(sleep|work|leisure).*nonholiday weekdays.*employed full time.*on days worked,"}\NormalTok{, series_title, }\DataTypeTok{ignore.case =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{activity}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 26 x 2
##             series_id
##                 <chr>
##  1 TUU10101AA01000344
##  2 TUU10101AA01000423
##  3 TUU10101AA01000962
##  4 TUU10101AA01001041
##  5 TUU10101AA01003012
##  6 TUU10101AA01003097
##  7 TUU10101AA01003307
##  8 TUU10101AA01003378
##  9 TUU10101AA01003947
## 10 TUU10101AA01004011
## # ... with 16 more rows, and 1 more variables: series_title <chr>
\end{verbatim}

Now we should create a variable that codes each of these as either work,
sleep, or leisure:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{activity <-}\StringTok{ }\NormalTok{activity %>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}
    \DataTypeTok{activity_type =} \KeywordTok{case_when}\NormalTok{(}
      \KeywordTok{grepl}\NormalTok{(}\StringTok{"leisure"}\NormalTok{, activity$series_title, }\DataTypeTok{ignore.case =} \OtherTok{TRUE}\NormalTok{) ~}\StringTok{ "Leisure"}\NormalTok{,}
      \KeywordTok{grepl}\NormalTok{(}\StringTok{"sleep"}\NormalTok{, activity$series_title, }\DataTypeTok{ignore.case =} \OtherTok{TRUE}\NormalTok{) ~}\StringTok{ "Sleep"}\NormalTok{,}
      \OtherTok{TRUE} \NormalTok{~}\StringTok{ "Work"}
    \NormalTok{), }
    \DataTypeTok{sex =} \KeywordTok{ifelse}\NormalTok{(}\KeywordTok{grepl}\NormalTok{(}\StringTok{"Men"}\NormalTok{, series_title), }\StringTok{"Men"}\NormalTok{, }\StringTok{"Women"}\NormalTok{)}
  \NormalTok{)}
\NormalTok{activity}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 26 x 4
##             series_id
##                 <chr>
##  1 TUU10101AA01000344
##  2 TUU10101AA01000423
##  3 TUU10101AA01000962
##  4 TUU10101AA01001041
##  5 TUU10101AA01003012
##  6 TUU10101AA01003097
##  7 TUU10101AA01003307
##  8 TUU10101AA01003378
##  9 TUU10101AA01003947
## 10 TUU10101AA01004011
## # ... with 16 more rows, and 3 more variables: series_title <chr>,
## #   activity_type <chr>, sex <chr>
\end{verbatim}

Now we can join the activity data.frame with the current data and create
time series of each activity type we created.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data <-}\StringTok{ }\KeywordTok{read_tsv}\NormalTok{(}\StringTok{"data/tu/tu.data.0.Current"}\NormalTok{)}
\NormalTok{data <-}\StringTok{ }\NormalTok{data %>%}
\StringTok{  }\KeywordTok{inner_join}\NormalTok{(activity) %>%}
\StringTok{  }\KeywordTok{group_by}\NormalTok{(year, sex, activity_type) %>%}
\StringTok{  }\KeywordTok{summarize}\NormalTok{(}\DataTypeTok{hours =} \KeywordTok{sum}\NormalTok{(}\KeywordTok{as.numeric}\NormalTok{(value), }\DataTypeTok{na.rm =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{data}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 84 x 4
## # Groups:   year, sex [?]
##     year   sex activity_type hours
##    <int> <chr>         <chr> <dbl>
##  1  2003   Men       Leisure  8.49
##  2  2003   Men         Sleep  7.46
##  3  2003   Men          Work 19.26
##  4  2003 Women       Leisure  7.02
##  5  2003 Women         Sleep  7.65
##  6  2003 Women          Work 17.87
##  7  2004   Men       Leisure  8.66
##  8  2004   Men         Sleep  7.49
##  9  2004   Men          Work 18.92
## 10  2004 Women       Leisure  7.34
## # ... with 74 more rows
\end{verbatim}

\section{geom\_area}\label{geom_area}

\texttt{geom\_area} is useful when components that naturally add to each
other:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(ggplot2)}
\KeywordTok{ggplot}\NormalTok{(data, }\KeywordTok{aes}\NormalTok{(year, hours, }\DataTypeTok{fill=} \NormalTok{activity_type)) +}\StringTok{ }\KeywordTok{geom_area}\NormalTok{() +}\StringTok{ }\KeywordTok{facet_wrap}\NormalTok{(~}\StringTok{ }\NormalTok{sex) }
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-85-1.pdf}

\section{geom\_ribbon}\label{geom_ribbon}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x =} \NormalTok{year, }\DataTypeTok{group =} \NormalTok{sex, }\DataTypeTok{fill =} \NormalTok{activity_type)) +}\StringTok{ }
\StringTok{  }\KeywordTok{geom_ribbon}\NormalTok{(}\DataTypeTok{mapping =} \KeywordTok{aes}\NormalTok{(}\DataTypeTok{ymin =} \NormalTok{-hours *}\StringTok{ }\NormalTok{(sex ==}\StringTok{ "Women"}\NormalTok{), }\DataTypeTok{ymax =} \NormalTok{hours *}\StringTok{ }\NormalTok{(sex ==}\StringTok{ "Men"}\NormalTok{)), }\DataTypeTok{data =} \NormalTok{. %>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(activity_type ==}\StringTok{ "Work"}\NormalTok{), }\DataTypeTok{alpha =} \FloatTok{0.5}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_ribbon}\NormalTok{(}\DataTypeTok{mapping =} \KeywordTok{aes}\NormalTok{(}\DataTypeTok{ymin =} \NormalTok{-hours *}\StringTok{ }\NormalTok{(sex ==}\StringTok{ "Women"}\NormalTok{), }\DataTypeTok{ymax =} \NormalTok{hours *}\StringTok{ }\NormalTok{(sex ==}\StringTok{ "Men"}\NormalTok{)), }\DataTypeTok{data =} \NormalTok{. %>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(activity_type ==}\StringTok{ "Leisure"}\NormalTok{), }\DataTypeTok{alpha =} \FloatTok{0.5}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_ribbon}\NormalTok{(}\DataTypeTok{mapping =} \KeywordTok{aes}\NormalTok{(}\DataTypeTok{ymin =} \NormalTok{-hours *}\StringTok{ }\NormalTok{(sex ==}\StringTok{ "Women"}\NormalTok{), }\DataTypeTok{ymax =} \NormalTok{hours *}\StringTok{ }\NormalTok{(sex ==}\StringTok{ "Men"}\NormalTok{)), }\DataTypeTok{data =} \NormalTok{. %>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(activity_type ==}\StringTok{ "Sleep"}\NormalTok{), }\DataTypeTok{alpha =} \FloatTok{0.5}\NormalTok{) +}
\StringTok{  }\KeywordTok{scale_y_continuous}\NormalTok{(}
    \DataTypeTok{name =} \StringTok{"Average hours per work day (Fully Employed)"}\NormalTok{,}
    \DataTypeTok{breaks =} \KeywordTok{c}\NormalTok{(-}\DecValTok{20}\NormalTok{, -}\DecValTok{10}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{10}\NormalTok{, }\DecValTok{20}\NormalTok{),}
    \DataTypeTok{labels =} \KeywordTok{c}\NormalTok{(}\StringTok{"Women 20 hrs"}\NormalTok{, }\StringTok{"10 hrs"}\NormalTok{, }\StringTok{"0 hrs"}\NormalTok{, }\StringTok{"10 hrs"}\NormalTok{, }\StringTok{"Men 20 hrs"}\NormalTok{),}
    \DataTypeTok{limits =} \KeywordTok{c}\NormalTok{(-}\DecValTok{20}\NormalTok{, }\DecValTok{20}\NormalTok{)}
    \NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-86-1.pdf}

\hypertarget{jitter-rug}{\chapter{Jitter, Rug, and
Aesthetics}\label{jitter-rug}}

\section{Data}\label{data-6}

The \href{https://psidonline.isr.umich.edu}{Panel Study of Income
Dynamics (PSID)} is the longest running longitudinal household survey in
the world.

From the \href{https://simba.isr.umich.edu/data/data.aspx}{Data page},
you can use the \texttt{Data\ Center} to create customized datasets.
We'll use the
\href{https://simba.isr.umich.edu/data/PackagedData.aspx}{Packaged Data}
option. Click the
\href{https://simba.isr.umich.edu/Zips/ZipMain.aspx}{Main and
Supplemental Studies} link. Under the
\texttt{Supplemental\ Studies\ \textgreater{}\ Transition\ into\ Adulthood\ Supplement}
section, select the download for \texttt{2015}.

To download the supplement you will need to sign in or register for a
new account (by clicking the ``New User?'' link). Once you have logged
in you should be able to download the zip file:

\begin{itemize}
\tightlist
\item
  ta2015.zip
\end{itemize}

\subsection{Codebook}\label{codebook}

The \texttt{TA2015\_codebook.pdf} is the perfect place for us to
identify some key variables of interest. The following is an excerpt
listing the variables we will use:

\begin{verbatim}
TA150003  "2015 PSID FAMILY IW (ID) NUMBER"
2015 PSID Family Interview Number

TA150004  "2015 INDIVIDUAL SEQUENCE NUMBER"
2015 PSID Sequence Number
This variable provides a means of identifying an individual's status with regard to the
PSID family unit at the time of the 2015 PSID interview.

Value/Range   Code Value/Range Text
1 - 20        Individuals in the family at the time of the 2015 PSID
              interview
51 - 59       Individuals in institutions at the time of the 2015 PSID
              interview

TA150005 "CURRENT STATE"
Current State (FIPS state codes)

TA150015 "A1_1 HOW SATISFIED W/ LIFE AS A WHOLE"
A1_1. We'd like to start by asking you about life in general. Please think about your
life-as-a-whole. How satisfied are you with it? Are you completely satisfied, very
satisfied, somewhat satisfied, not very satisfied, or not at all satisfied?

Value/Range   Code Value/Range Text
1             Completely satisfied
2             Very satisfied
3             Somewhat satisfied
4             Not very satisfied
5             Not at all satisfied
8             DK

TA150092 "D28A NUMBER OF CHILDREN"
D28a. How many (biological,) adopted, or step-children do you have?

TA150128 "E1 EMPLOYMENT STATUS 1ST MENTION"
E1. Now we have some questions about employment. We would like to know about what you do -
- are you working now, looking for work, keeping house, a student, or what?--1ST MENTION

Value/Range   Code Value/Range Text
1             Working now, including military
2             Only temporarily laid off; sick or maternity leave
3             Looking for work, unemployed
5             Disabled, permanently or temporarily
6             Keeping house
7             Student

TA150512 "F1 HOW MUCH EARN LAST YEAR"
F1. We try to understand how people all over the country are getting along financially, so
now I have some questions about earnings and income. How much did you earn altogether
from work in 2014, that is, before anything was deducted for taxes or other things,
including any income from bonuses, overtime, tips, commissions, military pay or any other
source?

Value/Range     Code Value/Range Text
0 - 5,000,000   Actual amount
    9,999,998   DK
    9,999,999   NA; refused
\end{verbatim}

\subsubsection{FIPS}\label{fips}

In preparation for working with these variables, we can setup arrays to
take the place of the codebook. The \texttt{tigris} package will give us
the FIPS codes for each state:

\begin{verbatim}
install.packages(tigris)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(tidyverse)}

\NormalTok{state_fips <-}\StringTok{ }\NormalTok{tigris::fips_codes %>%}
\StringTok{  }\KeywordTok{group_by}\NormalTok{(state) %>%}
\StringTok{  }\KeywordTok{summarize}\NormalTok{(}\DataTypeTok{fips =} \KeywordTok{as.numeric}\NormalTok{(}\KeywordTok{first}\NormalTok{(state_code)))}
\NormalTok{fips2state <-}\StringTok{ }\KeywordTok{array}\NormalTok{()}
\NormalTok{fips2state[state_fips$fips] <-}\StringTok{ }\NormalTok{state_fips$state}
\NormalTok{fips2state}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] "AL" "AK" NA   "AZ" "AR" "CA" NA   "CO" "CT" "DE" "DC" "FL" "GA" NA  
## [15] "HI" "ID" "IL" "IN" "IA" "KS" "KY" "LA" "ME" "MD" "MA" "MI" "MN" "MS"
## [29] "MO" "MT" "NE" "NV" "NH" "NJ" "NM" "NY" "NC" "ND" "OH" "OK" "OR" "PA"
## [43] NA   "RI" "SC" "SD" "TN" "TX" "UT" "VT" "VA" NA   "WA" "WV" "WI" "WY"
## [57] NA   NA   NA   "AS" NA   NA   NA   NA   NA   "GU" NA   NA   "MP" NA  
## [71] NA   "PR" NA   "UM" NA   NA   NA   "VI"
\end{verbatim}

\subsubsection{Satisfaction}\label{satisfaction}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{satisfaction <-}\StringTok{ }\KeywordTok{array}\NormalTok{()}
\NormalTok{satisfaction_levels <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Completely satisfied"}\NormalTok{, }\StringTok{"Very satisfied"}\NormalTok{, }\StringTok{"Somewhat satisfied"}\NormalTok{, }\StringTok{"Not very satisfied"}\NormalTok{, }\StringTok{"Not at all satisfied"}\NormalTok{, }\StringTok{"DK"}\NormalTok{)}
\NormalTok{satisfaction[}\KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{, }\DecValTok{8}\NormalTok{)] <-}\StringTok{ }\NormalTok{satisfaction_levels}
\NormalTok{satisfaction}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Completely satisfied" "Very satisfied"       "Somewhat satisfied"  
## [4] "Not very satisfied"   "Not at all satisfied" NA                    
## [7] NA                     "DK"
\end{verbatim}

\subsubsection{Employment Status}\label{employment-status}

We can also specify the array elements one by one:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{employment <-}\StringTok{ }\KeywordTok{array}\NormalTok{()}
\NormalTok{employment[}\DecValTok{1}\NormalTok{] <-}\StringTok{ "Working now, including military"}
\NormalTok{employment[}\DecValTok{2}\NormalTok{] <-}\StringTok{ "Only temporarily laid off; sick or maternity leave"}
\NormalTok{employment[}\DecValTok{3}\NormalTok{] <-}\StringTok{ "Looking for work, unemployed"}
\NormalTok{employment[}\DecValTok{5}\NormalTok{] <-}\StringTok{ "Disabled, permanently or temporarily"}
\NormalTok{employment[}\DecValTok{6}\NormalTok{] <-}\StringTok{ "Keeping house"}
\NormalTok{employment[}\DecValTok{7}\NormalTok{] <-}\StringTok{ "Student"}
\NormalTok{employment}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Working now, including military"                   
## [2] "Only temporarily laid off; sick or maternity leave"
## [3] "Looking for work, unemployed"                      
## [4] NA                                                  
## [5] "Disabled, permanently or temporarily"              
## [6] "Keeping house"                                     
## [7] "Student"
\end{verbatim}

\subsection{Preprocessing the SPSS
File}\label{preprocessing-the-spss-file}

If you don't have them already, open the zip file and move the
\texttt{TA2015.txt} and \texttt{TA2015.sps} files into the \texttt{data}
folder. For our import to work, We need to find a line that needs to be
removed from the top of the sps file. The line we want to remove should
look like the following line:

\begin{verbatim}
FILE HANDLE PSID / NAME = '[PATH]\TA2015.TXT' LRECL = 2173 .
\end{verbatim}

To find this line we can output the first 20 lines of the
\texttt{TA2015.sps} file:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{readLines}\NormalTok{(}\StringTok{"data/TA2015.sps"}\NormalTok{, }\DataTypeTok{n =} \DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] ""                                                                          
##  [2] "**************************************************************************"
##  [3] "   Label           : Transition to Adulthood Study 2015"                   
##  [4] "   Rows            : 1641"                                                 
##  [5] "   Columns         : 1304"                                                 
##  [6] "   ASCII File Date : July 5, 2017"                                         
##  [7] "*************************************************************************."
##  [8] ""                                                                          
##  [9] "FILE HANDLE PSID / NAME = '[PATH]\\TA2015.TXT' LRECL = 2173 ."             
## [10] "DATA LIST FILE = PSID FIXED /"
\end{verbatim}

Now we know the line to remove is line number 9, we can write a new file
to be used in the processing step below.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{input <-}\StringTok{ }\KeywordTok{file}\NormalTok{(}\StringTok{"data/TA2015.sps"}\NormalTok{)}
\NormalTok{output <-}\StringTok{ }\KeywordTok{file}\NormalTok{(}\StringTok{"data/TA2015_clean.sps"}\NormalTok{)}

\KeywordTok{open}\NormalTok{(input, }\DataTypeTok{type =} \StringTok{"r"}\NormalTok{)}
\KeywordTok{open}\NormalTok{(output, }\DataTypeTok{open =} \StringTok{"w"}\NormalTok{)}

\KeywordTok{writeLines}\NormalTok{(}\KeywordTok{readLines}\NormalTok{(input, }\DataTypeTok{n =} \DecValTok{8}\NormalTok{), output)}
\KeywordTok{invisible}\NormalTok{(}\KeywordTok{readLines}\NormalTok{(input, }\DataTypeTok{n =} \DecValTok{1}\NormalTok{))}
\KeywordTok{writeLines}\NormalTok{(}\KeywordTok{readLines}\NormalTok{(input), output)}

\KeywordTok{close}\NormalTok{(input)}
\KeywordTok{close}\NormalTok{(output)}

\KeywordTok{readLines}\NormalTok{(}\StringTok{"data/TA2015_clean.sps"}\NormalTok{, }\DataTypeTok{n =} \DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] ""                                                                                           
##  [2] "**************************************************************************"                 
##  [3] "   Label           : Transition to Adulthood Study 2015"                                    
##  [4] "   Rows            : 1641"                                                                  
##  [5] "   Columns         : 1304"                                                                  
##  [6] "   ASCII File Date : July 5, 2017"                                                          
##  [7] "*************************************************************************."                 
##  [8] ""                                                                                           
##  [9] "DATA LIST FILE = PSID FIXED /"                                                              
## [10] "      TA150001        1 - 1         TA150002        2 - 6         TA150003        7 - 11   "
\end{verbatim}

\subsection{Importing with the SPSS file using
memisc}\label{importing-with-the-spss-file-using-memisc}

The \texttt{memisc} package has useful tools for importing SPSS and
Stata files that augment what already exists in \texttt{base}.
Unfortunately, one of its dependencies, \texttt{MASS}, will mask the
select method from \texttt{dplyr}. To avoid this, instead of loading
\texttt{memisc} with \texttt{library(memisc)}, we can prefix all
\texttt{memisc} functions with \texttt{memisc::}.

\begin{verbatim}
install.packages("memisc")
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ta_importer <-}\StringTok{ }\NormalTok{memisc::}\KeywordTok{spss.fixed.file}\NormalTok{(}\StringTok{"data/TA2015.txt"}\NormalTok{, }\DataTypeTok{columns.file =} \StringTok{"data/TA2015_clean.sps"}\NormalTok{, }\DataTypeTok{varlab.file =} \StringTok{"data/TA2015_clean.sps"}\NormalTok{, }\DataTypeTok{to.lower =} \OtherTok{FALSE}\NormalTok{)}
\NormalTok{ta_full <-}\StringTok{ }\NormalTok{memisc::}\KeywordTok{as.data.set}\NormalTok{(ta_importer)}
\NormalTok{ta_full}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## Data set with 1641 observations and 1304 variables
## 
##    TA150001 TA150002 TA150003 TA150004 TA150005 TA150006 TA150007 ...
##  1        1        1     4893        1       37       55        9 ...
##  2        1        2     2967        1       48       57        9 ...
##  3        1        3     6095        5       37       96        9 ...
##  4        1        4     3738        3        8       98        9 ...
##  5        1        5     6741        3       16      104        9 ...
##  6        1        6     4839        1       28       68        9 ...
##  7        1        7     3828        1       48       67        9 ...
##  8        1        8     5640       51       21       88        9 ...
##  9        1        9     5210       52        6       80        9 ...
## 10        1       10      339        3       18       93        9 ...
## 11        1       11     3192        2       26       66        9 ...
## 12        1       12      561        2       26       91        9 ...
## 13        1       13     2500       51       13      100        9 ...
## 14        1       14     5283        2       39       68        9 ...
## 15        1       15     6679        1       24       62        9 ...
## 16        1       16     3286        2        8       67        9 ...
## 17        1       17     3266        2        6      155        9 ...
## 18        1       18     3720        2       48       61        9 ...
## 19        1       19     3714        2       48       82        9 ...
## 20        1       20     6244        1       48       89        9 ...
## 21        1       21     4199        1       13       80        9 ...
## 22        1       22     3962        2       51       86        9 ...
## 23        1       23     2878        1       41       85        9 ...
## 24        1       24     3835        1       37       85        9 ...
## 25        1       25      487       51       13       91        9 ...
## .. ........ ........ ........ ........ ........ ........ ........ ...
## (25 of 1641 observations shown)
\end{verbatim}

\subsection{Transform Data}\label{transform-data}

Take the arrays we created above to process the file down to the
variables we selected.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ta <-}\StringTok{ }\NormalTok{ta_full %>%}
\StringTok{  }\KeywordTok{as.data.frame}\NormalTok{() %>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(TA150005 >}\StringTok{ }\DecValTok{0}\NormalTok{) %>%}\StringTok{ }\CommentTok{# get rid of the 1 non-US response}
\StringTok{  }\KeywordTok{transmute}\NormalTok{(}
    \DataTypeTok{family_id         =} \NormalTok{TA150003, }
    \DataTypeTok{in_institution    =} \NormalTok{TA150004 >}\StringTok{ }\DecValTok{50}\NormalTok{, }
    \DataTypeTok{state             =} \NormalTok{fips2state[TA150005], }
    \DataTypeTok{life_satisfaction =} \KeywordTok{factor}\NormalTok{(satisfaction[TA150015], }\DataTypeTok{levels =} \NormalTok{satisfaction_levels, }\DataTypeTok{ordered =} \OtherTok{TRUE}\NormalTok{), }
    \DataTypeTok{children          =} \NormalTok{TA150092, }
    \DataTypeTok{employment_status =} \NormalTok{employment[TA150128], }
    \DataTypeTok{annual_earnings   =} \NormalTok{TA150512 %>%}\StringTok{ }\KeywordTok{na_if}\NormalTok{(}\DecValTok{9999999}\NormalTok{) %>%}\StringTok{ }\KeywordTok{na_if}\NormalTok{(}\DecValTok{9999999}\NormalTok{)}
  \NormalTok{)}
\NormalTok{ta}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      family_id in_institution state    life_satisfaction children
## 1         4893          FALSE    NC   Somewhat satisfied        0
## 2         2967          FALSE    TX   Somewhat satisfied        0
## 3         6095          FALSE    NC   Somewhat satisfied        0
## 4         3738          FALSE    CO   Somewhat satisfied        0
## 5         6741          FALSE    ID       Very satisfied        0
## 6         4839          FALSE    MS Completely satisfied        1
## 7         3828          FALSE    TX   Somewhat satisfied        0
## 8         5640           TRUE    KY Completely satisfied        0
## 9         5210           TRUE    CA       Very satisfied        0
## 10         339          FALSE    IN   Somewhat satisfied        0
## 11        3192          FALSE    MI       Very satisfied        0
## 12         561          FALSE    MI       Very satisfied        0
## 13        2500           TRUE    GA       Very satisfied        0
## 14        5283          FALSE    OH       Very satisfied        0
## 15        6679          FALSE    MD Completely satisfied        0
## 16        3286          FALSE    CO       Very satisfied        1
## 17        3266          FALSE    CA   Somewhat satisfied        0
## 18        3720          FALSE    TX Completely satisfied        1
## 19        3714          FALSE    TX       Very satisfied        0
## 20        6244          FALSE    TX       Very satisfied        0
## 21        4199          FALSE    GA   Somewhat satisfied        0
## 22        3962          FALSE    VA       Very satisfied        0
## 23        2878          FALSE    OR   Somewhat satisfied        0
## 24        3835          FALSE    NC   Somewhat satisfied        1
## 25         487           TRUE    GA       Very satisfied        0
## 26         575          FALSE    IN   Somewhat satisfied        0
## 27        2793          FALSE    MI   Somewhat satisfied        0
## 28        4009          FALSE    MI   Somewhat satisfied        0
## 29         372          FALSE    MD       Very satisfied        0
## 30        3008          FALSE    NC       Very satisfied        0
## 31        3875          FALSE    VA Completely satisfied        4
## 32        3857          FALSE    CA   Somewhat satisfied        1
## 33        5628          FALSE    TX       Very satisfied        0
## 34        4425           TRUE    TX Completely satisfied        0
## 35         801          FALSE    LA       Very satisfied        1
## 36        6867          FALSE    TX       Very satisfied        0
## 37        4600          FALSE    PA   Somewhat satisfied        1
## 38        2210          FALSE    OH Completely satisfied        1
## 39         262          FALSE    CA   Somewhat satisfied        0
## 40        2035          FALSE    IL   Not very satisfied        0
## 41        6985          FALSE    TN Completely satisfied        0
## 42        4743          FALSE    MS Completely satisfied        0
## 43        2832          FALSE    NC   Somewhat satisfied        0
## 44        6390          FALSE    OH       Very satisfied        0
## 45        3714          FALSE    TX       Very satisfied        0
## 46         514           TRUE    TX Completely satisfied        0
## 47        6005           TRUE    VA       Very satisfied        0
## 48        1032          FALSE    TN       Very satisfied        0
## 49        5540          FALSE    IN       Very satisfied        0
## 50        5079          FALSE    GA       Very satisfied        1
## 51        2125          FALSE    CA       Very satisfied        0
## 52        1408           TRUE    FL Completely satisfied        0
## 53        5059          FALSE    OH   Somewhat satisfied        0
## 54         871          FALSE    WI Completely satisfied        1
## 55        3787          FALSE    NC Completely satisfied        5
## 56        1761          FALSE    AZ   Somewhat satisfied        0
## 57        2725          FALSE    NJ Completely satisfied        0
## 58        3114           TRUE    PA       Very satisfied        0
## 59        3270          FALSE    FL       Very satisfied        2
## 60        1158          FALSE    PA       Very satisfied        0
## 61        1319          FALSE    OR   Not very satisfied        0
## 62        6991          FALSE    VA   Somewhat satisfied        0
## 63        2994           TRUE    NC Completely satisfied        0
## 64         105          FALSE    AR       Very satisfied        0
## 65        3971          FALSE    DC   Somewhat satisfied        2
## 66         463          FALSE    MS       Very satisfied        1
## 67        3521          FALSE    TX   Somewhat satisfied        1
## 68        5664          FALSE    VA   Somewhat satisfied        1
## 69        6052          FALSE    CA   Somewhat satisfied        0
## 70        4572          FALSE    WI Completely satisfied        0
## 71        4743          FALSE    MS   Somewhat satisfied        0
## 72        3138          FALSE    NY       Very satisfied        0
## 73        3059          FALSE    SC   Somewhat satisfied        0
## 74        5292          FALSE    OH   Somewhat satisfied        0
## 75        6951          FALSE    SC   Somewhat satisfied        2
## 76        5632          FALSE    NC   Not very satisfied        6
## 77        2583          FALSE    TN   Not very satisfied        0
## 78         426          FALSE    LA   Not very satisfied        0
## 79        5270          FALSE    CA Completely satisfied        0
## 80        2527          FALSE    CA       Very satisfied        0
## 81        5015          FALSE    NY Completely satisfied        0
## 82        5270          FALSE    CA   Somewhat satisfied        0
## 83         134           TRUE    TN   Somewhat satisfied        0
## 84        2640           TRUE    CT       Very satisfied        0
## 85        1597          FALSE    LA Completely satisfied        0
## 86        4193          FALSE    MO Completely satisfied        3
## 87        2991          FALSE    CA       Very satisfied        0
## 88        5060           TRUE    NY       Very satisfied        0
## 89        2275          FALSE    PA   Somewhat satisfied        0
## 90        3609          FALSE    TN       Very satisfied        1
## 91        2552          FALSE    IN   Somewhat satisfied        0
## 92        2428          FALSE    TX   Somewhat satisfied        1
## 93        2477           TRUE    IA       Very satisfied        0
## 94        5199          FALSE    NC Completely satisfied        0
## 95         804          FALSE    IL       Very satisfied        0
## 96        5637           TRUE    NC   Somewhat satisfied        0
## 97        6138          FALSE    OH Completely satisfied        0
## 98         194          FALSE    CA   Somewhat satisfied        0
## 99        5585          FALSE    MI       Very satisfied        0
## 100       2268          FALSE    OH       Very satisfied        0
## 101       2428          FALSE    TX       Very satisfied        1
## 102       6450          FALSE    OH   Somewhat satisfied        0
## 103       6052          FALSE    CA       Very satisfied        0
## 104       2527          FALSE    CA       Very satisfied        0
## 105       3052          FALSE    TX   Somewhat satisfied        0
## 106       2995           TRUE    AR Completely satisfied        0
## 107        521          FALSE    MI Completely satisfied        0
## 108        669          FALSE    FL   Somewhat satisfied        0
## 109       2781          FALSE    NY       Very satisfied        1
## 110       5151          FALSE    NC       Very satisfied        0
## 111       2859          FALSE    CA       Very satisfied        0
## 112       2435          FALSE    IL   Somewhat satisfied        0
## 113       4827          FALSE    MS   Somewhat satisfied        0
## 114        547          FALSE    TX       Very satisfied        0
## 115        204           TRUE    CO       Very satisfied        0
## 116       4949          FALSE    IN   Somewhat satisfied        4
## 117       4914          FALSE    MO       Very satisfied        0
## 118       5007          FALSE    GA   Somewhat satisfied        0
## 119       2630           TRUE    SD       Very satisfied        0
## 120       2839           TRUE    NC       Very satisfied        0
## 121       1143          FALSE    WI       Very satisfied        0
## 122       5614          FALSE    AR   Somewhat satisfied        0
## 123       3591          FALSE    OH       Very satisfied        0
## 124       6314          FALSE    MD       Very satisfied        0
## 125       4456          FALSE    AR       Very satisfied        1
## 126       4622           TRUE    CO Completely satisfied        0
## 127       5415          FALSE    LA Completely satisfied        0
## 128       3080           TRUE    NJ       Very satisfied        0
## 129       5670          FALSE    VA   Somewhat satisfied        0
## 130       6487          FALSE    MS   Somewhat satisfied        1
## 131       6156          FALSE    NC Completely satisfied        0
## 132       2630           TRUE    SD Not at all satisfied        0
## 133        808          FALSE    TX       Very satisfied        0
## 134       5760          FALSE    MO   Somewhat satisfied        0
## 135       6645          FALSE    MO       Very satisfied        0
## 136       5441          FALSE    MD   Somewhat satisfied        0
## 137       3626          FALSE    FL   Somewhat satisfied        0
## 138       2695          FALSE    SC   Somewhat satisfied        0
## 139         85          FALSE    WA       Very satisfied        0
## 140       4973          FALSE    MI   Not very satisfied        0
## 141       1679          FALSE    NY       Very satisfied        0
## 142       2430          FALSE    GA       Very satisfied        0
## 143        673          FALSE    TX       Very satisfied        0
## 144        386          FALSE    MA Completely satisfied        0
## 145       4603          FALSE    IL   Somewhat satisfied        0
## 146       3091          FALSE    VA       Very satisfied        1
## 147       5631          FALSE    FL       Very satisfied        0
## 148       4012          FALSE    KY       Very satisfied        0
## 149       5547          FALSE    CA   Somewhat satisfied        0
## 150       1417          FALSE    MI Completely satisfied        0
## 151       3731          FALSE    NY       Very satisfied        0
## 152       3148          FALSE    SD       Very satisfied        1
## 153        130          FALSE    NC   Somewhat satisfied        2
## 154        262          FALSE    CA   Somewhat satisfied        0
## 155        266          FALSE    NC   Somewhat satisfied        0
## 156       1658          FALSE    CA   Somewhat satisfied        1
## 157       2328          FALSE    MD   Somewhat satisfied        1
## 158       6397          FALSE    FL   Somewhat satisfied        0
## 159       3080           TRUE    AL Completely satisfied        0
## 160       4872          FALSE    CO       Very satisfied        0
## 161       5614          FALSE    AR   Somewhat satisfied        0
## 162       1942          FALSE    NC   Somewhat satisfied        1
## 163       5592          FALSE    TX       Very satisfied        0
## 164       5011          FALSE    CA       Very satisfied        0
## 165       4694           TRUE    AZ       Very satisfied        0
## 166       3052          FALSE    TX   Somewhat satisfied        5
## 167       6739          FALSE    PA Completely satisfied        0
## 168       2971          FALSE    VT       Very satisfied        0
## 169       4067          FALSE    MD   Somewhat satisfied        0
## 170        636          FALSE    VA       Very satisfied        0
## 171        885          FALSE    VA       Very satisfied        0
## 172       2449          FALSE    GA   Somewhat satisfied        0
## 173       5184          FALSE    MS   Somewhat satisfied        0
## 174        467          FALSE    MA       Very satisfied        0
## 175        903          FALSE    UT       Very satisfied        1
## 176       3554          FALSE    MS   Somewhat satisfied        1
## 177       5830          FALSE    MI       Very satisfied        0
## 178        753          FALSE    MS       Very satisfied        1
## 179       6561          FALSE    NC Completely satisfied        4
## 180        917          FALSE    MI   Somewhat satisfied        0
## 181       5170          FALSE    CA       Very satisfied        0
## 182       5661          FALSE    TX   Somewhat satisfied        0
## 183       6777          FALSE    NC   Somewhat satisfied        0
## 184       2754          FALSE    SC       Very satisfied        0
## 185       2373          FALSE    IA       Very satisfied        0
## 186       5639          FALSE    MI       Very satisfied        0
## 187       6251          FALSE    TN   Somewhat satisfied        0
## 188       3032          FALSE    NC Completely satisfied        2
## 189       5313          FALSE    TX       Very satisfied        0
## 190       3775          FALSE    MN       Very satisfied        2
## 191       4019          FALSE    OH       Very satisfied        4
## 192       2605           TRUE    MT       Very satisfied        0
## 193       1840          FALSE    ND       Very satisfied        0
## 194       2180           TRUE    WA Completely satisfied        0
## 195       5387          FALSE    SC Completely satisfied        0
## 196       4717           TRUE    IL       Very satisfied        0
## 197       1593           TRUE    AL   Somewhat satisfied        0
## 198       1335           TRUE    MD       Very satisfied        0
## 199       5313          FALSE    TX   Somewhat satisfied        1
## 200       3157          FALSE    TN Completely satisfied        1
## 201       2345          FALSE    IL   Somewhat satisfied        0
## 202       4642          FALSE    FL       Very satisfied        0
## 203       1417          FALSE    MI       Very satisfied        0
## 204       3799          FALSE    CA   Somewhat satisfied        0
## 205       5011           TRUE    CA Completely satisfied        0
## 206       1490          FALSE    ND   Somewhat satisfied        0
## 207       6946           TRUE    NV       Very satisfied        0
## 208        570          FALSE    NY       Very satisfied        0
## 209       6653          FALSE    SC   Somewhat satisfied        0
## 210       4252          FALSE    MD       Very satisfied        1
## 211        713          FALSE    IA   Somewhat satisfied        0
## 212       3053          FALSE    OR       Very satisfied        0
## 213       6397           TRUE    FL Completely satisfied        0
## 214        944          FALSE    GA   Somewhat satisfied        0
## 215       3647          FALSE    MS   Somewhat satisfied        0
## 216       4508          FALSE    TX   Somewhat satisfied        0
## 217       4505           TRUE    VA       Very satisfied        0
## 218        513          FALSE    NY Completely satisfied        0
## 219        622          FALSE    OK   Somewhat satisfied        0
## 220       6889          FALSE    TX       Very satisfied        1
## 221       2151          FALSE    VA   Somewhat satisfied        0
## 222        798          FALSE    WA       Very satisfied        0
## 223       3111          FALSE    NC       Very satisfied        1
## 224       5247          FALSE    NY Completely satisfied        0
## 225       2868          FALSE    NJ       Very satisfied        0
## 226       2936          FALSE    TX Completely satisfied        2
## 227       5067           TRUE    FL       Very satisfied        0
## 228        640           TRUE    NY       Very satisfied        0
## 229         78           TRUE    NC Completely satisfied        0
## 230       4599          FALSE    GA   Somewhat satisfied        1
## 231       2193          FALSE    NY Completely satisfied        2
## 232       3185          FALSE    WI       Very satisfied        0
## 233       1570          FALSE    IN       Very satisfied        0
## 234       6148          FALSE    MD   Somewhat satisfied        0
## 235       3155          FALSE    NJ   Somewhat satisfied        0
## 236       3683          FALSE    MD Completely satisfied        2
## 237       2391          FALSE    MS       Very satisfied        0
## 238       5244          FALSE    NY       Very satisfied        0
## 239       2084          FALSE    OK   Somewhat satisfied        2
## 240        285          FALSE    IN       Very satisfied        0
## 241       6601          FALSE    MO       Very satisfied        0
## 242       4305          FALSE    MO   Somewhat satisfied        0
## 243       3009          FALSE    MD       Very satisfied        0
## 244       5442          FALSE    NJ   Somewhat satisfied        0
## 245       4790          FALSE    CA       Very satisfied        0
## 246       3018          FALSE    FL       Very satisfied        1
## 247       5661          FALSE    TX   Somewhat satisfied        0
## 248        716           TRUE    MS       Very satisfied        0
## 249       5065          FALSE    NC   Somewhat satisfied        1
## 250       5529          FALSE    MI       Very satisfied        0
## 251       1215          FALSE    NC   Somewhat satisfied        0
## 252       4525          FALSE    VA       Very satisfied        0
## 253       4260           TRUE    TX   Somewhat satisfied        0
## 254       3071          FALSE    TX       Very satisfied        1
## 255       4271          FALSE    TX   Somewhat satisfied        0
## 256       4619          FALSE    NC   Not very satisfied        1
## 257       1957          FALSE    MI Completely satisfied        0
## 258       1190          FALSE    KY   Not very satisfied        0
## 259       4258          FALSE    SC   Somewhat satisfied        0
## 260        155          FALSE    NE   Somewhat satisfied        0
## 261       2386          FALSE    MD Completely satisfied        4
## 262       4960          FALSE    CA       Very satisfied        1
## 263       4530          FALSE    IL       Very satisfied        1
## 264       2363          FALSE    SC Completely satisfied        0
## 265       3027          FALSE    CA       Very satisfied        0
## 266       3932          FALSE    MO   Somewhat satisfied        0
## 267       6315          FALSE    TX   Somewhat satisfied        2
## 268       6778          FALSE    CO Completely satisfied        1
## 269       4261          FALSE    FL Completely satisfied        0
## 270       2993          FALSE    AR   Somewhat satisfied        2
## 271       1243          FALSE    NJ       Very satisfied        0
## 272         53          FALSE    NC   Somewhat satisfied        1
## 273        624          FALSE    TN Completely satisfied        4
## 274       5533          FALSE    CA   Somewhat satisfied        1
## 275       4482          FALSE    AZ       Very satisfied        0
## 276       4526          FALSE    OH Completely satisfied        0
## 277       1334          FALSE    MO       Very satisfied        1
## 278        184          FALSE    IN   Not very satisfied        0
## 279       4455          FALSE    AR       Very satisfied        5
## 280       2761           TRUE    TN       Very satisfied        0
## 281       2735          FALSE    OK Completely satisfied        0
## 282       4761          FALSE    AR       Very satisfied        2
## 283        398          FALSE    OK Completely satisfied        0
## 284       4339          FALSE    MS   Somewhat satisfied        0
## 285       3133          FALSE    GA       Very satisfied        0
## 286       6195          FALSE    IA       Very satisfied        0
## 287       6375          FALSE    AL   Somewhat satisfied        0
## 288       1767           TRUE    CA       Very satisfied        0
## 289       5200          FALSE    MI       Very satisfied        0
## 290       5911          FALSE    GA   Somewhat satisfied        0
## 291        834          FALSE    OR       Very satisfied        0
## 292       3238          FALSE    FL Completely satisfied        2
## 293       5288          FALSE    MD   Somewhat satisfied        0
## 294       5483          FALSE    MA   Somewhat satisfied        0
## 295        252          FALSE    NY   Somewhat satisfied        1
## 296       3786          FALSE    OH Completely satisfied        2
## 297        845          FALSE    AR       Very satisfied        0
## 298        246          FALSE    MO   Somewhat satisfied        1
## 299       1062          FALSE    VA       Very satisfied        0
## 300       3636          FALSE    GA Completely satisfied        1
## 301        209          FALSE    TN   Somewhat satisfied        1
## 302       4203           TRUE    LA       Very satisfied        0
## 303       2386          FALSE    MD Completely satisfied        0
## 304       1483           TRUE    GA       Very satisfied        0
## 305       4982          FALSE    MO   Somewhat satisfied        0
## 306       4434          FALSE    CA       Very satisfied        0
## 307       5205          FALSE    SC   Somewhat satisfied        0
## 308       2462          FALSE    SC       Very satisfied        1
## 309       1883          FALSE    IL       Very satisfied        0
## 310       4432           TRUE    TX   Somewhat satisfied        0
## 311       2961          FALSE    MI   Somewhat satisfied        0
## 312       4613          FALSE    VA   Somewhat satisfied        0
## 313        134          FALSE    MS Completely satisfied        0
## 314       5698          FALSE    KY       Very satisfied        0
## 315        470          FALSE    FL       Very satisfied        0
## 316       4223          FALSE    IN       Very satisfied        0
## 317       4036          FALSE    FL       Very satisfied        0
## 318       3817          FALSE    OH   Somewhat satisfied        0
## 319       2000          FALSE    OH       Very satisfied        0
## 320        248          FALSE    MO   Somewhat satisfied        0
## 321        534          FALSE    VA       Very satisfied        0
## 322       4460           TRUE    NC       Very satisfied        0
## 323       4929          FALSE    SC   Somewhat satisfied        3
## 324       3010           TRUE    MA       Very satisfied        0
## 325       4243          FALSE    CA   Somewhat satisfied        2
## 326       6772          FALSE    UT       Very satisfied        0
## 327       4901           TRUE    IA   Somewhat satisfied        0
## 328       1055          FALSE    NC Completely satisfied        0
## 329         79          FALSE    GA       Very satisfied        2
## 330       4975          FALSE    MD       Very satisfied        0
## 331       2938          FALSE    SC   Somewhat satisfied        0
## 332        531          FALSE    CT   Somewhat satisfied        2
## 333       3860          FALSE    TX       Very satisfied        1
## 334       5386          FALSE    FL   Somewhat satisfied        0
## 335       5841          FALSE    DC   Somewhat satisfied        2
## 336        927          FALSE    AR   Somewhat satisfied        4
## 337       2319          FALSE    MO   Somewhat satisfied        1
## 338       5590           TRUE    NY       Very satisfied        0
## 339       5639          FALSE    MI       Very satisfied        0
## 340       4302          FALSE    AZ   Somewhat satisfied        0
## 341       2412          FALSE    IN       Very satisfied        0
## 342       4852          FALSE    SC       Very satisfied        2
## 343       2202           TRUE    TN       Very satisfied        0
## 344        549          FALSE    MS       Very satisfied        0
## 345        846          FALSE    IN Completely satisfied        0
## 346       6574          FALSE    CA Completely satisfied        0
## 347       2650          FALSE    MS   Somewhat satisfied        4
## 348       6664           TRUE    PA       Very satisfied        0
## 349       6563          FALSE    PA       Very satisfied        1
## 350       2830          FALSE    MI       Very satisfied        0
## 351       1839          FALSE    MO   Somewhat satisfied        0
## 352       3114           TRUE    PA       Very satisfied        0
## 353       1896          FALSE    NY       Very satisfied        0
## 354       4815          FALSE    SC Completely satisfied        0
## 355       1149          FALSE    IN Completely satisfied        1
## 356       4432           TRUE    NC       Very satisfied        0
## 357       5984          FALSE    AR   Somewhat satisfied        0
## 358        222          FALSE    SC       Very satisfied        1
## 359       1544          FALSE    MO       Very satisfied        0
## 360       4175          FALSE    MI       Very satisfied        1
## 361       6928          FALSE    GA   Somewhat satisfied        0
## 362       2852          FALSE    SC       Very satisfied        0
## 363        879          FALSE    PA   Somewhat satisfied        0
## 364       4073          FALSE    GA   Somewhat satisfied        0
## 365       4614          FALSE    MA Completely satisfied        1
## 366       3026           TRUE    CA   Somewhat satisfied        0
## 367       2601          FALSE    NY Completely satisfied        1
## 368       1452          FALSE    AL       Very satisfied        0
## 369       3746          FALSE    IN Completely satisfied        0
## 370       2119          FALSE    CO   Somewhat satisfied        0
## 371       4428          FALSE    OR       Very satisfied        0
## 372       6734          FALSE    SC Completely satisfied        0
## 373       4149          FALSE    GA Completely satisfied        3
## 374       3219          FALSE    CO       Very satisfied        0
## 375       1577          FALSE    SC   Somewhat satisfied        0
## 376       2372          FALSE    SC   Somewhat satisfied        0
## 377       4365          FALSE    TN       Very satisfied        0
## 378       5704          FALSE    CA   Somewhat satisfied        0
## 379        534          FALSE    VA Completely satisfied        0
## 380       3650          FALSE    MI       Very satisfied        3
## 381       3314          FALSE    ND       Very satisfied        0
## 382       2338          FALSE    OK   Somewhat satisfied        0
## 383       2344           TRUE    PA       Very satisfied        0
## 384       2729          FALSE    WV Completely satisfied        1
## 385       1588          FALSE    OH       Very satisfied        0
## 386       5230           TRUE    MI       Very satisfied        0
## 387       4819           TRUE    LA   Somewhat satisfied        0
## 388       6774          FALSE    CA   Somewhat satisfied        0
## 389        467           TRUE    MA       Very satisfied        0
## 390       5086          FALSE    TX Completely satisfied        4
## 391        645           TRUE    IL       Very satisfied        0
## 392       1056          FALSE    CA       Very satisfied        1
## 393       1191          FALSE    IL       Very satisfied        0
## 394       6051           TRUE    KY Completely satisfied        0
## 395       4827          FALSE    MS   Somewhat satisfied        0
## 396       5050           TRUE    MO       Very satisfied        0
## 397        790           TRUE    RI       Very satisfied        0
## 398       6857          FALSE    GA       Very satisfied        2
## 399       2406          FALSE    IN Completely satisfied        2
## 400       4922          FALSE    NJ       Very satisfied        1
## 401       2593          FALSE    MA Completely satisfied        0
## 402       2256          FALSE    TN   Somewhat satisfied        0
## 403       1575          FALSE    SC       Very satisfied        0
## 404       6254          FALSE    CA       Very satisfied        0
## 405       1541          FALSE    WA   Somewhat satisfied        0
## 406       4492          FALSE    AR       Very satisfied        0
## 407        663          FALSE    TX   Somewhat satisfied        0
## 408       2356          FALSE    WI   Not very satisfied        0
## 409       6788          FALSE    CO       Very satisfied        0
## 410       4766          FALSE    MS   Somewhat satisfied        0
## 411       1330          FALSE    MO       Very satisfied        0
## 412       4859          FALSE    OH       Very satisfied        0
## 413       2282           TRUE    TX       Very satisfied        0
## 414       2263          FALSE    AL   Somewhat satisfied        0
## 415       3142           TRUE    NY   Somewhat satisfied        0
## 416       4364          FALSE    ID       Very satisfied        0
## 417       1745          FALSE    OH   Somewhat satisfied        0
## 418       3510          FALSE    MD       Very satisfied        0
## 419       4887          FALSE    IN   Somewhat satisfied        0
## 420       1660          FALSE    CA   Somewhat satisfied        0
## 421       3390          FALSE    SC   Somewhat satisfied        0
## 422       6893           TRUE    TN Completely satisfied        0
## 423       4920          FALSE    NY       Very satisfied        3
## 424       2634          FALSE    VA   Somewhat satisfied        0
## 425         49          FALSE    MO       Very satisfied        0
## 426       4203          FALSE    LA       Very satisfied        0
## 427       6630          FALSE    LA Completely satisfied        0
## 428        568          FALSE    VA       Very satisfied        0
## 429       4742          FALSE    CA       Very satisfied        0
## 430       4855          FALSE    CA       Very satisfied        0
## 431       2543          FALSE    OH   Somewhat satisfied        1
## 432       4164          FALSE    NY   Somewhat satisfied        0
## 433       3622          FALSE    GA   Somewhat satisfied        0
## 434       3609          FALSE    TN       Very satisfied        0
## 435       3542          FALSE    IA   Somewhat satisfied        2
## 436       4802          FALSE    TX       Very satisfied        0
## 437       1829          FALSE    CA       Very satisfied        0
## 438        391           TRUE    WA       Very satisfied        0
## 439       4912          FALSE    SD       Very satisfied        2
## 440       2015           TRUE    TX       Very satisfied        0
## 441       2247          FALSE    TN   Somewhat satisfied        2
## 442       2839           TRUE    CA       Very satisfied        0
## 443       2796          FALSE    KY   Somewhat satisfied        0
## 444       6143          FALSE    NY       Very satisfied        2
## 445       5474          FALSE    IL       Very satisfied        0
## 446       6545          FALSE    NC   Somewhat satisfied        0
## 447       4864          FALSE    CA   Somewhat satisfied        1
## 448       6494          FALSE    WA       Very satisfied        0
## 449       4973          FALSE    MI       Very satisfied        0
## 450       4814           TRUE    TX   Somewhat satisfied        0
## 451       3214          FALSE    PA       Very satisfied        0
## 452       5697          FALSE    IN   Somewhat satisfied        0
## 453       1216           TRUE    PA       Very satisfied        0
## 454       4802          FALSE    TX Completely satisfied        0
## 455       3856          FALSE    OH   Somewhat satisfied        2
## 456       6898          FALSE    CA Completely satisfied        1
## 457       5910          FALSE    NY   Somewhat satisfied        2
## 458       3800          FALSE    PA   Somewhat satisfied        0
## 459       3014          FALSE    MO       Very satisfied        0
## 460        869           TRUE    IL Completely satisfied        0
## 461       5314           TRUE    TX Completely satisfied        0
## 462       5686          FALSE    MO Completely satisfied        2
## 463       2617           TRUE    PA   Somewhat satisfied        0
## 464       2798          FALSE    VA   Somewhat satisfied        0
## 465       5776          FALSE    HI       Very satisfied        0
## 466       4211          FALSE    PA   Somewhat satisfied        0
## 467       2259          FALSE    CA   Somewhat satisfied        0
## 468       1721          FALSE    PA   Somewhat satisfied        1
## 469       6192          FALSE    OH       Very satisfied        0
## 470       1364          FALSE    MS Completely satisfied        0
## 471       5528          FALSE    OK       Very satisfied        1
## 472       2016          FALSE    IA       Very satisfied        0
## 473        919          FALSE    NJ       Very satisfied        0
## 474       3706           TRUE    CO Completely satisfied        0
## 475        244          FALSE    GA Completely satisfied        0
## 476        205           TRUE    MA       Very satisfied        0
## 477       2569          FALSE    SC Completely satisfied        1
## 478       3387          FALSE    NC   Somewhat satisfied        0
## 479       2438          FALSE    NY       Very satisfied        0
## 480       2712          FALSE    KS       Very satisfied        0
## 481       5587          FALSE    OH       Very satisfied        0
## 482       2204          FALSE    WA Completely satisfied        0
## 483       5665          FALSE    FL   Somewhat satisfied        0
## 484       6940          FALSE    NC   Somewhat satisfied        2
## 485       4505           TRUE    NJ       Very satisfied        1
## 486       4104          FALSE    GA   Somewhat satisfied        0
## 487         99          FALSE    PA   Somewhat satisfied        0
## 488       2337          FALSE    MO   Somewhat satisfied        0
## 489       4079          FALSE    NE       Very satisfied        4
## 490       5121          FALSE    FL Completely satisfied        2
## 491        879          FALSE    PA       Very satisfied        0
## 492       2899          FALSE    MI Completely satisfied        3
## 493       6809          FALSE    IN Completely satisfied        0
## 494        449           TRUE    MI   Somewhat satisfied        0
## 495       4066           TRUE    NV       Very satisfied        0
## 496       3701          FALSE    NM Completely satisfied        0
## 497        649          FALSE    TN Completely satisfied        1
## 498       3900          FALSE    CA       Very satisfied        0
## 499       3967          FALSE    CA       Very satisfied        0
## 500       5968          FALSE    MI       Very satisfied        0
## 501        169           TRUE    MS Completely satisfied        0
## 502       4467          FALSE    MD       Very satisfied        0
## 503       2922           TRUE    CO       Very satisfied        0
## 504       5941          FALSE    MA Completely satisfied        0
## 505         62          FALSE    KY   Somewhat satisfied        1
## 506       3552          FALSE    TX   Somewhat satisfied       10
## 507       1470           TRUE    WI   Somewhat satisfied        0
## 508       3594          FALSE    SC       Very satisfied        0
## 509       4396          FALSE    OH       Very satisfied        0
## 510       4159          FALSE    OH   Somewhat satisfied        0
## 511       6911          FALSE    CA       Very satisfied        0
## 512       1113          FALSE    CA   Somewhat satisfied        0
## 513        806          FALSE    VA       Very satisfied        0
## 514        822          FALSE    IA Completely satisfied        0
## 515       3598           TRUE    PA       Very satisfied        0
## 516       5337          FALSE    FL       Very satisfied        2
## 517       6440          FALSE    CA Completely satisfied        0
## 518       1058          FALSE    OH       Very satisfied        0
## 519        459           TRUE    CO       Very satisfied        0
## 520       1397          FALSE    MI   Somewhat satisfied        0
## 521       1060          FALSE    MI       Very satisfied        0
## 522       2509           TRUE    OH       Very satisfied        0
## 523       4544           TRUE    UT       Very satisfied        0
## 524       3331          FALSE    MO       Very satisfied        0
## 525       2598          FALSE    IA   Somewhat satisfied        4
## 526       2159          FALSE    SC Completely satisfied        0
## 527       4171          FALSE    PA       Very satisfied        0
## 528         83          FALSE    FL   Somewhat satisfied        0
## 529       5769          FALSE    CA       Very satisfied        0
## 530       3686          FALSE    CA Completely satisfied        0
## 531       3024          FALSE    OR       Very satisfied        0
## 532       1996          FALSE    MI       Very satisfied        0
## 533       3444          FALSE    VA   Somewhat satisfied        2
## 534       5128          FALSE    CA       Very satisfied        0
## 535       2009          FALSE    TX       Very satisfied        0
## 536       2977          FALSE    PA       Very satisfied        0
## 537       1829           TRUE    CA   Somewhat satisfied        0
## 538       6721          FALSE    SC   Somewhat satisfied        1
## 539       2166          FALSE    SC   Not very satisfied        0
## 540       1622          FALSE    TX Completely satisfied        0
## 541       2978          FALSE    PA   Somewhat satisfied        0
## 542       4164          FALSE    NY       Very satisfied        0
## 543       3199           TRUE    NC       Very satisfied        0
## 544       2988          FALSE    WA       Very satisfied        0
## 545       1921          FALSE    SC Completely satisfied        0
## 546       1232          FALSE    MS   Somewhat satisfied        0
## 547       4069          FALSE    NM       Very satisfied        2
## 548        226          FALSE    MS   Somewhat satisfied        1
## 549       6443          FALSE    CA       Very satisfied        0
## 550       3283          FALSE    SC       Very satisfied        1
## 551       3929          FALSE    MI       Very satisfied        0
## 552        823           TRUE    KS Completely satisfied        0
## 553       1691          FALSE    MS   Somewhat satisfied        1
## 554       2770          FALSE    NC   Somewhat satisfied        0
## 555       3769          FALSE    PA       Very satisfied        0
## 556       3972          FALSE    MI       Very satisfied        0
## 557       1359           TRUE    IL       Very satisfied        0
## 558       4953          FALSE    OH       Very satisfied        0
## 559       6661          FALSE    AZ       Very satisfied        1
## 560       1119           TRUE    PA       Very satisfied        0
## 561       4020          FALSE    MO       Very satisfied        1
## 562       2646          FALSE    TX   Not very satisfied        0
## 563        342          FALSE    SC       Very satisfied        0
## 564       5075          FALSE    IL       Very satisfied        0
## 565       1118          FALSE    AR       Very satisfied        2
## 566       3345          FALSE    FL       Very satisfied        1
## 567       2731          FALSE    CA   Somewhat satisfied        0
## 568       1641          FALSE    IN Not at all satisfied        0
## 569       1336          FALSE    IL   Somewhat satisfied        0
## 570       5240          FALSE    WI       Very satisfied        0
## 571       3034          FALSE    WA       Very satisfied        0
## 572       5105          FALSE    CO       Very satisfied        0
## 573       4049          FALSE    LA Completely satisfied        1
## 574       2724          FALSE    NC   Somewhat satisfied        1
## 575       6119          FALSE    AZ       Very satisfied        0
## 576       6589          FALSE    OH       Very satisfied        0
## 577       2508          FALSE    NJ   Somewhat satisfied        0
## 578       3794          FALSE    IL   Somewhat satisfied        1
## 579       4190          FALSE    IL       Very satisfied        0
## 580       1849          FALSE    CA   Somewhat satisfied        0
## 581       5675          FALSE    OH   Somewhat satisfied        0
## 582       1327           TRUE    IL       Very satisfied        0
## 583       4709          FALSE    MO       Very satisfied        0
## 584       6844          FALSE    TX   Somewhat satisfied        2
## 585       2177          FALSE    FL Completely satisfied        1
## 586       3985          FALSE    MS Completely satisfied        1
## 587       1128          FALSE    MS   Somewhat satisfied        0
## 588       6363          FALSE    MI   Somewhat satisfied        0
## 589        487          FALSE    GA Completely satisfied        0
## 590       4783          FALSE    SC Completely satisfied        1
## 591       3040          FALSE    TX   Somewhat satisfied        0
## 592       6967          FALSE    NJ       Very satisfied        0
## 593       3117          FALSE    SC   Somewhat satisfied        1
## 594       5396          FALSE    MO   Somewhat satisfied        0
## 595       5119          FALSE    CA       Very satisfied        0
## 596       2408          FALSE    IA       Very satisfied        0
## 597       1093          FALSE    MS   Somewhat satisfied        0
## 598       2098          FALSE    WA       Very satisfied        0
## 599       5613          FALSE    SC   Somewhat satisfied        2
## 600        230           TRUE    AL       Very satisfied        0
## 601       6743          FALSE    IL   Somewhat satisfied        0
## 602       6776          FALSE    TX       Very satisfied        0
## 603       1729          FALSE    CO       Very satisfied        0
## 604       4151          FALSE    OK       Very satisfied        2
## 605        783           TRUE    IA       Very satisfied        0
## 606       1805          FALSE    MI       Very satisfied        0
## 607        193          FALSE    KY       Very satisfied        1
## 608       5277          FALSE    MI       Very satisfied        2
## 609       3988          FALSE    OH   Somewhat satisfied        0
## 610       4329          FALSE    NY       Very satisfied        0
## 611        543          FALSE    GA       Very satisfied        0
## 612       5055          FALSE    AZ       Very satisfied        2
## 613       3839          FALSE    MS   Somewhat satisfied        2
## 614       5623          FALSE    MS Completely satisfied        0
## 615       3113           TRUE    PA Completely satisfied        0
## 616       4942          FALSE    CA       Very satisfied        0
## 617       2541          FALSE    OK       Very satisfied        0
## 618       3083           TRUE    NY   Somewhat satisfied        0
## 619        238          FALSE    MD   Somewhat satisfied        0
## 620       4714          FALSE    MI   Somewhat satisfied        1
## 621       4351          FALSE    VA Completely satisfied        0
## 622       6978          FALSE    FL       Very satisfied        0
## 623       1132          FALSE    NC       Very satisfied        0
## 624       5286          FALSE    IN       Very satisfied        0
## 625       2597          FALSE    VA   Somewhat satisfied        1
## 626       1031          FALSE    MD       Very satisfied        0
## 627       4308          FALSE    PA Completely satisfied        1
## 628       5680          FALSE    TN       Very satisfied        0
## 629       3598          FALSE    TX       Very satisfied        0
## 630       1342          FALSE    FL   Not very satisfied        1
## 631       2564          FALSE    OH       Very satisfied        0
## 632       4772          FALSE    CA       Very satisfied        0
## 633       2645          FALSE    WA       Very satisfied        0
## 634       1838          FALSE    UT   Somewhat satisfied        0
## 635       2489           TRUE    UT       Very satisfied        0
## 636       6740          FALSE    MD       Very satisfied        0
## 637        150          FALSE    OH       Very satisfied        3
## 638       1397           TRUE    MI   Somewhat satisfied        0
## 639       3319          FALSE    LA   Somewhat satisfied        2
## 640       2018          FALSE    NY Completely satisfied        0
## 641       3113           TRUE    CA       Very satisfied        0
## 642       1879          FALSE    FL       Very satisfied        0
## 643       3826          FALSE    NY   Somewhat satisfied        0
## 644        385          FALSE    SC Completely satisfied        0
## 645       4159          FALSE    OH   Not very satisfied        0
## 646       5964          FALSE    CA   Somewhat satisfied        1
## 647       4897          FALSE    IN Completely satisfied        1
## 648        958          FALSE    MI Completely satisfied        1
## 649        145          FALSE    NC   Somewhat satisfied        0
## 650       2992          FALSE    FL   Somewhat satisfied        0
## 651       5235          FALSE    TX       Very satisfied        0
## 652       3195          FALSE    MI   Somewhat satisfied        1
## 653        142           TRUE    TN   Somewhat satisfied        1
## 654       1465          FALSE    SC       Very satisfied        1
## 655       5540           TRUE    IN       Very satisfied        0
## 656       2174          FALSE    IA       Very satisfied        0
## 657       4403           TRUE    DE Completely satisfied        0
## 658       1614          FALSE    NC   Somewhat satisfied        0
## 659        173          FALSE    MI   Somewhat satisfied        1
## 660       3083          FALSE    NY   Somewhat satisfied        0
## 661       6038           TRUE    NJ       Very satisfied        0
## 662       5263          FALSE    SC Completely satisfied        0
## 663       1029          FALSE    MN   Somewhat satisfied        0
## 664       4481          FALSE    TX       Very satisfied        0
## 665       6856          FALSE    MS   Somewhat satisfied        0
## 666       4208          FALSE    NC       Very satisfied        0
## 667       6276          FALSE    IN   Not very satisfied        0
## 668       4522          FALSE    SC Completely satisfied        0
## 669       2280           TRUE    OH       Very satisfied        0
## 670       4480          FALSE    OR       Very satisfied        0
## 671        645           TRUE    NJ       Very satisfied        0
## 672       5987          FALSE    MD   Somewhat satisfied        2
## 673       1336          FALSE    IL Completely satisfied        0
## 674       1477          FALSE    OH Completely satisfied        0
## 675       5843          FALSE    WA       Very satisfied        1
## 676       2545          FALSE    IN Completely satisfied        0
## 677       3826          FALSE    NY   Somewhat satisfied        0
## 678       3762          FALSE    MI   Somewhat satisfied        1
## 679        843          FALSE    ND       Very satisfied        0
## 680       5039          FALSE    TX   Somewhat satisfied        3
## 681       1381           TRUE    FL       Very satisfied        0
## 682       1824          FALSE    OR   Somewhat satisfied        0
## 683       4494          FALSE    MS   Somewhat satisfied        0
## 684       6171          FALSE    OR       Very satisfied        0
## 685       6210          FALSE    SC Completely satisfied        0
## 686       5252          FALSE    NY       Very satisfied        0
## 687       2471           TRUE    NJ       Very satisfied        0
## 688       5019           TRUE    FL Completely satisfied        0
## 689       1236          FALSE    KY Completely satisfied        0
## 690       3422          FALSE    TN   Somewhat satisfied        3
## 691        161          FALSE    OH       Very satisfied        0
## 692       2120          FALSE    OR   Somewhat satisfied        0
## 693       3908          FALSE    TX   Somewhat satisfied        0
## 694       6493          FALSE    MN   Somewhat satisfied        0
## 695       6394          FALSE    NC   Somewhat satisfied        0
## 696       5240          FALSE    WI Completely satisfied        2
## 697       6186          FALSE    MS   Somewhat satisfied        1
## 698        369           TRUE    NY       Very satisfied        0
## 699       6711          FALSE    MI       Very satisfied        0
## 700       5210          FALSE    CA   Somewhat satisfied        0
## 701       1142          FALSE    MO       Very satisfied        0
## 702       5865          FALSE    LA   Somewhat satisfied        0
## 703        224          FALSE    NC       Very satisfied        0
## 704       1962          FALSE    WA   Not very satisfied        0
## 705       1333          FALSE    NY       Very satisfied        0
## 706        514          FALSE    TX Completely satisfied        0
## 707       3429          FALSE    MS   Somewhat satisfied        0
## 708       4639          FALSE    DC   Somewhat satisfied        0
## 709       4927           TRUE    GA       Very satisfied        0
## 710       4441          FALSE    SC       Very satisfied        1
## 711        448          FALSE    NE Completely satisfied        1
## 712       4150          FALSE    AL Completely satisfied        0
## 713        680          FALSE    PA Completely satisfied        0
## 714       2065          FALSE    MD   Somewhat satisfied        0
## 715       3347          FALSE    SC   Somewhat satisfied        0
## 716        548          FALSE    NY       Very satisfied        0
## 717        731           TRUE    GA Completely satisfied        0
## 718       1053          FALSE    MO Completely satisfied        0
## 719       1611          FALSE    MO Completely satisfied        1
## 720       5702          FALSE    MS   Somewhat satisfied        1
## 721       6946          FALSE    NV   Somewhat satisfied        0
## 722        456          FALSE    TX       Very satisfied        1
## 723       1657          FALSE    MI       Very satisfied        0
## 724       2795           TRUE    AL Completely satisfied        0
## 725       4510          FALSE    CA       Very satisfied        1
## 726       4578          FALSE    FL       Very satisfied        0
## 727       4472           TRUE    SC   Not very satisfied        0
## 728        102          FALSE    LA   Somewhat satisfied        0
## 729       1248          FALSE    WA Completely satisfied        0
## 730       6285          FALSE    CA       Very satisfied        0
## 731       6820           TRUE    OH       Very satisfied        0
## 732       1951          FALSE    MD       Very satisfied        0
## 733        386          FALSE    NH Completely satisfied        0
## 734       5755          FALSE    MS   Somewhat satisfied        1
## 735       5693          FALSE    MI   Somewhat satisfied        0
## 736       5700          FALSE    OK       Very satisfied        0
## 737       4573          FALSE    CA       Very satisfied        1
## 738       4364          FALSE    ID   Somewhat satisfied        0
## 739        726           TRUE    MA       Very satisfied        0
## 740       6891          FALSE    CA       Very satisfied        0
## 741       5844          FALSE    MO       Very satisfied        0
## 742       3893          FALSE    MS Completely satisfied        0
## 743       5394          FALSE    UT       Very satisfied        0
## 744       6211          FALSE    TX       Very satisfied        3
## 745       4515          FALSE    MI   Somewhat satisfied        0
## 746       6711          FALSE    MI   Somewhat satisfied        0
## 747       5031          FALSE    MI Completely satisfied        0
## 748       4288          FALSE    MS Completely satisfied        3
## 749       2095          FALSE    OH       Very satisfied        0
## 750       5862          FALSE    MS   Somewhat satisfied        4
## 751       3141          FALSE    CA       Very satisfied        0
## 752       3123          FALSE    WY       Very satisfied        0
## 753       2196          FALSE    MI       Very satisfied        3
## 754       2693           TRUE    CA Completely satisfied        0
## 755       3408          FALSE    MO       Very satisfied        0
## 756       1216           TRUE    PA       Very satisfied        0
## 757       6692           TRUE    MI   Not very satisfied        0
## 758        726          FALSE    MA       Very satisfied        0
## 759       6036          FALSE    MO Completely satisfied        1
## 760       4320          FALSE    WI Completely satisfied        0
## 761       2636          FALSE    OH       Very satisfied        0
## 762       6673          FALSE    PA   Somewhat satisfied        0
## 763       2940          FALSE    IL       Very satisfied        0
## 764       5033          FALSE    NC Completely satisfied        1
## 765       2222           TRUE    GA       Very satisfied        0
## 766       3737          FALSE    OR   Somewhat satisfied        0
## 767       4956          FALSE    CA   Somewhat satisfied        1
## 768       6823          FALSE    CA   Somewhat satisfied        0
## 769       5496          FALSE    LA   Somewhat satisfied        0
## 770       2026          FALSE    VA   Somewhat satisfied        0
## 771       3423          FALSE    MA   Somewhat satisfied        1
## 772       4836          FALSE    VA Completely satisfied        2
## 773       6095          FALSE    NC       Very satisfied        0
## 774       5535          FALSE    CA       Very satisfied        0
## 775       4070          FALSE    PA       Very satisfied        0
## 776        967          FALSE    CA       Very satisfied        0
## 777       3555          FALSE    CA       Very satisfied        0
## 778       2582          FALSE    TX   Somewhat satisfied        0
## 779       1081          FALSE    MO   Somewhat satisfied        0
## 780       6114          FALSE    MD       Very satisfied        0
## 781       1762          FALSE    FL Completely satisfied        0
## 782       4793          FALSE    IN       Very satisfied        0
## 783       6038           TRUE    NJ       Very satisfied        0
## 784       2840           TRUE    WI       Very satisfied        0
## 785       5203          FALSE    CA Completely satisfied        0
## 786       3401          FALSE    MI Not at all satisfied        0
## 787       5495          FALSE    PA   Somewhat satisfied        1
## 788       5354          FALSE    PA       Very satisfied        1
## 789        274          FALSE    MD   Somewhat satisfied        0
## 790       4751          FALSE    VA   Somewhat satisfied        0
## 791       5724           TRUE    TX       Very satisfied        0
## 792       2973          FALSE    MA       Very satisfied        0
## 793       3807          FALSE    LA   Somewhat satisfied        1
## 794       2767           TRUE    OH   Somewhat satisfied        1
## 795       4253          FALSE    SC   Somewhat satisfied        2
## 796       6770          FALSE    MS       Very satisfied        4
## 797        689          FALSE    KY       Very satisfied        0
## 798       3362          FALSE    MI       Very satisfied        0
## 799       2175           TRUE    MD   Somewhat satisfied        0
## 800       5397          FALSE    AL       Very satisfied        0
## 801        569          FALSE    CA   Somewhat satisfied        0
## 802        495          FALSE    MS   Somewhat satisfied        1
## 803       5146          FALSE    WA       Very satisfied        0
## 804        387           TRUE    CA       Very satisfied        0
## 805        391           TRUE    WA   Somewhat satisfied        0
## 806       5870          FALSE    CT       Very satisfied        0
## 807       4366          FALSE    OR       Very satisfied        0
## 808       6839           TRUE    MO       Very satisfied        0
## 809       4855          FALSE    CA   Somewhat satisfied        0
## 810       6541          FALSE    CA Completely satisfied        2
## 811       4623          FALSE    MD   Somewhat satisfied        0
## 812       5448          FALSE    MD       Very satisfied        1
## 813       2342           TRUE    ND       Very satisfied        0
## 814       3486          FALSE    CA Completely satisfied        1
## 815       3894          FALSE    MS   Somewhat satisfied        2
## 816       3456          FALSE    GA       Very satisfied        1
## 817       3042          FALSE    NC       Very satisfied        0
## 818        444          FALSE    IN       Very satisfied        0
## 819       1730          FALSE    NC       Very satisfied        0
## 820       2503          FALSE    SC       Very satisfied        0
## 821       3965          FALSE    ID       Very satisfied        0
## 822        890          FALSE    NJ       Very satisfied        0
## 823       6020          FALSE    PA       Very satisfied        0
## 824       4003          FALSE    TN       Very satisfied        0
## 825        898          FALSE    NC Completely satisfied        1
## 826       1671          FALSE    CA       Very satisfied        0
## 827       1437          FALSE    CA Not at all satisfied        1
## 828       3358          FALSE    CA   Somewhat satisfied        0
## 829       1780           TRUE    FL       Very satisfied        0
## 830        511          FALSE    OR       Very satisfied        0
## 831       3276          FALSE    AL       Very satisfied        0
## 832       5807          FALSE    OH       Very satisfied        1
## 833       4804           TRUE    CA       Very satisfied        0
## 834       5808          FALSE    CA       Very satisfied        0
## 835       5245          FALSE    SC Completely satisfied        3
## 836       6012          FALSE    UT Completely satisfied        0
## 837       6941          FALSE    NJ       Very satisfied        0
## 838       5737          FALSE    CA       Very satisfied        0
## 839       3662          FALSE    MS       Very satisfied        0
## 840       4972          FALSE    KY Completely satisfied        2
## 841        437          FALSE    AL   Somewhat satisfied        0
## 842       6278          FALSE    TX Completely satisfied        0
## 843         30           TRUE    CA   Somewhat satisfied        0
## 844       2847          FALSE    IL Completely satisfied        3
## 845       5554          FALSE    IN       Very satisfied        0
## 846       5244          FALSE    CA   Somewhat satisfied        0
## 847       4962          FALSE    NV       Very satisfied        0
## 848       3304           TRUE    FL   Somewhat satisfied        0
## 849       4835          FALSE    CA Completely satisfied        0
## 850       5491          FALSE    CA   Somewhat satisfied        1
## 851       5805          FALSE    NC   Somewhat satisfied        1
## 852       5709          FALSE    OH   Somewhat satisfied        0
## 853       6212          FALSE    CA   Somewhat satisfied        0
## 854       2069          FALSE    MI Completely satisfied        1
## 855        632          FALSE    MI   Somewhat satisfied        1
## 856       4570          FALSE    MS       Very satisfied        0
## 857       6707          FALSE    CA       Very satisfied        0
## 858       4647          FALSE    OH       Very satisfied        0
## 859       4532          FALSE    CA       Very satisfied        0
## 860       2095          FALSE    OH Completely satisfied        0
## 861       2001          FALSE    IL   Somewhat satisfied        0
## 862       5419          FALSE    AZ       Very satisfied        0
## 863        342           TRUE    SC       Very satisfied        0
## 864       3814          FALSE    CA Completely satisfied        0
## 865       5594          FALSE    IN   Somewhat satisfied        0
## 866       4029          FALSE    PA   Somewhat satisfied        2
## 867       6178          FALSE    MN       Very satisfied        0
## 868        428          FALSE    FL       Very satisfied        0
## 869        743          FALSE    TN Completely satisfied        0
## 870       6724          FALSE    UT       Very satisfied        0
## 871       4161          FALSE    CA       Very satisfied        0
## 872       6951          FALSE    SC   Somewhat satisfied        2
## 873       3017          FALSE    FL   Somewhat satisfied        0
## 874       3348          FALSE    SC       Very satisfied        0
## 875       3571          FALSE    NJ       Very satisfied        0
## 876       4835          FALSE    CA Completely satisfied        0
## 877       4846          FALSE    NC   Somewhat satisfied        1
## 878       1213          FALSE    CO       Very satisfied        0
## 879       4724          FALSE    MN       Very satisfied        0
## 880       2763          FALSE    AL   Somewhat satisfied        1
## 881       3117          FALSE    SC   Somewhat satisfied        0
## 882       5684          FALSE    CA       Very satisfied        0
## 883       2621          FALSE    MO   Somewhat satisfied        0
## 884       4336          FALSE    GA Completely satisfied        0
## 885       1430          FALSE    GA Completely satisfied        0
## 886       5960          FALSE    AR       Very satisfied        0
## 887       5319          FALSE    TX   Somewhat satisfied        1
## 888       6485          FALSE    PA       Very satisfied        0
## 889       2960          FALSE    MN   Somewhat satisfied        0
## 890       4160          FALSE    MS Completely satisfied        3
## 891       6775          FALSE    GA   Somewhat satisfied        4
## 892       5644          FALSE    KS   Somewhat satisfied        0
## 893       5368          FALSE    TN Completely satisfied        1
## 894       1224          FALSE    MI   Somewhat satisfied        3
## 895       4669          FALSE    CO   Somewhat satisfied        0
## 896       5128          FALSE    CA       Very satisfied        0
## 897       6136          FALSE    MO       Very satisfied        2
## 898       1618          FALSE    CA   Somewhat satisfied        0
## 899       6724          FALSE    UT   Somewhat satisfied        1
## 900       4657          FALSE    OH       Very satisfied        0
## 901       6765          FALSE    NY   Somewhat satisfied        0
## 902       3042          FALSE    NC       Very satisfied        0
## 903       3458          FALSE    WV   Somewhat satisfied        0
## 904       5099          FALSE    CA Completely satisfied        0
## 905       5304          FALSE    PA Completely satisfied        0
## 906       4612          FALSE    AR   Somewhat satisfied        0
## 907        720          FALSE    NJ       Very satisfied        0
## 908       4578          FALSE    FL   Not very satisfied        0
## 909       6327          FALSE    TX   Somewhat satisfied        0
## 910       1387          FALSE    OR   Somewhat satisfied        0
## 911       6655          FALSE    NY   Somewhat satisfied        0
## 912       1631           TRUE    WI       Very satisfied        0
## 913       5198          FALSE    CO Completely satisfied        0
## 914       4229          FALSE    MD Completely satisfied        0
## 915       1782          FALSE    NJ       Very satisfied        0
## 916       3956          FALSE    IN   Somewhat satisfied        1
## 917       5158          FALSE    TX       Very satisfied        1
## 918       3663           TRUE    TX Completely satisfied        0
## 919       7706          FALSE    SC       Very satisfied        1
## 920       3288          FALSE    MS   Somewhat satisfied        3
## 921       3752           TRUE    AL       Very satisfied        0
## 922       4645          FALSE    IN       Very satisfied        2
## 923       4997          FALSE    WA       Very satisfied        0
## 924       6796          FALSE    AR   Somewhat satisfied        0
## 925       7554          FALSE    MI Completely satisfied        1
## 926       6984          FALSE    TX Completely satisfied        0
## 927       5453           TRUE    MO   Somewhat satisfied        0
## 928       7112          FALSE    MO       Very satisfied        0
## 929       1227          FALSE    GA       Very satisfied        0
## 930       7695          FALSE    PA       Very satisfied        0
## 931       3189          FALSE    IL Completely satisfied        2
## 932       5241          FALSE    NE       Very satisfied        0
## 933       4280          FALSE    MA   Somewhat satisfied        0
## 934        131          FALSE    LA       Very satisfied        0
## 935       6540          FALSE    MD       Very satisfied        1
## 936       4178          FALSE    WA       Very satisfied        0
## 937       7743          FALSE    OH   Somewhat satisfied        0
## 938        370          FALSE    UT       Very satisfied        1
## 939       5309          FALSE    MD       Very satisfied        0
## 940       3409          FALSE    MD   Somewhat satisfied        0
## 941       7083          FALSE    OH Completely satisfied        4
## 942       4543          FALSE    MS       Very satisfied        0
## 943       7040          FALSE    LA   Somewhat satisfied        1
## 944       3997          FALSE    SC Completely satisfied        0
## 945       6178          FALSE    MN   Somewhat satisfied        0
## 946       6688          FALSE    MI   Somewhat satisfied        2
## 947       1209          FALSE    CT       Very satisfied        0
## 948       7715          FALSE    OH       Very satisfied        0
## 949         89          FALSE    NC       Very satisfied        0
## 950       7364          FALSE    GA Completely satisfied        1
## 951       7279          FALSE    SC Completely satisfied        0
## 952       7404          FALSE    TN Completely satisfied        0
## 953        569          FALSE    CA       Very satisfied        0
## 954       7671          FALSE    OH Completely satisfied        0
## 955       7841          FALSE    IA       Very satisfied        0
## 956       6484          FALSE    MD       Very satisfied        0
## 957        523          FALSE    TN       Very satisfied        1
## 958       2842           TRUE    VA   Somewhat satisfied        0
## 959       2405           TRUE    IL   Somewhat satisfied        0
## 960       7703          FALSE    NY Completely satisfied        3
## 961       7231          FALSE    NJ   Somewhat satisfied        0
## 962       7636          FALSE    GA   Somewhat satisfied        0
## 963       3275          FALSE    WI       Very satisfied        1
## 964       5764          FALSE    GA   Somewhat satisfied        1
## 965       7494           TRUE    MS       Very satisfied        0
## 966       7496          FALSE    VA       Very satisfied        0
## 967        860          FALSE    NJ Completely satisfied        0
## 968       4933          FALSE    KS Completely satisfied        2
## 969       7333          FALSE    WI       Very satisfied        0
## 970       7588          FALSE    TX       Very satisfied        0
## 971       3819          FALSE    OR       Very satisfied        1
## 972       7677           TRUE    TX Completely satisfied        0
## 973       5593          FALSE    KY Completely satisfied        0
## 974       7360           TRUE    VA       Very satisfied        0
## 975       6732          FALSE    ID   Somewhat satisfied        0
## 976       7444          FALSE    NC   Somewhat satisfied        0
## 977       7406          FALSE    WI   Somewhat satisfied        0
## 978       1205          FALSE    PA       Very satisfied        0
## 979        563          FALSE    MI   Somewhat satisfied        0
## 980        207          FALSE    MO   Somewhat satisfied        3
## 981       1976          FALSE    IL       Very satisfied        0
## 982       7327          FALSE    NJ       Very satisfied        0
## 983       7098          FALSE    TN   Somewhat satisfied        0
## 984       6167          FALSE    AZ Completely satisfied        1
## 985       4913          FALSE    IL   Somewhat satisfied        1
## 986       5216          FALSE    NJ   Somewhat satisfied        0
## 987       7233          FALSE    VA   Somewhat satisfied        0
## 988       3973          FALSE    OH   Somewhat satisfied        0
## 989       7170           TRUE    IL       Very satisfied        0
## 990       4314          FALSE    MI Completely satisfied        0
## 991       2693          FALSE    CA       Very satisfied        0
## 992       7670          FALSE    CO   Somewhat satisfied        0
## 993       7064          FALSE    IL       Very satisfied        0
## 994       4633          FALSE    SC Completely satisfied        4
## 995       4989          FALSE    MA       Very satisfied        0
## 996       6193          FALSE    TX   Somewhat satisfied        1
## 997       7325          FALSE    GA       Very satisfied        0
## 998       4040          FALSE    NY       Very satisfied        0
## 999       7283          FALSE    NY Completely satisfied        0
## 1000      1104          FALSE    CA   Somewhat satisfied        0
## 1001      7471          FALSE    MO   Somewhat satisfied        3
## 1002      7654          FALSE    AL Completely satisfied        0
## 1003      7033           TRUE    MI       Very satisfied        0
## 1004      7528          FALSE    TX       Very satisfied        0
## 1005      3061          FALSE    CA       Very satisfied        0
## 1006      5667          FALSE    MO Completely satisfied        1
## 1007      7568           TRUE    CO       Very satisfied        0
## 1008      7103           TRUE    AZ       Very satisfied        0
## 1009      7605          FALSE    TN   Somewhat satisfied        0
## 1010      7777           TRUE    NC       Very satisfied        0
## 1011      7659          FALSE    TX   Somewhat satisfied        1
## 1012      7405          FALSE    AR   Somewhat satisfied        1
## 1013      7443          FALSE    MO Completely satisfied        0
## 1014      7384          FALSE    VA   Not very satisfied        3
## 1015      3115          FALSE    MS       Very satisfied        0
## 1016      7284          FALSE    SC Completely satisfied        1
## 1017      6142          FALSE    LA   Somewhat satisfied        0
## 1018      7777          FALSE    NC   Somewhat satisfied        1
## 1019      4183          FALSE    NV   Somewhat satisfied        1
## 1020      5993          FALSE    IA   Somewhat satisfied        0
## 1021      3905          FALSE    IL   Not very satisfied        0
## 1022      2379          FALSE    WA       Very satisfied        0
## 1023      5942          FALSE    GA Not at all satisfied        5
## 1024      7460          FALSE    PA Completely satisfied        0
## 1025      7048          FALSE    SD   Not very satisfied        1
## 1026      5446          FALSE    NY Completely satisfied        1
## 1027      7791          FALSE    OH       Very satisfied        0
## 1028      2342           TRUE    ND       Very satisfied        0
## 1029      7352          FALSE    WI       Very satisfied        0
## 1030      4342          FALSE    CO Completely satisfied        1
## 1031      3417          FALSE    IL       Very satisfied        0
## 1032      7658          FALSE    NC   Somewhat satisfied        1
## 1033      3457          FALSE    FL       Very satisfied        1
## 1034      5990          FALSE    MI   Somewhat satisfied        1
## 1035      6581          FALSE    OR       Very satisfied        0
## 1036      7854          FALSE    MA   Somewhat satisfied        0
## 1037      1908          FALSE    SC Completely satisfied        1
## 1038      3874          FALSE    SC       Very satisfied        0
## 1039      4225           TRUE    GA       Very satisfied        0
## 1040      7212          FALSE    NJ       Very satisfied        0
## 1041      7184          FALSE    OH       Very satisfied        1
## 1042      5917          FALSE    NC   Somewhat satisfied        0
## 1043      4496          FALSE    MI   Somewhat satisfied        0
## 1044      7859          FALSE    CA   Somewhat satisfied        0
## 1045      3908          FALSE    TX   Somewhat satisfied        0
## 1046      7406          FALSE    WI   Somewhat satisfied        0
## 1047      3499          FALSE    PA       Very satisfied        1
## 1048      7506          FALSE    CA Completely satisfied        2
## 1049      1292          FALSE    FL Completely satisfied        0
## 1050      5899          FALSE    LA   Somewhat satisfied        2
## 1051      2168          FALSE    MI Completely satisfied        1
## 1052      2533          FALSE    GA   Somewhat satisfied        1
## 1053      6841          FALSE    TX Completely satisfied        0
## 1054      4635          FALSE    PA       Very satisfied        3
## 1055        69          FALSE    OH       Very satisfied        1
## 1056      6345          FALSE    CA   Somewhat satisfied        0
## 1057      4251          FALSE    MN       Very satisfied        0
## 1058      7804          FALSE    UT   Somewhat satisfied        0
## 1059      4255          FALSE    DC   Somewhat satisfied        1
## 1060      7030          FALSE    CA       Very satisfied        1
## 1061      7668          FALSE    SC Completely satisfied        0
## 1062      3516          FALSE    SC   Somewhat satisfied        0
## 1063      7099          FALSE    TX Completely satisfied        2
## 1064      7492          FALSE    IN       Very satisfied        0
## 1065      4255          FALSE    MD       Very satisfied        0
## 1066      7019          FALSE    FL       Very satisfied        0
## 1067      4332          FALSE    OH       Very satisfied        0
## 1068      6432          FALSE    FL Completely satisfied        0
## 1069      7731          FALSE    CA   Somewhat satisfied        1
## 1070      7033          FALSE    MI       Very satisfied        0
## 1071       625           TRUE    IN   Somewhat satisfied        0
## 1072      7488          FALSE    CA Completely satisfied        0
## 1073      3273          FALSE    IL Not at all satisfied        1
## 1074      7055           TRUE    KY       Very satisfied        0
## 1075      3906          FALSE    CA Completely satisfied        0
## 1076      7019           TRUE    FL Completely satisfied        2
## 1077      5237          FALSE    CA   Somewhat satisfied        0
## 1078      6896          FALSE    CA Completely satisfied        0
## 1079      5547          FALSE    CA   Somewhat satisfied        0
## 1080      1359          FALSE    IL       Very satisfied        0
## 1081      6925          FALSE    CA   Somewhat satisfied        0
## 1082      6801          FALSE    MI   Somewhat satisfied        2
## 1083      4691          FALSE    MD       Very satisfied        0
## 1084      7034          FALSE    TX       Very satisfied        3
## 1085      4572          FALSE    WI   Somewhat satisfied        0
## 1086      7209          FALSE    TN   Somewhat satisfied        3
## 1087      7796          FALSE    IL       Very satisfied        0
## 1088      7371          FALSE    NY   Somewhat satisfied        0
## 1089      1134           TRUE    MI Completely satisfied        0
## 1090      2471          FALSE    NJ       Very satisfied        0
## 1091      5691          FALSE    CA Completely satisfied        2
## 1092      2439          FALSE    SC       Very satisfied        0
## 1093      2933           TRUE    KY       Very satisfied        0
## 1094      2933          FALSE    KY Completely satisfied        0
## 1095      2168          FALSE    MI Completely satisfied        1
## 1096      7282          FALSE    MD       Very satisfied        0
## 1097      3625          FALSE    SC   Somewhat satisfied        0
## 1098      7086          FALSE    AL       Very satisfied        0
## 1099      5343          FALSE    CA Completely satisfied        1
## 1100      7408          FALSE    KS       Very satisfied        2
## 1101      7154          FALSE    MI       Very satisfied        0
## 1102      6984          FALSE    TX   Somewhat satisfied        0
## 1103      6731          FALSE    NC       Very satisfied        0
## 1104      7124          FALSE    WI   Somewhat satisfied        0
## 1105      7825          FALSE    FL   Somewhat satisfied        0
## 1106      1062           TRUE    WV   Somewhat satisfied        0
## 1107      1931          FALSE    MS   Somewhat satisfied        0
## 1108      7642           TRUE    NC   Somewhat satisfied        5
## 1109      4443          FALSE    CA Completely satisfied        0
## 1110      3115          FALSE    MS       Very satisfied        0
## 1111      6432          FALSE    FL Completely satisfied        0
## 1112      7871          FALSE    IL       Very satisfied        0
## 1113      6250          FALSE    NJ       Very satisfied        0
## 1114      5650          FALSE    SC Completely satisfied        0
## 1115      7784          FALSE    NC Completely satisfied        0
## 1116      7747          FALSE    MI Completely satisfied        0
## 1117      6229          FALSE    NC Completely satisfied        2
## 1118      1339          FALSE    GA       Very satisfied        0
## 1119      5402          FALSE    GA Completely satisfied        0
## 1120      3578          FALSE    IL   Somewhat satisfied        3
## 1121       221          FALSE    IL       Very satisfied        0
## 1122      1140          FALSE    MO   Somewhat satisfied        0
## 1123      7830          FALSE    MS       Very satisfied        1
## 1124      7058          FALSE    OH   Somewhat satisfied        0
## 1125      6117          FALSE    MO       Very satisfied        0
## 1126      6199          FALSE    MD       Very satisfied        0
## 1127      7872          FALSE    TX       Very satisfied        0
## 1128      1910          FALSE    GA   Somewhat satisfied        0
## 1129      1438          FALSE    IN       Very satisfied        0
## 1130      7341          FALSE    CA   Somewhat satisfied        0
## 1131      7111          FALSE    MI       Very satisfied        1
## 1132      5364          FALSE    CA   Somewhat satisfied        0
## 1133      4265           TRUE    SC       Very satisfied        0
## 1134      7700          FALSE    NC   Somewhat satisfied        0
## 1135      4493          FALSE    MD Completely satisfied        2
## 1136      6911          FALSE    IL       Very satisfied        0
## 1137      3713          FALSE    NJ       Very satisfied        2
## 1138      7854          FALSE    MA       Very satisfied        0
## 1139      5889          FALSE    SC   Somewhat satisfied        1
## 1140      4240           TRUE    MD       Very satisfied        0
## 1141      6634          FALSE    SC       Very satisfied        0
## 1142      7160          FALSE    MO       Very satisfied        3
## 1143      1684           TRUE    GA       Very satisfied        0
## 1144      4639          FALSE    DC   Somewhat satisfied        2
## 1145      7603          FALSE    MS   Somewhat satisfied        2
## 1146      7421          FALSE    TX Completely satisfied        0
## 1147      6422          FALSE    CO       Very satisfied        0
## 1148      7143           TRUE    CO       Very satisfied        0
## 1149      3848          FALSE    AR   Somewhat satisfied        0
## 1150      5695          FALSE    TX       Very satisfied        0
## 1151      4083          FALSE    SC Completely satisfied        1
## 1152      7788          FALSE    IA   Somewhat satisfied        0
## 1153      6971          FALSE    MD Completely satisfied        0
## 1154      4174          FALSE    VA   Not very satisfied        0
## 1155      7435          FALSE    NC   Somewhat satisfied        1
## 1156      2739          FALSE    AL   Somewhat satisfied        1
## 1157      7770          FALSE    IN       Very satisfied        2
## 1158      6636           TRUE    PA   Somewhat satisfied        0
## 1159      4851          FALSE    CT       Very satisfied        0
## 1160       204           TRUE    IL       Very satisfied        0
## 1161      5525          FALSE    CA       Very satisfied        0
## 1162      7025          FALSE    CA       Very satisfied        0
## 1163      2020          FALSE    IN   Somewhat satisfied        0
## 1164      7326           TRUE    NC   Somewhat satisfied        0
## 1165      7191          FALSE    PA Completely satisfied        4
## 1166      6515          FALSE    IL       Very satisfied        1
## 1167      5699          FALSE    GA       Very satisfied        0
## 1168      6796          FALSE    AR   Somewhat satisfied        0
## 1169      4715          FALSE    CA   Somewhat satisfied        2
## 1170       491           TRUE    NE       Very satisfied        0
## 1171      7149          FALSE    GA   Somewhat satisfied        0
## 1172      7080           TRUE    AZ   Not very satisfied        0
## 1173      8119          FALSE    GA   Somewhat satisfied        0
## 1174      4236          FALSE    GA Completely satisfied        1
## 1175      5099          FALSE    CA Completely satisfied        0
## 1176      8258          FALSE    GA Completely satisfied        2
## 1177      7629          FALSE    GA       Very satisfied        0
## 1178      8041          FALSE    MI       Very satisfied        1
## 1179      7334          FALSE    CA Completely satisfied        0
## 1180      3729          FALSE    MS Completely satisfied        2
## 1181      2143          FALSE    CA Completely satisfied        0
## 1182      8329           TRUE    RI       Very satisfied        0
## 1183      3077           TRUE    NC       Very satisfied        0
## 1184      1273          FALSE    WA       Very satisfied        0
## 1185      5027          FALSE    MD       Very satisfied        0
## 1186      8029           TRUE    TX   Somewhat satisfied        0
## 1187      7830          FALSE    MS Completely satisfied        0
## 1188      8329           TRUE    RI       Very satisfied        0
## 1189      8112          FALSE    TX Not at all satisfied        3
## 1190      7997          FALSE    SC       Very satisfied        0
## 1191      7923          FALSE    MS Completely satisfied        0
## 1192      3777          FALSE    MO   Somewhat satisfied        2
## 1193      8139           TRUE    VA       Very satisfied        0
## 1194      6665          FALSE    PA   Somewhat satisfied        2
## 1195      8000          FALSE    MO   Somewhat satisfied        2
## 1196      8306           TRUE    CA       Very satisfied        0
## 1197      7619          FALSE    FL       Very satisfied        0
## 1198       600          FALSE    CA       Very satisfied        3
## 1199      8031          FALSE    PA       Very satisfied        1
## 1200       491          FALSE    NE       Very satisfied        0
## 1201      7478          FALSE    IL   Somewhat satisfied        2
## 1202      7965          FALSE    AR   Somewhat satisfied        0
## 1203      7542          FALSE    NC       Very satisfied        0
## 1204      6726          FALSE    SC       Very satisfied        1
## 1205      3894          FALSE    MS       Very satisfied        0
## 1206      6352          FALSE    PA Completely satisfied        0
## 1207      8328           TRUE    TX Completely satisfied        0
## 1208      3065           TRUE    GA   Somewhat satisfied        0
## 1209      8094          FALSE    SD       Very satisfied        0
## 1210      4372          FALSE    PA       Very satisfied        0
## 1211      8117          FALSE    MN   Somewhat satisfied        0
## 1212      8259          FALSE    AR       Very satisfied        0
## 1213      8251          FALSE    NJ   Somewhat satisfied        1
## 1214       499          FALSE    GA   Somewhat satisfied        0
## 1215      6953           TRUE    MD   Somewhat satisfied        0
## 1216      4372          FALSE    PA       Very satisfied        0
## 1217      8125          FALSE    SC   Somewhat satisfied        0
## 1218      7183          FALSE    UT Completely satisfied        0
## 1219      6949          FALSE    OR   Somewhat satisfied        0
## 1220      6219          FALSE    PA   Somewhat satisfied        0
## 1221      7369          FALSE    CA Completely satisfied        0
## 1222      8220          FALSE    IL   Somewhat satisfied        0
## 1223      8318          FALSE    TX Completely satisfied        0
## 1224      7437          FALSE    CA       Very satisfied        0
## 1225      8103          FALSE    TX       Very satisfied        0
## 1226      7350          FALSE    FL       Very satisfied        0
## 1227      6067          FALSE    CA Completely satisfied        1
## 1228      4360          FALSE    SC       Very satisfied        2
## 1229      3852          FALSE    MN       Very satisfied        0
## 1230      3567          FALSE    FL       Very satisfied        0
## 1231      5351          FALSE    MD Completely satisfied        1
## 1232      4539           TRUE    AL Completely satisfied        0
## 1233      3805          FALSE    CA   Somewhat satisfied        0
## 1234      7118          FALSE    OH       Very satisfied        3
## 1235      7952          FALSE    MD       Very satisfied        0
## 1236      8162          FALSE    IL       Very satisfied        2
## 1237      4188          FALSE    MN       Very satisfied        0
## 1238      4553           TRUE    TX       Very satisfied        0
## 1239      7997           TRUE    SC   Somewhat satisfied        0
## 1240       898          FALSE    NC       Very satisfied        1
## 1241      7061          FALSE    KY       Very satisfied        0
## 1242      7984          FALSE    NC Completely satisfied        2
## 1243      5576          FALSE    NJ   Somewhat satisfied        0
## 1244       224          FALSE    NC       Very satisfied        0
## 1245      3575          FALSE    RI       Very satisfied        0
## 1246       474           TRUE    NJ       Very satisfied        0
## 1247       400          FALSE    CA   Somewhat satisfied        0
## 1248      5314           TRUE    TX       Very satisfied        0
## 1249      7687           TRUE    AL       Very satisfied        0
## 1250      7645           TRUE    TX       Very satisfied        0
## 1251       326          FALSE    GA       Very satisfied        0
## 1252      8213          FALSE    MO Completely satisfied        4
## 1253      7557          FALSE    TX       Very satisfied        0
## 1254      7804          FALSE    UT   Somewhat satisfied        0
## 1255      8033          FALSE    PA   Somewhat satisfied        5
## 1256      4206          FALSE    MS       Very satisfied        0
## 1257      3142          FALSE    NY   Somewhat satisfied        0
## 1258      7493          FALSE    CA       Very satisfied        0
## 1259      3656          FALSE    CO       Very satisfied        0
## 1260      2685          FALSE    GA   Somewhat satisfied        0
## 1261       244          FALSE    GA       Very satisfied        0
## 1262      7006          FALSE    TX Completely satisfied        2
## 1263      8029          FALSE    TX       Very satisfied        0
## 1264      7893          FALSE    NY   Somewhat satisfied        0
## 1265      2987          FALSE    NJ Completely satisfied        0
## 1266      3608          FALSE    IA       Very satisfied        0
## 1267      5428          FALSE    PA   Not very satisfied        0
## 1268      4581          FALSE    AR       Very satisfied        1
## 1269      6318          FALSE    SC   Somewhat satisfied        2
## 1270      8155          FALSE    OH   Not very satisfied        0
## 1271      6370          FALSE    NC       Very satisfied        0
## 1272      3392          FALSE    MS Completely satisfied        0
## 1273      4514          FALSE    NC   Somewhat satisfied        1
## 1274      8049          FALSE    NV       Very satisfied        0
## 1275      2802          FALSE    ND       Very satisfied        0
## 1276      4640          FALSE    OR       Very satisfied        0
## 1277       290          FALSE    MD   Somewhat satisfied        0
## 1278      4660          FALSE    CA   Somewhat satisfied        0
## 1279      4676          FALSE    CO   Somewhat satisfied        0
## 1280      4980          FALSE    PA   Somewhat satisfied        0
## 1281      2077          FALSE    TN   Somewhat satisfied        1
## 1282      5813          FALSE    SC   Somewhat satisfied        1
## 1283      4838          FALSE    TX       Very satisfied        0
## 1284      7523          FALSE    AR       Very satisfied        0
## 1285      8178          FALSE    CA Completely satisfied        0
## 1286      7422           TRUE    SC       Very satisfied        0
## 1287      3580          FALSE    NY       Very satisfied        0
## 1288      2207           TRUE    OK       Very satisfied        1
## 1289      2965          FALSE    NC   Somewhat satisfied        1
## 1290      4708          FALSE    TX       Very satisfied        0
## 1291      2816          FALSE    SC   Somewhat satisfied        0
## 1292      3603          FALSE    PA   Not very satisfied        0
## 1293      7206          FALSE    NY   Somewhat satisfied        1
## 1294      1080          FALSE    VA       Very satisfied        0
## 1295      5116          FALSE    NC   Somewhat satisfied        0
## 1296      6075          FALSE    MI   Somewhat satisfied        0
## 1297      8050          FALSE    LA       Very satisfied        0
## 1298      7338          FALSE    FL Completely satisfied        1
## 1299      4081          FALSE    TX   Not very satisfied        4
## 1300        19          FALSE    AZ       Very satisfied        1
## 1301      6644          FALSE    TX   Somewhat satisfied        0
## 1302      3026          FALSE    CA   Somewhat satisfied        0
## 1303      7531          FALSE    TX Not at all satisfied       12
## 1304      7230           TRUE    NY       Very satisfied        0
## 1305      4445          FALSE    OH       Very satisfied        0
## 1306      7601           TRUE    KY       Very satisfied        0
## 1307      6183          FALSE    IN Completely satisfied        1
## 1308      6587           TRUE    MO       Very satisfied        0
## 1309      7612          FALSE    MT       Very satisfied        0
## 1310      7963          FALSE    MO   Somewhat satisfied        0
## 1311      1999          FALSE    MI Completely satisfied        0
## 1312      8237          FALSE    PA       Very satisfied        0
## 1313      8297           TRUE    MS Completely satisfied        0
## 1314      6587           TRUE    NY   Somewhat satisfied        0
## 1315      4712          FALSE    MI       Very satisfied        2
## 1316      6860          FALSE    NC   Somewhat satisfied        0
## 1317      7532          FALSE    MI   Somewhat satisfied        0
## 1318      7296          FALSE    CA       Very satisfied        0
## 1319      8089           TRUE    MI   Not very satisfied        0
## 1320      7932           TRUE    CA   Somewhat satisfied        0
## 1321      6358          FALSE    MA   Somewhat satisfied        0
## 1322      6471          FALSE    WY       Very satisfied        0
## 1323      3672          FALSE    MO Completely satisfied        1
## 1324      6863          FALSE    MN   Somewhat satisfied        0
## 1325      7164          FALSE    VA   Somewhat satisfied        4
## 1326      4028          FALSE    OH Not at all satisfied        2
## 1327      5308          FALSE    CA       Very satisfied        0
## 1328      5197          FALSE    CA       Very satisfied        3
## 1329      3396          FALSE    DE Completely satisfied        1
## 1330      6220          FALSE    NJ Completely satisfied        0
## 1331       820          FALSE    MO   Somewhat satisfied        2
## 1332      3006          FALSE    GA   Somewhat satisfied        0
## 1333      7296          FALSE    CA   Somewhat satisfied        0
## 1334      6738          FALSE    OK   Somewhat satisfied        6
## 1335      5033          FALSE    NC       Very satisfied        0
## 1336      8827          FALSE    TN   Somewhat satisfied        4
## 1337      6836          FALSE    IL       Very satisfied        2
## 1338      7238          FALSE    GA       Very satisfied        1
## 1339      8662          FALSE    OH Completely satisfied        1
## 1340      2940           TRUE    IL   Somewhat satisfied        0
## 1341      6344          FALSE    IL   Not very satisfied        0
## 1342      8940          FALSE    TN Completely satisfied        0
## 1343      8475          FALSE    PA   Somewhat satisfied        1
## 1344      8476          FALSE    GA       Very satisfied        0
## 1345      8829          FALSE    GA Completely satisfied        1
## 1346      7541           TRUE    PA Completely satisfied        0
## 1347      8840          FALSE    MO   Somewhat satisfied        0
## 1348      5683          FALSE    MO       Very satisfied        0
## 1349      3622          FALSE    GA Completely satisfied        0
## 1350      8545          FALSE    CA   Somewhat satisfied        0
## 1351      3573          FALSE    GA       Very satisfied        0
## 1352      8827          FALSE    TN   Somewhat satisfied        0
## 1353      8854           TRUE    TN       Very satisfied        0
## 1354      6516          FALSE    IN   Somewhat satisfied        0
## 1355       220          FALSE    OR       Very satisfied        0
## 1356      8525          FALSE    OH   Somewhat satisfied        3
## 1357      8981          FALSE    GA   Somewhat satisfied        0
## 1358      6807          FALSE    TX   Somewhat satisfied        0
## 1359      5861          FALSE    VA   Somewhat satisfied        0
## 1360      8919          FALSE    CA   Somewhat satisfied        0
## 1361      8790          FALSE    GA       Very satisfied        2
## 1362      8492          FALSE    OR   Somewhat satisfied        0
## 1363      8661          FALSE    OH   Somewhat satisfied        0
## 1364      8656          FALSE    NJ   Not very satisfied        0
## 1365      6860          FALSE    NC       Very satisfied        1
## 1366      8803           TRUE    IN       Very satisfied        0
## 1367      8512          FALSE    MS       Very satisfied        0
## 1368      7583          FALSE    KS       Very satisfied        0
## 1369      8870          FALSE    CO   Somewhat satisfied        0
## 1370      8657          FALSE    MO       Very satisfied        0
## 1371      5001          FALSE    GA       Very satisfied        2
## 1372      2850          FALSE    OR Completely satisfied        0
## 1373      4910          FALSE    SC       Very satisfied        0
## 1374      8750          FALSE    AR   Somewhat satisfied        0
## 1375      3401          FALSE    MI   Somewhat satisfied        0
## 1376      9068          FALSE    CA       Very satisfied        0
## 1377      5898          FALSE    NC   Somewhat satisfied        0
## 1378      7410          FALSE    VA Completely satisfied        0
## 1379      8451          FALSE    GA Completely satisfied        0
## 1380      1780           TRUE    MI       Very satisfied        0
## 1381      8468          FALSE    CA   Somewhat satisfied        0
## 1382      7489          FALSE    IN Completely satisfied        1
## 1383      8799          FALSE    NY   Somewhat satisfied        0
## 1384      8806          FALSE    LA Completely satisfied        0
## 1385      8630          FALSE    NE Completely satisfied        1
## 1386      4248          FALSE    MO   Somewhat satisfied        0
## 1387      8759          FALSE    MO   Not very satisfied        0
## 1388      8553           TRUE    CA       Very satisfied        0
## 1389      8553           TRUE    CA       Very satisfied        0
## 1390      1068          FALSE    MI   Somewhat satisfied        1
## 1391      8438          FALSE    KY   Somewhat satisfied        0
## 1392      8585          FALSE    VA   Somewhat satisfied        0
## 1393      8735          FALSE    FL   Not very satisfied        1
## 1394      9017          FALSE    IL       Very satisfied        0
## 1395      8826          FALSE    WI       Very satisfied        3
## 1396      7091          FALSE    WI       Very satisfied        1
## 1397      5799          FALSE    TX                   DK        1
## 1398      9072          FALSE    FL       Very satisfied        0
## 1399      8242          FALSE    OH   Somewhat satisfied        1
## 1400      5764           TRUE    GA       Very satisfied        2
## 1401      1202          FALSE    OH   Somewhat satisfied        0
## 1402      8699          FALSE    TN   Somewhat satisfied        0
## 1403      2381          FALSE    SC Completely satisfied        1
## 1404      8473          FALSE    MD Completely satisfied        0
## 1405      7024          FALSE    TX Completely satisfied        2
## 1406      8453          FALSE    CA       Very satisfied        0
## 1407      8336          FALSE    TX       Very satisfied        0
## 1408      8502          FALSE    SC   Somewhat satisfied        0
## 1409      8916          FALSE    SC   Somewhat satisfied        0
## 1410      7585           TRUE    IA       Very satisfied        0
## 1411      6456          FALSE    PA   Somewhat satisfied        0
## 1412      7204          FALSE    SC Completely satisfied        0
## 1413      1456          FALSE    TX   Somewhat satisfied        0
## 1414      5195          FALSE    IA Completely satisfied        0
## 1415      8379           TRUE    NC       Very satisfied        0
## 1416      4766          FALSE    MS       Very satisfied        0
## 1417      8367          FALSE    AR       Very satisfied        1
## 1418      2643          FALSE    WI   Somewhat satisfied        0
## 1419      6520           TRUE    FL   Somewhat satisfied        3
## 1420       631          FALSE    MS   Not very satisfied        0
## 1421      8206          FALSE    CA       Very satisfied        0
## 1422      8709           TRUE    WA Completely satisfied        0
## 1423      2850          FALSE    OR   Somewhat satisfied        0
## 1424      8644          FALSE    PA Completely satisfied        1
## 1425      2714          FALSE    NC   Not very satisfied        0
## 1426      8502          FALSE    SC       Very satisfied        0
## 1427      8621          FALSE    TX       Very satisfied        0
## 1428      8481          FALSE    OR   Not very satisfied        0
## 1429      7127           TRUE    MN       Very satisfied        0
## 1430      1908          FALSE    SC   Somewhat satisfied        0
## 1431      5322          FALSE    DC Completely satisfied        0
## 1432      7304          FALSE    TN   Not very satisfied        3
## 1433       631          FALSE    MS   Somewhat satisfied        2
## 1434      3537          FALSE    IL       Very satisfied        2
## 1435      8496          FALSE    TX       Very satisfied        2
## 1436      1082           TRUE    TN       Very satisfied        0
## 1437      2771          FALSE    CA   Somewhat satisfied        0
## 1438      8441          FALSE    MI   Somewhat satisfied        0
## 1439      3266          FALSE    CA   Somewhat satisfied        0
## 1440      8532          FALSE    AR       Very satisfied        4
## 1441      8869          FALSE    MI       Very satisfied        0
## 1442      6453          FALSE    MS       Very satisfied        0
## 1443      6675          FALSE    SC       Very satisfied        0
## 1444      9026          FALSE    MA       Very satisfied        0
## 1445      6423          FALSE    WV       Very satisfied        0
## 1446      6481          FALSE    NC   Somewhat satisfied        0
## 1447      2547          FALSE    GA   Somewhat satisfied        1
## 1448      6423          FALSE    WV   Somewhat satisfied        0
## 1449      9057          FALSE    NJ       Very satisfied        0
## 1450      6713          FALSE    NC       Very satisfied        1
## 1451      7230          FALSE    NY       Very satisfied        0
## 1452      6324           TRUE    SC   Somewhat satisfied        5
## 1453      7181          FALSE    CA Completely satisfied        0
## 1454      8058          FALSE    IN Completely satisfied        0
## 1455      2749          FALSE    TX   Somewhat satisfied        0
## 1456      8454          FALSE    OR   Somewhat satisfied        0
## 1457      5419          FALSE    AZ       Very satisfied        0
## 1458      4875          FALSE    SC       Very satisfied        5
## 1459      4562           TRUE    NC   Somewhat satisfied        1
## 1460      8584          FALSE    TX   Somewhat satisfied        0
## 1461      6348          FALSE    IA   Somewhat satisfied        0
## 1462      9046          FALSE    OR   Somewhat satisfied        0
## 1463      2540          FALSE    IN       Very satisfied        0
## 1464      8527          FALSE    MD   Somewhat satisfied        0
## 1465      2873          FALSE    AL       Very satisfied        0
## 1466      6400          FALSE    MO Completely satisfied        2
## 1467      4595          FALSE    MS Completely satisfied        1
## 1468      4984          FALSE    FL   Somewhat satisfied        2
## 1469      2092          FALSE    GA   Somewhat satisfied        0
## 1470      6496          FALSE    MD   Somewhat satisfied        0
## 1471      1601          FALSE    NY   Somewhat satisfied        0
## 1472      8768          FALSE    MD   Somewhat satisfied        0
## 1473      3319          FALSE    LA Completely satisfied        0
## 1474      6708          FALSE    PA       Very satisfied        1
## 1475      5836          FALSE    PA   Somewhat satisfied        0
## 1476      8476          FALSE    GA   Somewhat satisfied        0
## 1477       285          FALSE    IN       Very satisfied        0
## 1478      8823          FALSE    CA       Very satisfied        0
## 1479      7537          FALSE    MS       Very satisfied        0
## 1480      8521          FALSE    NV       Very satisfied        0
## 1481      7720          FALSE    NJ   Somewhat satisfied        0
## 1482      6463          FALSE    MT   Somewhat satisfied        0
## 1483      5196          FALSE    MA   Somewhat satisfied        0
## 1484      5223          FALSE    CA       Very satisfied        0
## 1485      8166          FALSE    TX Completely satisfied        1
## 1486      7405          FALSE    AR   Somewhat satisfied        0
## 1487      8589          FALSE    IN       Very satisfied        0
## 1488      1178          FALSE    SC   Somewhat satisfied        0
## 1489      8450          FALSE    MI Completely satisfied        0
## 1490      7650          FALSE    SC Completely satisfied        0
## 1491      8156          FALSE    OH       Very satisfied        0
## 1492      8823          FALSE    CA       Very satisfied        0
## 1493      4338          FALSE    MI Not at all satisfied        0
## 1494      7291          FALSE    AR   Somewhat satisfied        0
## 1495      6422          FALSE    CO   Somewhat satisfied        0
## 1496      7010          FALSE    MI   Somewhat satisfied        0
## 1497      8172          FALSE    SC   Somewhat satisfied        0
## 1498      8963           TRUE    NJ   Somewhat satisfied        0
## 1499      8354          FALSE    OK   Somewhat satisfied        2
## 1500      7764          FALSE    NC       Very satisfied        0
## 1501      8768           TRUE    MD       Very satisfied        0
## 1502      8793          FALSE    PA Completely satisfied        0
## 1503      8292          FALSE    MI   Somewhat satisfied        0
## 1504      7092          FALSE    CA   Somewhat satisfied        0
## 1505      7655          FALSE    MD       Very satisfied        0
## 1506      7655          FALSE    MD   Somewhat satisfied        0
## 1507      1779          FALSE    IA       Very satisfied        0
## 1508      6546          FALSE    KY       Very satisfied        0
## 1509      7924          FALSE    CA Completely satisfied        0
## 1510      7610          FALSE    GA   Somewhat satisfied        0
## 1511      4064          FALSE    CA   Somewhat satisfied        0
## 1512      6324          FALSE    GA       Very satisfied        0
## 1513      4997          FALSE    CA       Very satisfied        0
## 1514      8144          FALSE    MS Completely satisfied        0
## 1515       727          FALSE    IN       Very satisfied        0
## 1516      9007           TRUE    TX       Very satisfied        0
## 1517      8729          FALSE    SC       Very satisfied        0
## 1518      3571          FALSE    NJ       Very satisfied        0
## 1519      7800          FALSE    AZ       Very satisfied        0
## 1520      9003          FALSE    VA   Somewhat satisfied        0
## 1521      8998          FALSE    TN Completely satisfied        2
## 1522      6466          FALSE    IN       Very satisfied        1
## 1523      8583          FALSE    TX       Very satisfied        2
## 1524      5748           TRUE    CA Completely satisfied        0
## 1525      9028          FALSE    TN   Somewhat satisfied        5
## 1526      7858          FALSE    AR Completely satisfied        0
## 1527      8097          FALSE    SC   Somewhat satisfied        1
## 1528      8293          FALSE    IN Completely satisfied        2
## 1529      1957          FALSE    MI   Somewhat satisfied        0
## 1530      8623          FALSE    AR Completely satisfied        2
## 1531      5296          FALSE    PA       Very satisfied        6
## 1532      8555          FALSE    SC       Very satisfied        0
## 1533      8918          FALSE    LA   Somewhat satisfied        0
## 1534      3430          FALSE    MS       Very satisfied        1
## 1535       216          FALSE    TX       Very satisfied        1
## 1536      5402          FALSE    GA   Somewhat satisfied        0
## 1537      2283           TRUE    OR   Somewhat satisfied        0
## 1538      5160          FALSE    OH       Very satisfied        2
## 1539      7067          FALSE    OH       Very satisfied        2
## 1540      7558          FALSE    FL Completely satisfied        9
## 1541      4841          FALSE    IN   Somewhat satisfied        0
## 1542      3465          FALSE    MO   Not very satisfied        1
## 1543      2046          FALSE    PA       Very satisfied        0
## 1544      8885          FALSE    MD Completely satisfied        0
## 1545      8685          FALSE    MD   Somewhat satisfied        1
## 1546      7337          FALSE    MD Completely satisfied        0
## 1547      6467          FALSE    DC       Very satisfied        0
## 1548      8959          FALSE    MD   Somewhat satisfied        2
## 1549      8924          FALSE    MD       Very satisfied        1
## 1550      8284          FALSE    CA   Somewhat satisfied        0
## 1551      7509          FALSE    GA   Somewhat satisfied        0
## 1552      7095          FALSE    IN   Somewhat satisfied        1
## 1553      7334          FALSE    CA   Somewhat satisfied        0
## 1554      6622          FALSE    CA       Very satisfied        0
## 1555      8989          FALSE    CO       Very satisfied        2
## 1556      8110          FALSE    OH   Somewhat satisfied        3
## 1557      3897          FALSE    OH       Very satisfied        2
## 1558      1970          FALSE    OH   Somewhat satisfied        1
## 1559      3124          FALSE    OH       Very satisfied        0
## 1560      8323          FALSE    CA       Very satisfied        0
## 1561      7207          FALSE    TX Not at all satisfied        3
## 1562       874          FALSE    IL Completely satisfied        0
## 1563      6627          FALSE    TX Completely satisfied        0
## 1564      3852          FALSE    NV       Very satisfied        0
## 1565      8593          FALSE    TX   Somewhat satisfied       10
## 1566      8477          FALSE    TX       Very satisfied        0
## 1567      7464          FALSE    TX       Very satisfied        0
## 1568      7044          FALSE    TX       Very satisfied        0
## 1569      8454          FALSE    OR       Very satisfied        0
## 1570      5494          FALSE    NJ       Very satisfied        0
## 1571      7276          FALSE    MS       Very satisfied        2
## 1572      3541          FALSE    TX   Somewhat satisfied        0
## 1573      8891          FALSE    ND       Very satisfied        0
## 1574      8418          FALSE    VA Completely satisfied        0
## 1575      8072          FALSE    CA   Not very satisfied        2
## 1576      6170          FALSE    TX   Somewhat satisfied        0
## 1577      1290          FALSE    CA   Somewhat satisfied        0
## 1578      6492          FALSE    TN       Very satisfied        0
## 1579      8846          FALSE    GA       Very satisfied        2
## 1580      8395          FALSE    IL       Very satisfied        0
## 1581      6930          FALSE    KY       Very satisfied        0
## 1582      1999          FALSE    MI       Very satisfied        1
## 1583      8125          FALSE    SC   Somewhat satisfied        0
## 1584      4273          FALSE    NY       Very satisfied        0
## 1585      8292          FALSE    MI   Somewhat satisfied        1
## 1586      8129          FALSE    GA       Very satisfied        3
## 1587      8986          FALSE    WI Completely satisfied        2
## 1588      4800          FALSE    CA   Somewhat satisfied        1
## 1589      7596          FALSE    CA   Somewhat satisfied        0
## 1590      6699          FALSE    CA Completely satisfied        1
## 1591      8530          FALSE    CA       Very satisfied        0
## 1592      3943          FALSE    GA   Somewhat satisfied        0
## 1593      7766          FALSE    CA       Very satisfied        1
## 1594      5463          FALSE    MD       Very satisfied        0
## 1595      6640          FALSE    CA       Very satisfied        1
## 1596      5689          FALSE    MI Completely satisfied        3
## 1597      6950          FALSE    TN       Very satisfied        0
## 1598      7194          FALSE    FL Completely satisfied        0
## 1599      4040          FALSE    NY   Somewhat satisfied        0
## 1600      3460          FALSE    MI Completely satisfied        1
## 1601      4319          FALSE    IL Completely satisfied        1
## 1602      8704          FALSE    MI   Somewhat satisfied        0
## 1603      8921          FALSE    AZ       Very satisfied        0
## 1604      8519          FALSE    CA Completely satisfied        0
## 1605      7543          FALSE    ND       Very satisfied        0
## 1606      8491          FALSE    KY       Very satisfied        1
## 1607      3366          FALSE    CA   Somewhat satisfied        0
## 1608      7758          FALSE    MA   Somewhat satisfied        0
## 1609      2763          FALSE    AL       Very satisfied        0
## 1610      4818          FALSE    MO   Somewhat satisfied        1
## 1611      2405          FALSE    IL Completely satisfied        0
## 1612      4033          FALSE    VA   Somewhat satisfied        2
## 1613      8695          FALSE    MD       Very satisfied        1
## 1614       142           TRUE    TN   Somewhat satisfied        0
## 1615      7575          FALSE    OH   Somewhat satisfied        2
## 1616      6776          FALSE    TX Completely satisfied        0
## 1617      8752          FALSE    WA       Very satisfied        0
## 1618      5763          FALSE    CA       Very satisfied        0
## 1619      8613          FALSE    TX       Very satisfied        1
## 1620      8237          FALSE    PA       Very satisfied        0
## 1621      8660          FALSE    IA   Somewhat satisfied        0
## 1622      8759          FALSE    MO       Very satisfied        0
## 1623      8405          FALSE    MA       Very satisfied        0
## 1624      8781          FALSE    VA       Very satisfied        1
## 1625      8703          FALSE    IL       Very satisfied        0
## 1626      8256          FALSE    IL   Somewhat satisfied        0
## 1627      7697           TRUE    CO       Very satisfied        0
## 1628      8825          FALSE    OH       Very satisfied        0
## 1629      2875          FALSE    CA   Somewhat satisfied        0
## 1630      2546          FALSE    MI   Somewhat satisfied        1
## 1631      4704          FALSE    PA       Very satisfied        0
## 1632      5165          FALSE    VA       Very satisfied        0
## 1633      7851          FALSE    CO Completely satisfied        2
## 1634      8262          FALSE    VA   Somewhat satisfied        0
## 1635      2872          FALSE    IA       Very satisfied        1
## 1636      2924          FALSE    AZ   Somewhat satisfied        0
## 1637      4471          FALSE    MD   Somewhat satisfied        0
## 1638      5803           TRUE    AZ   Somewhat satisfied        1
## 1639      2778          FALSE    TN   Somewhat satisfied        1
## 1640      2597          FALSE    VA   Not very satisfied        3
##                                       employment_status annual_earnings
## 1                          Looking for work, unemployed               0
## 2                       Working now, including military           53688
## 3                       Working now, including military            5000
## 4                          Looking for work, unemployed            8000
## 5                       Working now, including military               0
## 6                       Working now, including military           20000
## 7                       Working now, including military           52000
## 8                                               Student            1300
## 9                                               Student            3000
## 10                                        Keeping house               0
## 11                      Working now, including military         9999998
## 12                         Looking for work, unemployed            1200
## 13                                              Student               0
## 14                      Working now, including military           36000
## 15                         Looking for work, unemployed               0
## 16                                              Student               0
## 17                         Looking for work, unemployed             746
## 18                                        Keeping house               0
## 19                         Looking for work, unemployed             800
## 20                      Working now, including military           21600
## 21                      Working now, including military            6000
## 22                      Working now, including military            9000
## 23                      Working now, including military           25000
## 24                         Looking for work, unemployed           12350
## 25                      Working now, including military         9999998
## 26                      Working now, including military             200
## 27                         Looking for work, unemployed               0
## 28                         Looking for work, unemployed           10000
## 29                      Working now, including military           64000
## 30                      Working now, including military           16000
## 31                      Working now, including military           21000
## 32                      Working now, including military             900
## 33                      Working now, including military           10935
## 34                                              Student            4000
## 35                         Looking for work, unemployed               0
## 36                      Working now, including military           15000
## 37                                        Keeping house           22000
## 38                      Working now, including military           24000
## 39                                              Student               0
## 40                      Working now, including military              NA
## 41                         Looking for work, unemployed          100000
## 42                      Working now, including military               0
## 43                 Disabled, permanently or temporarily               0
## 44                      Working now, including military            6000
## 45                                              Student               0
## 46                                              Student           18000
## 47                                              Student               0
## 48                      Working now, including military            3515
## 49                         Looking for work, unemployed            2000
## 50                      Working now, including military           13000
## 51                      Working now, including military           17000
## 52                      Working now, including military            6600
## 53                                              Student               0
## 54                      Working now, including military            8000
## 55                      Working now, including military           30000
## 56                      Working now, including military            2000
## 57                      Working now, including military           10000
## 58                                              Student               0
## 59                         Looking for work, unemployed               0
## 60                      Working now, including military           51000
## 61                         Looking for work, unemployed           14000
## 62                      Working now, including military           30000
## 63                      Working now, including military            5000
## 64                      Working now, including military           26000
## 65                         Looking for work, unemployed               0
## 66                      Working now, including military           30000
## 67                                        Keeping house               0
## 68                      Working now, including military         9999998
## 69                      Working now, including military           20000
## 70                      Working now, including military               0
## 71                         Looking for work, unemployed            8000
## 72                      Working now, including military           63000
## 73                      Working now, including military            6300
## 74                      Working now, including military           24000
## 75                         Looking for work, unemployed            1500
## 76                      Working now, including military               0
## 77                      Working now, including military           23000
## 78                         Looking for work, unemployed               0
## 79                                              Student             140
## 80                         Looking for work, unemployed               0
## 81                      Working now, including military            1500
## 82                                              Student               0
## 83                                              Student            1500
## 84                      Working now, including military            1000
## 85                      Working now, including military            8000
## 86                                        Keeping house           12000
## 87                      Working now, including military           25000
## 88                                              Student               0
## 89                         Looking for work, unemployed           13000
## 90                      Working now, including military           17500
## 91                      Working now, including military            9000
## 92                      Working now, including military           16000
## 93                      Working now, including military               0
## 94                                        Keeping house            1200
## 95                      Working now, including military           12623
## 96                                              Student            6000
## 97                      Working now, including military            8000
## 98                      Working now, including military           14000
## 99                      Working now, including military               0
## 100                     Working now, including military           32000
## 101                        Looking for work, unemployed           10000
## 102                                       Keeping house               0
## 103                     Working now, including military            9000
## 104                     Working now, including military           24000
## 105                        Looking for work, unemployed               0
## 106                     Working now, including military            6000
## 107                     Working now, including military           42966
## 108                     Working now, including military           17000
## 109                     Working now, including military           28000
## 110                     Working now, including military           13000
## 111                        Looking for work, unemployed         9999998
## 112                     Working now, including military           30000
## 113                     Working now, including military            4000
## 114                     Working now, including military           65000
## 115                     Working now, including military               0
## 116                     Working now, including military           33000
## 117                        Looking for work, unemployed            7000
## 118                     Working now, including military           36000
## 119                                             Student            8000
## 120                                             Student           30000
## 121                     Working now, including military           25000
## 122                        Looking for work, unemployed               0
## 123                     Working now, including military            8449
## 124                     Working now, including military           18000
## 125                     Working now, including military           28000
## 126                                             Student            5000
## 127                Disabled, permanently or temporarily               0
## 128                                             Student           10000
## 129                     Working now, including military            4900
## 130                                       Keeping house               0
## 131                     Working now, including military           32000
## 132                     Working now, including military            2300
## 133                     Working now, including military           26000
## 134                     Working now, including military         9999998
## 135                     Working now, including military            1914
## 136                        Looking for work, unemployed            3000
## 137                     Working now, including military               0
## 138                        Looking for work, unemployed           12000
## 139                     Working now, including military           20000
## 140                     Working now, including military           42000
## 141                     Working now, including military           39000
## 142                     Working now, including military           15000
## 143                     Working now, including military           35000
## 144                     Working now, including military           22000
## 145                     Working now, including military           28165
## 146                     Working now, including military            1000
## 147                     Working now, including military           25000
## 148                                             Student           21000
## 149                        Looking for work, unemployed           10000
## 150                     Working now, including military           14000
## 151                     Working now, including military            6000
## 152                     Working now, including military           11000
## 153                     Working now, including military            5000
## 154                                             Student             200
## 155                        Looking for work, unemployed         9999998
## 156                     Working now, including military           25000
## 157                     Working now, including military           20000
## 158                     Working now, including military             240
## 159                                             Student            6000
## 160                                             Student             500
## 161                        Looking for work, unemployed             200
## 162                     Working now, including military           15000
## 163                     Working now, including military            4950
## 164                        Looking for work, unemployed            4000
## 165                     Working now, including military            8000
## 166                                       Keeping house               0
## 167                        Looking for work, unemployed               0
## 168                     Working now, including military           50000
## 169                     Working now, including military           12000
## 170                     Working now, including military            4500
## 171                     Working now, including military           56000
## 172                     Working now, including military           27000
## 173                     Working now, including military            1600
## 174                     Working now, including military            5000
## 175                     Working now, including military           36000
## 176                     Working now, including military            2000
## 177                     Working now, including military            8000
## 178                     Working now, including military           20000
## 179                     Working now, including military           27000
## 180                     Working now, including military           13702
## 181                     Working now, including military            5000
## 182                     Working now, including military           22000
## 183                     Working now, including military           25000
## 184                        Looking for work, unemployed               0
## 185                        Looking for work, unemployed           14000
## 186                     Working now, including military           10000
## 187                     Working now, including military           22000
## 188                        Looking for work, unemployed              NA
## 189                     Working now, including military              NA
## 190                     Working now, including military           30000
## 191                     Working now, including military               0
## 192                                             Student         9999998
## 193                     Working now, including military           20000
## 194                     Working now, including military         9999998
## 195                     Working now, including military         9999998
## 196                                             Student            4000
## 197                     Working now, including military            5000
## 198                                             Student           10000
## 199                        Looking for work, unemployed              43
## 200                     Working now, including military           48000
## 201                     Working now, including military           22000
## 202                     Working now, including military            4000
## 203                                             Student           12000
## 204                     Working now, including military           14250
## 205                                             Student            3500
## 206                     Working now, including military           65000
## 207                     Working now, including military               0
## 208                     Working now, including military           65000
## 209                     Working now, including military           25000
## 210                                             Student            7000
## 211                     Working now, including military           70000
## 212                                             Student               0
## 213                                             Student             300
## 214                        Looking for work, unemployed            2000
## 215                     Working now, including military           10000
## 216                     Working now, including military               0
## 217                                             Student             500
## 218                        Looking for work, unemployed             200
## 219                     Working now, including military           17000
## 220                        Looking for work, unemployed           10400
## 221                     Working now, including military             500
## 222                     Working now, including military           24000
## 223                     Working now, including military           31000
## 224                     Working now, including military           12000
## 225                                             Student             250
## 226                     Working now, including military           16000
## 227                                             Student               0
## 228                     Working now, including military           13500
## 229                                             Student               0
## 230                     Working now, including military           80000
## 231                        Looking for work, unemployed             500
## 232                     Working now, including military           15000
## 233                     Working now, including military           30000
## 234                     Working now, including military            6000
## 235                     Working now, including military           52000
## 236                     Working now, including military           30000
## 237                                             Student         9999998
## 238                        Looking for work, unemployed               0
## 239                     Working now, including military               0
## 240                     Working now, including military            7300
## 241                     Working now, including military            2400
## 242                     Working now, including military           20000
## 243                     Working now, including military               0
## 244                     Working now, including military           31487
## 245                        Looking for work, unemployed            4000
## 246                     Working now, including military           18000
## 247                     Working now, including military           27000
## 248                     Working now, including military            2000
## 249                     Working now, including military            9700
## 250                     Working now, including military            3000
## 251                     Working now, including military           30000
## 252                     Working now, including military           26592
## 253                     Working now, including military           53000
## 254                                             Student            3000
## 255                     Working now, including military            9000
## 256                        Looking for work, unemployed               0
## 257                        Looking for work, unemployed            1000
## 258                     Working now, including military           50000
## 259                     Working now, including military           20000
## 260                     Working now, including military           27000
## 261                        Looking for work, unemployed             290
## 262                     Working now, including military           14000
## 263                     Working now, including military            6000
## 264                     Working now, including military           38000
## 265                                             Student            3000
## 266                     Working now, including military            6500
## 267                     Working now, including military           14500
## 268                                       Keeping house           25000
## 269                     Working now, including military           10000
## 270                        Looking for work, unemployed           12042
## 271                Disabled, permanently or temporarily            3000
## 272                        Looking for work, unemployed           30000
## 273                                       Keeping house               0
## 274                     Working now, including military           18000
## 275                     Working now, including military           33000
## 276                     Working now, including military         9999998
## 277                     Working now, including military           38000
## 278                     Working now, including military           17000
## 279                                       Keeping house               0
## 280                     Working now, including military               0
## 281                     Working now, including military           15000
## 282                Disabled, permanently or temporarily               0
## 283                     Working now, including military           13900
## 284                     Working now, including military           17000
## 285                     Working now, including military           45000
## 286                     Working now, including military           15000
## 287                     Working now, including military            2500
## 288                                             Student           18000
## 289                     Working now, including military            2400
## 290                     Working now, including military           29000
## 291                     Working now, including military            1000
## 292                     Working now, including military               0
## 293                        Looking for work, unemployed           24000
## 294                     Working now, including military           16000
## 295                     Working now, including military           20000
## 296                                       Keeping house               0
## 297                     Working now, including military            3600
## 298                     Working now, including military           19500
## 299                     Working now, including military            5000
## 300                                       Keeping house               0
## 301                                       Keeping house               0
## 302                                             Student               0
## 303                     Working now, including military               0
## 304                                             Student            3000
## 305                     Working now, including military            3000
## 306                     Working now, including military           45000
## 307                     Working now, including military            1000
## 308                     Working now, including military            8000
## 309                     Working now, including military           22000
## 310                                             Student            1000
## 311                     Working now, including military           30000
## 312                     Working now, including military           20000
## 313                     Working now, including military           26000
## 314                     Working now, including military           39000
## 315                     Working now, including military           27000
## 316                     Working now, including military           24960
## 317                     Working now, including military           46240
## 318                     Working now, including military            7000
## 319                     Working now, including military               0
## 320                     Working now, including military           26000
## 321                     Working now, including military            2200
## 322                     Working now, including military           17000
## 323                     Working now, including military           24000
## 324                     Working now, including military            7000
## 325                     Working now, including military            4000
## 326                                       Keeping house               0
## 327                                             Student            7000
## 328                                             Student           55000
## 329                        Looking for work, unemployed             500
## 330                     Working now, including military           26000
## 331                     Working now, including military           25000
## 332                        Looking for work, unemployed           16000
## 333                     Working now, including military           20000
## 334                        Looking for work, unemployed           28000
## 335                        Looking for work, unemployed               0
## 336                        Looking for work, unemployed         9999998
## 337                     Working now, including military           35000
## 338                                             Student            3500
## 339                                             Student           10000
## 340                     Working now, including military            3000
## 341                     Working now, including military         9999998
## 342                        Looking for work, unemployed            8000
## 343                     Working now, including military               0
## 344                     Working now, including military           42000
## 345                     Working now, including military           54000
## 346                     Working now, including military               0
## 347                     Working now, including military           18991
## 348                     Working now, including military            2000
## 349                     Working now, including military           13000
## 350                     Working now, including military           32500
## 351                     Working now, including military           22000
## 352                     Working now, including military           12000
## 353                                             Student           11000
## 354                        Looking for work, unemployed               0
## 355                                       Keeping house               0
## 356                     Working now, including military             500
## 357                        Looking for work, unemployed            8000
## 358                        Looking for work, unemployed               0
## 359                     Working now, including military             250
## 360                        Looking for work, unemployed           18800
## 361                        Looking for work, unemployed            3000
## 362                     Working now, including military           10000
## 363                     Working now, including military              NA
## 364                     Working now, including military            6000
## 365                                       Keeping house           17000
## 366                     Working now, including military               0
## 367                                             Student           12000
## 368                     Working now, including military           11000
## 369                     Working now, including military            8000
## 370                     Working now, including military            8000
## 371                                             Student           28500
## 372                                             Student            3000
## 373                     Working now, including military            3000
## 374                     Working now, including military           47000
## 375                     Working now, including military            6232
## 376                     Working now, including military           35000
## 377                     Working now, including military            4400
## 378                     Working now, including military           40000
## 379                     Working now, including military            4000
## 380                     Working now, including military            2000
## 381                     Working now, including military           15000
## 382                Disabled, permanently or temporarily            1280
## 383                        Looking for work, unemployed               0
## 384                     Working now, including military           18000
## 385                     Working now, including military           28000
## 386                     Working now, including military            1240
## 387                     Working now, including military            8000
## 388                        Looking for work, unemployed             810
## 389                                             Student            3000
## 390                                             Student            2000
## 391                     Working now, including military             200
## 392                                       Keeping house             800
## 393                     Working now, including military            8000
## 394                                             Student            6500
## 395                        Looking for work, unemployed              NA
## 396                     Working now, including military            5400
## 397                     Working now, including military            8000
## 398                     Working now, including military           13000
## 399                                       Keeping house               0
## 400                     Working now, including military           30000
## 401                     Working now, including military             320
## 402                     Working now, including military            4663
## 403                     Working now, including military           30000
## 404                     Working now, including military           13000
## 405                        Looking for work, unemployed           10000
## 406                     Working now, including military           15000
## 407                     Working now, including military           19000
## 408                     Working now, including military               0
## 409                     Working now, including military           10000
## 410                     Working now, including military           25000
## 411                     Working now, including military           26000
## 412                        Looking for work, unemployed               0
## 413                                             Student            8200
## 414                     Working now, including military              NA
## 415                                             Student               0
## 416                     Working now, including military           19000
## 417                     Working now, including military           27000
## 418                        Looking for work, unemployed            1000
## 419                     Working now, including military               0
## 420                     Working now, including military           29000
## 421                     Working now, including military            9000
## 422                                             Student         9999998
## 423                     Working now, including military           26000
## 424                     Working now, including military           17400
## 425                     Working now, including military           10000
## 426                     Working now, including military            7500
## 427                     Working now, including military            6000
## 428                     Working now, including military           50000
## 429                     Working now, including military           15200
## 430                     Working now, including military         9999998
## 431                     Working now, including military           12000
## 432                     Working now, including military           20000
## 433                     Working now, including military           10000
## 434                     Working now, including military           12500
## 435                     Working now, including military           13000
## 436                                       Keeping house             150
## 437                     Working now, including military           35000
## 438                     Working now, including military            3000
## 439                     Working now, including military            7472
## 440                     Working now, including military            4000
## 441                                       Keeping house            7994
## 442                                             Student            5000
## 443                     Working now, including military           18000
## 444                     Working now, including military             400
## 445                     Working now, including military           65000
## 446                     Working now, including military           13000
## 447                        Looking for work, unemployed           17000
## 448                     Working now, including military           20000
## 449                     Working now, including military           16000
## 450                                             Student            5000
## 451                     Working now, including military               0
## 452                     Working now, including military           35000
## 453                     Working now, including military            6000
## 454                        Looking for work, unemployed              NA
## 455                     Working now, including military            2400
## 456                     Working now, including military           15000
## 457                     Working now, including military            6000
## 458                                             Student               0
## 459                        Looking for work, unemployed            1500
## 460                                             Student            8000
## 461                                             Student             900
## 462                        Looking for work, unemployed            3000
## 463                                             Student           10000
## 464                     Working now, including military         9999998
## 465                     Working now, including military           35000
## 466                                             Student               0
## 467                     Working now, including military           12000
## 468                     Working now, including military           35000
## 469                     Working now, including military           15393
## 470                     Working now, including military            3000
## 471                     Working now, including military           38000
## 472                     Working now, including military           33047
## 473                     Working now, including military           21000
## 474                                             Student               0
## 475                     Working now, including military               0
## 476                        Looking for work, unemployed            2000
## 477                     Working now, including military           15000
## 478                        Looking for work, unemployed           32000
## 479                     Working now, including military           70000
## 480                     Working now, including military           32000
## 481                     Working now, including military           30000
## 482                        Looking for work, unemployed           60000
## 483                                       Keeping house               0
## 484                        Looking for work, unemployed            9000
## 485                                             Student            9000
## 486                                             Student           30000
## 487                        Looking for work, unemployed               0
## 488                        Looking for work, unemployed               0
## 489                                       Keeping house               0
## 490                                       Keeping house               0
## 491                        Looking for work, unemployed            3800
## 492                     Working now, including military           17000
## 493                                             Student            5000
## 494                     Working now, including military            7000
## 495                     Working now, including military            1150
## 496                     Working now, including military           10000
## 497                     Working now, including military           10000
## 498                     Working now, including military           30000
## 499                     Working now, including military           24000
## 500                     Working now, including military           15000
## 501                     Working now, including military            3200
## 502                     Working now, including military           29000
## 503                     Working now, including military            8000
## 504                                             Student            5000
## 505                     Working now, including military           25000
## 506                        Looking for work, unemployed            2000
## 507                     Working now, including military             500
## 508                                             Student            1063
## 509                     Working now, including military           56000
## 510                     Working now, including military           82000
## 511                     Working now, including military            7200
## 512                     Working now, including military            3500
## 513                     Working now, including military           24000
## 514                     Working now, including military            7000
## 515                     Working now, including military            1800
## 516                     Working now, including military           30000
## 517                     Working now, including military           58000
## 518                     Working now, including military           30000
## 519                                             Student         9999998
## 520                     Working now, including military            6000
## 521                     Working now, including military              NA
## 522                                             Student           20000
## 523                     Working now, including military               0
## 524                     Working now, including military           24000
## 525                     Working now, including military           10000
## 526                     Working now, including military           18000
## 527                     Working now, including military            6500
## 528                     Working now, including military           15872
## 529                     Working now, including military           21000
## 530                     Working now, including military         9999998
## 531                                             Student               0
## 532                     Working now, including military           21000
## 533                     Working now, including military           15000
## 534                                             Student               0
## 535                     Working now, including military               0
## 536                                             Student         9999998
## 537                                             Student            3000
## 538                     Working now, including military           10000
## 539                     Working now, including military            7000
## 540                     Working now, including military               0
## 541                     Working now, including military           23358
## 542                                             Student             900
## 543                     Working now, including military           22500
## 544                     Working now, including military           55000
## 545                                             Student               0
## 546                        Looking for work, unemployed           20000
## 547                                       Keeping house           10000
## 548                        Looking for work, unemployed            1000
## 549                     Working now, including military           28000
## 550                     Working now, including military           12000
## 551                     Working now, including military           25000
## 552                     Working now, including military            6500
## 553                        Looking for work, unemployed           26000
## 554                     Working now, including military           10000
## 555                     Working now, including military           40000
## 556                     Working now, including military           15000
## 557                                             Student               0
## 558                     Working now, including military           22000
## 559                     Working now, including military           15472
## 560                     Working now, including military            1000
## 561                     Working now, including military           20000
## 562                        Looking for work, unemployed            9000
## 563                     Working now, including military         9999998
## 564                     Working now, including military            3600
## 565  Only temporarily laid off; sick or maternity leave           18000
## 566                                       Keeping house               0
## 567                                             Student               0
## 568                     Working now, including military           25000
## 569                                             Student            5000
## 570                     Working now, including military           10000
## 571                     Working now, including military           45000
## 572                     Working now, including military           62000
## 573                                             Student             600
## 574                     Working now, including military           15000
## 575                     Working now, including military           20000
## 576                     Working now, including military             205
## 577                     Working now, including military           12000
## 578                        Looking for work, unemployed           10000
## 579                     Working now, including military           51000
## 580                                       Keeping house               0
## 581                     Working now, including military           20000
## 582                     Working now, including military            3100
## 583                     Working now, including military               0
## 584                        Looking for work, unemployed               0
## 585                     Working now, including military            7000
## 586                     Working now, including military           15000
## 587                        Looking for work, unemployed           30000
## 588                     Working now, including military           32000
## 589                     Working now, including military           17200
## 590                     Working now, including military           60000
## 591                     Working now, including military           24000
## 592                                             Student           10000
## 593                                             Student           13000
## 594                     Working now, including military           30000
## 595                        Looking for work, unemployed             300
## 596                     Working now, including military            1600
## 597                     Working now, including military           30000
## 598                     Working now, including military           50000
## 599                     Working now, including military            9000
## 600                     Working now, including military             800
## 601                        Looking for work, unemployed         9999998
## 602                     Working now, including military            6500
## 603                     Working now, including military           70000
## 604                                       Keeping house               0
## 605                                             Student               0
## 606                     Working now, including military           95000
## 607                        Looking for work, unemployed             800
## 608                     Working now, including military           36000
## 609                     Working now, including military           16000
## 610                     Working now, including military           30000
## 611                     Working now, including military           25000
## 612                     Working now, including military           20000
## 613                     Working now, including military           14000
## 614                     Working now, including military            5000
## 615                     Working now, including military           14000
## 616                     Working now, including military           18000
## 617                     Working now, including military            6000
## 618                                             Student               0
## 619                     Working now, including military         9999998
## 620                        Looking for work, unemployed             400
## 621                     Working now, including military           13000
## 622                        Looking for work, unemployed               0
## 623                     Working now, including military            8000
## 624                     Working now, including military           21600
## 625                     Working now, including military           25000
## 626                     Working now, including military            3200
## 627                     Working now, including military           25000
## 628                     Working now, including military           36250
## 629                     Working now, including military           11000
## 630                     Working now, including military           40000
## 631                     Working now, including military           49000
## 632                     Working now, including military           15000
## 633                     Working now, including military           34000
## 634                     Working now, including military           28000
## 635                     Working now, including military            4000
## 636                     Working now, including military           23000
## 637                     Working now, including military           11000
## 638                     Working now, including military            2700
## 639                        Looking for work, unemployed               0
## 640                                             Student            4000
## 641                     Working now, including military            8000
## 642                                             Student             500
## 643                     Working now, including military               0
## 644                     Working now, including military           21000
## 645                     Working now, including military            8000
## 646                        Looking for work, unemployed             160
## 647                        Looking for work, unemployed            5000
## 648                     Working now, including military           35000
## 649                     Working now, including military           80000
## 650                     Working now, including military           30000
## 651                                             Student               0
## 652                     Working now, including military            6000
## 653                     Working now, including military         9999998
## 654                     Working now, including military           31000
## 655                                             Student            5000
## 656                     Working now, including military            6225
## 657                     Working now, including military            3000
## 658                                             Student            3400
## 659                                             Student            3500
## 660                                             Student            7000
## 661                                             Student            4000
## 662                     Working now, including military           30000
## 663                     Working now, including military           43000
## 664                        Looking for work, unemployed               0
## 665                     Working now, including military           16000
## 666                     Working now, including military           27000
## 667                     Working now, including military               0
## 668                     Working now, including military            5000
## 669                     Working now, including military            8700
## 670                                             Student            9000
## 671                                             Student            6000
## 672                     Working now, including military           50000
## 673                     Working now, including military               0
## 674                        Looking for work, unemployed               0
## 675                        Looking for work, unemployed           20000
## 676                                             Student           15000
## 677                     Working now, including military           17000
## 678                     Working now, including military           19000
## 679                                             Student            3100
## 680                     Working now, including military           20000
## 681                     Working now, including military           20000
## 682                     Working now, including military           12000
## 683                     Working now, including military           14000
## 684                     Working now, including military           27500
## 685                     Working now, including military           32000
## 686                                             Student              NA
## 687                     Working now, including military            3000
## 688                     Working now, including military            7000
## 689                     Working now, including military           12000
## 690                     Working now, including military           24000
## 691                     Working now, including military            1200
## 692                     Working now, including military            6400
## 693                     Working now, including military               0
## 694                     Working now, including military            2000
## 695                     Working now, including military           26000
## 696                     Working now, including military            8000
## 697                     Working now, including military           35077
## 698                     Working now, including military            8000
## 699                                             Student           15000
## 700                     Working now, including military            7000
## 701                     Working now, including military         9999998
## 702                        Looking for work, unemployed           13000
## 703                        Looking for work, unemployed               0
## 704                        Looking for work, unemployed           30000
## 705                     Working now, including military           40000
## 706                        Looking for work, unemployed            3000
## 707                     Working now, including military           15000
## 708                     Working now, including military         9999998
## 709                                             Student               0
## 710                     Working now, including military            3500
## 711                     Working now, including military           40000
## 712                     Working now, including military             900
## 713                     Working now, including military            8000
## 714                        Looking for work, unemployed               0
## 715                     Working now, including military           14800
## 716                     Working now, including military          100000
## 717                     Working now, including military              NA
## 718                     Working now, including military           18000
## 719                     Working now, including military         9999998
## 720                        Looking for work, unemployed               0
## 721                                             Student             720
## 722                                       Keeping house               0
## 723                     Working now, including military               0
## 724                     Working now, including military               0
## 725                     Working now, including military           14000
## 726                     Working now, including military            9000
## 727                     Working now, including military            3000
## 728                                       Keeping house           18000
## 729                     Working now, including military           16000
## 730                                             Student               0
## 731                                             Student            2000
## 732                                             Student             300
## 733                     Working now, including military           65000
## 734                     Working now, including military           38000
## 735                     Working now, including military               0
## 736                     Working now, including military           28000
## 737                     Working now, including military            4000
## 738                     Working now, including military           20000
## 739                     Working now, including military            8500
## 740                                             Student            5000
## 741                                             Student            2000
## 742                        Looking for work, unemployed           12000
## 743                                             Student            7200
## 744                                       Keeping house               0
## 745                     Working now, including military           19000
## 746                     Working now, including military            9000
## 747                     Working now, including military              NA
## 748                     Working now, including military           10000
## 749                                             Student               0
## 750                        Looking for work, unemployed            4500
## 751                                             Student               0
## 752                     Working now, including military           24750
## 753                     Working now, including military               0
## 754                     Working now, including military            4000
## 755                     Working now, including military           15000
## 756                     Working now, including military           16000
## 757                                             Student            5000
## 758                                             Student            5000
## 759                     Working now, including military           35000
## 760                                       Keeping house            5500
## 761                     Working now, including military           21000
## 762                     Working now, including military           10000
## 763                                             Student              NA
## 764                     Working now, including military           30000
## 765                     Working now, including military         9999998
## 766                     Working now, including military            3000
## 767                        Looking for work, unemployed           19000
## 768                     Working now, including military            2000
## 769                     Working now, including military             700
## 770                     Working now, including military            5000
## 771                     Working now, including military           10000
## 772                     Working now, including military           33000
## 773                     Working now, including military           37000
## 774                     Working now, including military               0
## 775                     Working now, including military           55000
## 776                     Working now, including military           10000
## 777                     Working now, including military            7500
## 778                     Working now, including military            2000
## 779                        Looking for work, unemployed               0
## 780                     Working now, including military           12000
## 781                     Working now, including military           34231
## 782                     Working now, including military            9976
## 783                                             Student            3000
## 784                     Working now, including military         9999998
## 785                     Working now, including military         9999998
## 786                                             Student           10000
## 787                     Working now, including military           11000
## 788                     Working now, including military           22000
## 789                     Working now, including military            6000
## 790                     Working now, including military           40000
## 791                                             Student            3600
## 792                     Working now, including military           50000
## 793                     Working now, including military           15000
## 794                     Working now, including military           22000
## 795                     Working now, including military           15000
## 796                     Working now, including military            3000
## 797                     Working now, including military               0
## 798                     Working now, including military           21000
## 799                                             Student               0
## 800                     Working now, including military            3000
## 801                     Working now, including military         9999998
## 802                     Working now, including military               0
## 803                     Working now, including military           39600
## 804                                             Student            3000
## 805                        Looking for work, unemployed            1500
## 806                     Working now, including military          108000
## 807                     Working now, including military           19000
## 808                                             Student             500
## 809                                             Student               0
## 810                                       Keeping house           14000
## 811                        Looking for work, unemployed              NA
## 812                     Working now, including military             900
## 813                     Working now, including military            5000
## 814  Only temporarily laid off; sick or maternity leave            8000
## 815                     Working now, including military              NA
## 816                     Working now, including military           10000
## 817                     Working now, including military            8000
## 818                        Looking for work, unemployed            9000
## 819                     Working now, including military            5000
## 820                     Working now, including military           45000
## 821                     Working now, including military           10000
## 822                     Working now, including military               0
## 823                     Working now, including military           13000
## 824                                             Student            8160
## 825                        Looking for work, unemployed               0
## 826                     Working now, including military           25000
## 827                     Working now, including military           33000
## 828                     Working now, including military         9999998
## 829                                             Student            4000
## 830                     Working now, including military           54000
## 831                     Working now, including military           30000
## 832                     Working now, including military         9999998
## 833                     Working now, including military            8000
## 834                     Working now, including military            4000
## 835                     Working now, including military            5000
## 836                                       Keeping house            4626
## 837                     Working now, including military           20000
## 838                     Working now, including military           38000
## 839                     Working now, including military            6000
## 840                                       Keeping house            5500
## 841                     Working now, including military           10000
## 842                     Working now, including military             500
## 843                                             Student               0
## 844                     Working now, including military         9999998
## 845                     Working now, including military           10000
## 846                                             Student            3400
## 847                     Working now, including military           26000
## 848                     Working now, including military            1200
## 849                     Working now, including military               0
## 850                     Working now, including military            2000
## 851                     Working now, including military            8000
## 852                        Looking for work, unemployed             150
## 853                     Working now, including military           20000
## 854                                       Keeping house               0
## 855                     Working now, including military               0
## 856                        Looking for work, unemployed            8000
## 857                     Working now, including military             400
## 858                     Working now, including military           16000
## 859                     Working now, including military               0
## 860                     Working now, including military           47000
## 861                        Looking for work, unemployed            7000
## 862                     Working now, including military           32000
## 863                                             Student            1000
## 864                     Working now, including military           66500
## 865                     Working now, including military             380
## 866                     Working now, including military           32000
## 867                                             Student           12000
## 868                     Working now, including military             400
## 869                     Working now, including military            5000
## 870                     Working now, including military           23000
## 871                     Working now, including military            6000
## 872                        Looking for work, unemployed            5100
## 873                     Working now, including military           30000
## 874                        Looking for work, unemployed              NA
## 875                     Working now, including military           35000
## 876                     Working now, including military           60000
## 877                     Working now, including military           18000
## 878                     Working now, including military           15000
## 879                     Working now, including military            5500
## 880                     Working now, including military               0
## 881                     Working now, including military               0
## 882                     Working now, including military           23000
## 883                     Working now, including military            8400
## 884                     Working now, including military           28000
## 885                     Working now, including military         9999998
## 886                     Working now, including military           43000
## 887                     Working now, including military               0
## 888                     Working now, including military           22000
## 889                        Looking for work, unemployed            7000
## 890                                       Keeping house            5200
## 891                     Working now, including military             850
## 892                     Working now, including military           20000
## 893  Only temporarily laid off; sick or maternity leave           22000
## 894                        Looking for work, unemployed            5000
## 895                     Working now, including military           35000
## 896                     Working now, including military           11000
## 897                     Working now, including military           20000
## 898                        Looking for work, unemployed           27000
## 899                     Working now, including military              NA
## 900                     Working now, including military         9999998
## 901                     Working now, including military            5000
## 902                     Working now, including military            7000
## 903                        Looking for work, unemployed         9999998
## 904                                             Student           14000
## 905                     Working now, including military         9999998
## 906                     Working now, including military           52000
## 907                        Looking for work, unemployed           80000
## 908                        Looking for work, unemployed          200000
## 909                     Working now, including military           29800
## 910                     Working now, including military            7000
## 911                        Looking for work, unemployed               0
## 912                                             Student             700
## 913                                             Student           12000
## 914                     Working now, including military           21000
## 915                                             Student              NA
## 916                     Working now, including military               0
## 917                     Working now, including military           39000
## 918                     Working now, including military               0
## 919                     Working now, including military         9999998
## 920                        Looking for work, unemployed            1000
## 921                     Working now, including military               0
## 922                        Looking for work, unemployed               0
## 923                        Looking for work, unemployed             400
## 924                                             Student               0
## 925                     Working now, including military           16800
## 926                                             Student            1500
## 927                     Working now, including military            7000
## 928                     Working now, including military           14000
## 929                     Working now, including military              NA
## 930                     Working now, including military               0
## 931                        Looking for work, unemployed             110
## 932                     Working now, including military           40000
## 933                     Working now, including military            5000
## 934                     Working now, including military           15000
## 935                     Working now, including military            8000
## 936                     Working now, including military            2000
## 937                        Looking for work, unemployed              NA
## 938                     Working now, including military           15000
## 939                     Working now, including military           38000
## 940                     Working now, including military            1000
## 941                                       Keeping house            4000
## 942                                             Student            1500
## 943                     Working now, including military            7800
## 944                     Working now, including military             500
## 945                     Working now, including military           10000
## 946                                             Student               0
## 947                     Working now, including military           24000
## 948                     Working now, including military           20000
## 949                     Working now, including military           54000
## 950                        Looking for work, unemployed           13650
## 951                     Working now, including military            9600
## 952                                       Keeping house               0
## 953                                             Student           10000
## 954                     Working now, including military           12900
## 955                        Looking for work, unemployed            1200
## 956                     Working now, including military            6000
## 957                     Working now, including military           27000
## 958                     Working now, including military            5000
## 959                        Looking for work, unemployed            2500
## 960                                       Keeping house           20000
## 961                     Working now, including military           20000
## 962                                       Keeping house               0
## 963                     Working now, including military           29000
## 964                     Working now, including military            5000
## 965                                             Student            6000
## 966                                             Student         9999998
## 967                                             Student            1700
## 968                        Looking for work, unemployed           24850
## 969                     Working now, including military               0
## 970                     Working now, including military           20000
## 971                     Working now, including military               0
## 972                                             Student               0
## 973                                             Student               0
## 974                                             Student            3000
## 975                     Working now, including military            3136
## 976                     Working now, including military           22000
## 977                        Looking for work, unemployed         9999998
## 978                                             Student           25000
## 979                     Working now, including military            6000
## 980                     Working now, including military           50000
## 981                     Working now, including military           20000
## 982                     Working now, including military           30000
## 983                        Looking for work, unemployed            4000
## 984                                       Keeping house               0
## 985                        Looking for work, unemployed             500
## 986                                             Student            5000
## 987                     Working now, including military           17000
## 988                        Looking for work, unemployed            3000
## 989                                             Student            3500
## 990                     Working now, including military           14000
## 991                        Looking for work, unemployed             200
## 992                     Working now, including military            4000
## 993                     Working now, including military           29300
## 994                        Looking for work, unemployed               0
## 995                     Working now, including military           50000
## 996                     Working now, including military           23000
## 997                                             Student               0
## 998                     Working now, including military           26000
## 999                     Working now, including military           23000
## 1000                    Working now, including military           20000
## 1001                    Working now, including military         9999998
## 1002                    Working now, including military            6000
## 1003                                            Student         9999998
## 1004                    Working now, including military           12000
## 1005                    Working now, including military           45000
## 1006               Disabled, permanently or temporarily               0
## 1007                    Working now, including military            2000
## 1008                                            Student               0
## 1009                    Working now, including military            4000
## 1010                                            Student            4000
## 1011                    Working now, including military           30000
## 1012                    Working now, including military            7000
## 1013                    Working now, including military           12300
## 1014                       Looking for work, unemployed               0
## 1015                       Looking for work, unemployed           15000
## 1016                    Working now, including military           19000
## 1017                       Looking for work, unemployed           12000
## 1018                    Working now, including military           10000
## 1019                       Looking for work, unemployed               0
## 1020                    Working now, including military           20748
## 1021                       Looking for work, unemployed           28000
## 1022                    Working now, including military           53900
## 1023                       Looking for work, unemployed               0
## 1024                       Looking for work, unemployed            3600
## 1025                    Working now, including military           22000
## 1026                    Working now, including military         9999998
## 1027                    Working now, including military           15000
## 1028                    Working now, including military            5000
## 1029                    Working now, including military             700
## 1030                                            Student           13000
## 1031                                            Student               0
## 1032                       Looking for work, unemployed           24000
## 1033                    Working now, including military           28000
## 1034                    Working now, including military           50000
## 1035                    Working now, including military            7000
## 1036                                      Keeping house              NA
## 1037                    Working now, including military            5000
## 1038                    Working now, including military            4000
## 1039                                            Student            1000
## 1040                    Working now, including military           70000
## 1041                    Working now, including military           23000
## 1042                       Looking for work, unemployed            1200
## 1043                                            Student               0
## 1044                    Working now, including military           60000
## 1045                    Working now, including military           62400
## 1046                    Working now, including military         9999998
## 1047                    Working now, including military              NA
## 1048                                            Student         9999998
## 1049                    Working now, including military          110000
## 1050                                            Student           25000
## 1051                    Working now, including military            2500
## 1052                       Looking for work, unemployed            1800
## 1053                    Working now, including military           15000
## 1054                    Working now, including military           21000
## 1055                    Working now, including military           44000
## 1056                                      Keeping house               0
## 1057                    Working now, including military           42000
## 1058                    Working now, including military           70000
## 1059                       Looking for work, unemployed           14000
## 1060                    Working now, including military           40000
## 1061                       Looking for work, unemployed           22000
## 1062                    Working now, including military            9500
## 1063                    Working now, including military            6000
## 1064                    Working now, including military            3000
## 1065                    Working now, including military            1200
## 1066                    Working now, including military               0
## 1067                    Working now, including military           36000
## 1068                    Working now, including military         9999998
## 1069                    Working now, including military            9600
## 1070                                            Student         9999998
## 1071                    Working now, including military            1400
## 1072                    Working now, including military           10500
## 1073                       Looking for work, unemployed           20550
## 1074                                            Student           11000
## 1075                       Looking for work, unemployed            1000
## 1076                       Looking for work, unemployed         9999998
## 1077                                            Student           28000
## 1078                    Working now, including military               0
## 1079                    Working now, including military            3000
## 1080                                            Student               0
## 1081                    Working now, including military           20000
## 1082                    Working now, including military           12000
## 1083                    Working now, including military           18000
## 1084                    Working now, including military           33000
## 1085                    Working now, including military             700
## 1086                    Working now, including military           17000
## 1087                    Working now, including military           40000
## 1088                    Working now, including military           28000
## 1089                                            Student            1000
## 1090                       Looking for work, unemployed             900
## 1091                                      Keeping house           20000
## 1092                       Looking for work, unemployed               0
## 1093                                            Student           10000
## 1094                                            Student               0
## 1095                    Working now, including military         9999998
## 1096                    Working now, including military           12300
## 1097                    Working now, including military           20000
## 1098                                      Keeping house               0
## 1099                    Working now, including military           19000
## 1100                    Working now, including military         9999998
## 1101                    Working now, including military            3600
## 1102                    Working now, including military               0
## 1103                    Working now, including military            1440
## 1104                    Working now, including military              NA
## 1105                    Working now, including military           25000
## 1106                    Working now, including military           16000
## 1107                    Working now, including military           20000
## 1108                       Looking for work, unemployed               0
## 1109                       Looking for work, unemployed         9999998
## 1110                    Working now, including military           32000
## 1111                    Working now, including military            4428
## 1112                    Working now, including military           26000
## 1113                                            Student            1000
## 1114                                            Student            1000
## 1115                    Working now, including military         9999998
## 1116                    Working now, including military               0
## 1117                    Working now, including military           25000
## 1118                    Working now, including military         9999998
## 1119                    Working now, including military               0
## 1120                    Working now, including military            8000
## 1121                    Working now, including military           21000
## 1122                    Working now, including military             600
## 1123                                      Keeping house               0
## 1124                       Looking for work, unemployed           26000
## 1125                    Working now, including military              NA
## 1126                    Working now, including military         9999998
## 1127                    Working now, including military           40000
## 1128                    Working now, including military             800
## 1129                    Working now, including military           25000
## 1130                       Looking for work, unemployed            1200
## 1131                    Working now, including military            4000
## 1132                    Working now, including military           18000
## 1133                    Working now, including military              NA
## 1134                    Working now, including military            9000
## 1135                       Looking for work, unemployed               0
## 1136                                            Student             700
## 1137                                            Student             200
## 1138                    Working now, including military            2000
## 1139                    Working now, including military           33000
## 1140                    Working now, including military         9999998
## 1141                       Looking for work, unemployed            6000
## 1142                    Working now, including military           29000
## 1143                    Working now, including military            4000
## 1144                    Working now, including military           32000
## 1145                       Looking for work, unemployed           14000
## 1146                    Working now, including military           12000
## 1147                    Working now, including military           51500
## 1148                                            Student            3000
## 1149                       Looking for work, unemployed               0
## 1150                    Working now, including military           40000
## 1151                                            Student               0
## 1152                    Working now, including military           47000
## 1153                    Working now, including military           20000
## 1154                                            Student               0
## 1155                       Looking for work, unemployed               0
## 1156                    Working now, including military           30000
## 1157                    Working now, including military               0
## 1158                       Looking for work, unemployed               0
## 1159                                            Student            4000
## 1160                                            Student               0
## 1161                    Working now, including military           50000
## 1162                                            Student               0
## 1163                    Working now, including military           32600
## 1164                    Working now, including military            2000
## 1165                       Looking for work, unemployed               0
## 1166                    Working now, including military           27000
## 1167                                            Student               0
## 1168                    Working now, including military            8000
## 1169                    Working now, including military           30000
## 1170                    Working now, including military            2500
## 1171                    Working now, including military            3000
## 1172                    Working now, including military           36000
## 1173                    Working now, including military           15000
## 1174                    Working now, including military           30000
## 1175                    Working now, including military         9999998
## 1176 Only temporarily laid off; sick or maternity leave           30000
## 1177                                            Student               0
## 1178                    Working now, including military            9500
## 1179                    Working now, including military            2000
## 1180                    Working now, including military           24000
## 1181                    Working now, including military           80000
## 1182                                            Student            5000
## 1183                                            Student             300
## 1184                    Working now, including military           50000
## 1185                    Working now, including military               0
## 1186                       Looking for work, unemployed             600
## 1187                       Looking for work, unemployed             500
## 1188                    Working now, including military               0
## 1189                       Looking for work, unemployed            4000
## 1190                                            Student               0
## 1191                    Working now, including military             390
## 1192                                      Keeping house               0
## 1193                       Looking for work, unemployed               0
## 1194                       Looking for work, unemployed            3578
## 1195                    Working now, including military         9999998
## 1196                    Working now, including military           14000
## 1197                       Looking for work, unemployed         9999998
## 1198                    Working now, including military             700
## 1199                    Working now, including military           37481
## 1200                                            Student             500
## 1201                    Working now, including military           18375
## 1202                                            Student               0
## 1203                    Working now, including military         9999998
## 1204                    Working now, including military            5000
## 1205                    Working now, including military               0
## 1206                       Looking for work, unemployed           20500
## 1207                    Working now, including military           12000
## 1208                       Looking for work, unemployed               0
## 1209                       Looking for work, unemployed               0
## 1210                    Working now, including military            2200
## 1211                    Working now, including military           15000
## 1212                                            Student             800
## 1213                    Working now, including military         9999998
## 1214                       Looking for work, unemployed               0
## 1215                       Looking for work, unemployed            1000
## 1216                                            Student               0
## 1217                    Working now, including military            6000
## 1218                    Working now, including military           30000
## 1219                    Working now, including military           17424
## 1220                    Working now, including military           18000
## 1221                    Working now, including military           17000
## 1222                                            Student             100
## 1223                    Working now, including military         9999998
## 1224                    Working now, including military         9999998
## 1225                    Working now, including military           12000
## 1226                    Working now, including military            7000
## 1227                       Looking for work, unemployed           12000
## 1228                    Working now, including military             300
## 1229                    Working now, including military           15000
## 1230                    Working now, including military           24000
## 1231                    Working now, including military            5000
## 1232                                            Student            1500
## 1233                    Working now, including military           11987
## 1234                    Working now, including military           41000
## 1235                    Working now, including military         9999998
## 1236                    Working now, including military               0
## 1237 Only temporarily laid off; sick or maternity leave            8000
## 1238                       Looking for work, unemployed               0
## 1239                    Working now, including military            1200
## 1240                       Looking for work, unemployed           22000
## 1241                    Working now, including military           15000
## 1242                    Working now, including military           30000
## 1243                    Working now, including military            8600
## 1244                    Working now, including military               0
## 1245                    Working now, including military           20000
## 1246                                            Student              NA
## 1247                    Working now, including military           38000
## 1248                    Working now, including military               0
## 1249                                            Student            4200
## 1250                    Working now, including military               0
## 1251                                            Student            6000
## 1252                       Looking for work, unemployed               0
## 1253                                            Student               0
## 1254                    Working now, including military           11862
## 1255                    Working now, including military            8000
## 1256                    Working now, including military            4000
## 1257                    Working now, including military               0
## 1258                    Working now, including military           35000
## 1259                    Working now, including military               0
## 1260                    Working now, including military           40000
## 1261                    Working now, including military               0
## 1262                                      Keeping house           21600
## 1263                    Working now, including military               0
## 1264                    Working now, including military           35000
## 1265                    Working now, including military           13000
## 1266                    Working now, including military           15000
## 1267                                            Student           25000
## 1268                    Working now, including military           42000
## 1269                    Working now, including military           46000
## 1270                       Looking for work, unemployed            1500
## 1271                    Working now, including military           70000
## 1272                    Working now, including military             900
## 1273                    Working now, including military         9999998
## 1274                                            Student         9999998
## 1275                                            Student            8000
## 1276                    Working now, including military           13320
## 1277                    Working now, including military           18635
## 1278                    Working now, including military         9999998
## 1279                    Working now, including military           96750
## 1280                                            Student           24000
## 1281                    Working now, including military            2000
## 1282                       Looking for work, unemployed               0
## 1283                    Working now, including military            4000
## 1284                                            Student           12000
## 1285                                            Student               0
## 1286                                            Student             100
## 1287                    Working now, including military           30000
## 1288                    Working now, including military             300
## 1289                    Working now, including military            6000
## 1290                    Working now, including military            4500
## 1291                    Working now, including military            9000
## 1292                       Looking for work, unemployed               0
## 1293                    Working now, including military           20000
## 1294                    Working now, including military            5000
## 1295                    Working now, including military           36000
## 1296                    Working now, including military           19000
## 1297                    Working now, including military           20000
## 1298                       Looking for work, unemployed               0
## 1299                       Looking for work, unemployed           13000
## 1300                       Looking for work, unemployed            4500
## 1301                    Working now, including military           41000
## 1302                    Working now, including military            1300
## 1303                    Working now, including military           25000
## 1304                       Looking for work, unemployed            8000
## 1305                    Working now, including military           52000
## 1306                    Working now, including military         9999998
## 1307                       Looking for work, unemployed             800
## 1308                    Working now, including military               0
## 1309                    Working now, including military           23000
## 1310                    Working now, including military           29000
## 1311                       Looking for work, unemployed         9999998
## 1312                    Working now, including military           22000
## 1313                                            Student            1500
## 1314                       Looking for work, unemployed               0
## 1315                    Working now, including military           17300
## 1316                       Looking for work, unemployed         9999998
## 1317                    Working now, including military           25000
## 1318                    Working now, including military           35000
## 1319                    Working now, including military            9000
## 1320                       Looking for work, unemployed            1000
## 1321                    Working now, including military           13000
## 1322                    Working now, including military           14300
## 1323                       Looking for work, unemployed         9999998
## 1324                    Working now, including military           25000
## 1325                    Working now, including military         9999998
## 1326                    Working now, including military            5024
## 1327                    Working now, including military             600
## 1328                    Working now, including military               0
## 1329               Disabled, permanently or temporarily           15400
## 1330                                            Student               0
## 1331                    Working now, including military         9999998
## 1332                       Looking for work, unemployed         9999998
## 1333                    Working now, including military           12000
## 1334                    Working now, including military           35000
## 1335                       Looking for work, unemployed               0
## 1336                    Working now, including military           27000
## 1337                    Working now, including military            2400
## 1338                    Working now, including military            7000
## 1339                    Working now, including military            8000
## 1340                                            Student           10500
## 1341                    Working now, including military            9000
## 1342                    Working now, including military               0
## 1343                    Working now, including military           48000
## 1344                                            Student            8000
## 1345                    Working now, including military           42000
## 1346                    Working now, including military         9999998
## 1347                    Working now, including military           65000
## 1348                    Working now, including military           15000
## 1349                       Looking for work, unemployed             400
## 1350                    Working now, including military           22000
## 1351                    Working now, including military               0
## 1352                    Working now, including military         9999998
## 1353                                            Student           14000
## 1354                    Working now, including military           12000
## 1355                       Looking for work, unemployed               0
## 1356                    Working now, including military           12000
## 1357                    Working now, including military           45000
## 1358                       Looking for work, unemployed            1000
## 1359                    Working now, including military           26000
## 1360                                            Student           18000
## 1361                       Looking for work, unemployed           30000
## 1362                    Working now, including military             700
## 1363                    Working now, including military         9999998
## 1364                                            Student               0
## 1365                    Working now, including military               0
## 1366                    Working now, including military         9999998
## 1367                    Working now, including military            8320
## 1368                    Working now, including military           16560
## 1369                    Working now, including military           16000
## 1370                    Working now, including military            4200
## 1371                    Working now, including military           15456
## 1372                    Working now, including military           22000
## 1373                       Looking for work, unemployed            3000
## 1374                    Working now, including military           17550
## 1375                    Working now, including military               0
## 1376                    Working now, including military              NA
## 1377                    Working now, including military           17370
## 1378                    Working now, including military           45000
## 1379                    Working now, including military           14000
## 1380                                            Student               0
## 1381                    Working now, including military            3000
## 1382                       Looking for work, unemployed            4500
## 1383                    Working now, including military               0
## 1384                    Working now, including military            3000
## 1385                    Working now, including military            3000
## 1386                    Working now, including military            5000
## 1387                    Working now, including military           15000
## 1388                                            Student            1000
## 1389                                            Student               0
## 1390                       Looking for work, unemployed           12000
## 1391                    Working now, including military           12000
## 1392                       Looking for work, unemployed           20000
## 1393                       Looking for work, unemployed               0
## 1394                                            Student            1100
## 1395                       Looking for work, unemployed               0
## 1396                    Working now, including military         9999998
## 1397                       Looking for work, unemployed               0
## 1398                       Looking for work, unemployed            6000
## 1399                    Working now, including military            3200
## 1400                       Looking for work, unemployed               0
## 1401                    Working now, including military               0
## 1402                    Working now, including military           14850
## 1403                       Looking for work, unemployed           20000
## 1404                    Working now, including military           26500
## 1405                       Looking for work, unemployed               0
## 1406                    Working now, including military            8000
## 1407                       Looking for work, unemployed            8400
## 1408                    Working now, including military           27000
## 1409                    Working now, including military           15000
## 1410                                            Student            8000
## 1411                    Working now, including military           10000
## 1412                       Looking for work, unemployed               0
## 1413                       Looking for work, unemployed               0
## 1414                    Working now, including military            1113
## 1415                    Working now, including military           15000
## 1416                    Working now, including military         9999998
## 1417                    Working now, including military           14000
## 1418                    Working now, including military            3400
## 1419                       Looking for work, unemployed           45000
## 1420                    Working now, including military           18000
## 1421                    Working now, including military              NA
## 1422                    Working now, including military           24000
## 1423                    Working now, including military            2960
## 1424                    Working now, including military           10068
## 1425                    Working now, including military           10000
## 1426                    Working now, including military           20000
## 1427                    Working now, including military           15000
## 1428                                            Student             332
## 1429                    Working now, including military           18000
## 1430                    Working now, including military           19000
## 1431                       Looking for work, unemployed               0
## 1432               Disabled, permanently or temporarily               0
## 1433                    Working now, including military           10000
## 1434                                            Student            7000
## 1435                    Working now, including military               0
## 1436                    Working now, including military           18000
## 1437                    Working now, including military           17000
## 1438                    Working now, including military           30000
## 1439                       Looking for work, unemployed            1200
## 1440                    Working now, including military           15000
## 1441                    Working now, including military            6500
## 1442                    Working now, including military               0
## 1443                    Working now, including military            5000
## 1444                                            Student            8000
## 1445                    Working now, including military           10000
## 1446                    Working now, including military               0
## 1447                    Working now, including military           20800
## 1448                    Working now, including military            6000
## 1449                    Working now, including military            6000
## 1450                    Working now, including military           15248
## 1451                    Working now, including military           27000
## 1452                    Working now, including military              NA
## 1453                    Working now, including military           21000
## 1454                    Working now, including military            5550
## 1455                    Working now, including military             800
## 1456                       Looking for work, unemployed               0
## 1457                    Working now, including military           16000
## 1458                    Working now, including military               0
## 1459                    Working now, including military               0
## 1460                       Looking for work, unemployed           19760
## 1461                                      Keeping house               0
## 1462                    Working now, including military           30000
## 1463                    Working now, including military           23000
## 1464                       Looking for work, unemployed         9999998
## 1465                    Working now, including military           35000
## 1466                    Working now, including military         9999998
## 1467                       Looking for work, unemployed            6500
## 1468                       Looking for work, unemployed             400
## 1469                    Working now, including military            6000
## 1470                       Looking for work, unemployed             500
## 1471                       Looking for work, unemployed           18200
## 1472                    Working now, including military            3000
## 1473                       Looking for work, unemployed            9000
## 1474                       Looking for work, unemployed           35000
## 1475                    Working now, including military           15000
## 1476                    Working now, including military          130000
## 1477                    Working now, including military         9999998
## 1478                    Working now, including military               0
## 1479                    Working now, including military            6000
## 1480                    Working now, including military           27000
## 1481                    Working now, including military               0
## 1482                    Working now, including military            9840
## 1483                    Working now, including military           47000
## 1484                    Working now, including military            5000
## 1485                       Looking for work, unemployed               0
## 1486               Disabled, permanently or temporarily               0
## 1487                    Working now, including military            6000
## 1488                    Working now, including military            1200
## 1489                    Working now, including military           80000
## 1490                       Looking for work, unemployed               0
## 1491                    Working now, including military           34600
## 1492                    Working now, including military         9999998
## 1493                    Working now, including military         9999998
## 1494                       Looking for work, unemployed           19000
## 1495                    Working now, including military            9360
## 1496 Only temporarily laid off; sick or maternity leave           65000
## 1497                    Working now, including military           20000
## 1498                                            Student         9999998
## 1499                                            Student           30000
## 1500                    Working now, including military           12000
## 1501                                      Keeping house            2200
## 1502                    Working now, including military               0
## 1503                       Looking for work, unemployed           22000
## 1504                    Working now, including military            2000
## 1505                    Working now, including military           13000
## 1506                    Working now, including military           20000
## 1507                    Working now, including military           48000
## 1508                    Working now, including military            1000
## 1509                    Working now, including military           70000
## 1510                    Working now, including military         9999998
## 1511                    Working now, including military            1200
## 1512                                            Student             300
## 1513                    Working now, including military            4000
## 1514                    Working now, including military           18000
## 1515                                            Student            1800
## 1516                                            Student               0
## 1517                    Working now, including military         9999998
## 1518                    Working now, including military           40000
## 1519                       Looking for work, unemployed            4000
## 1520                    Working now, including military           21000
## 1521                    Working now, including military           65000
## 1522                    Working now, including military            2000
## 1523                    Working now, including military           65000
## 1524                    Working now, including military           18000
## 1525                    Working now, including military               0
## 1526                    Working now, including military               0
## 1527                       Looking for work, unemployed         9999998
## 1528                    Working now, including military           42000
## 1529                    Working now, including military           25000
## 1530                                      Keeping house            3020
## 1531                                      Keeping house               0
## 1532                    Working now, including military           16000
## 1533                    Working now, including military           20000
## 1534                    Working now, including military               0
## 1535                       Looking for work, unemployed           10000
## 1536                    Working now, including military               0
## 1537                    Working now, including military            5000
## 1538                                      Keeping house         9999998
## 1539                                            Student           15000
## 1540                                      Keeping house               0
## 1541                    Working now, including military         9999998
## 1542                       Looking for work, unemployed         9999998
## 1543                    Working now, including military           20000
## 1544                    Working now, including military         9999998
## 1545                    Working now, including military         9999998
## 1546                       Looking for work, unemployed         9999998
## 1547                                            Student           15000
## 1548                    Working now, including military           50000
## 1549                    Working now, including military           22000
## 1550                    Working now, including military            2000
## 1551                    Working now, including military           11000
## 1552                    Working now, including military           37000
## 1553                       Looking for work, unemployed            5000
## 1554                    Working now, including military            6200
## 1555                    Working now, including military           11983
## 1556                       Looking for work, unemployed            1400
## 1557                    Working now, including military               0
## 1558                    Working now, including military           40000
## 1559                    Working now, including military           14000
## 1560                    Working now, including military            4263
## 1561                       Looking for work, unemployed               0
## 1562                                            Student           10000
## 1563                    Working now, including military           35000
## 1564                                            Student               0
## 1565                       Looking for work, unemployed          110000
## 1566                       Looking for work, unemployed         9999998
## 1567                    Working now, including military           18000
## 1568                       Looking for work, unemployed            7000
## 1569                    Working now, including military               0
## 1570                    Working now, including military            4000
## 1571                                      Keeping house               0
## 1572                    Working now, including military               0
## 1573                    Working now, including military           30000
## 1574                    Working now, including military           49500
## 1575                    Working now, including military           29000
## 1576                    Working now, including military           43000
## 1577                    Working now, including military           10000
## 1578                    Working now, including military           38593
## 1579                       Looking for work, unemployed               0
## 1580                    Working now, including military            7000
## 1581                    Working now, including military            8000
## 1582                    Working now, including military            2500
## 1583                    Working now, including military           36000
## 1584                    Working now, including military           20000
## 1585                    Working now, including military           12985
## 1586                    Working now, including military         9999998
## 1587                    Working now, including military           16800
## 1588                    Working now, including military           28000
## 1589                    Working now, including military         9999998
## 1590                       Looking for work, unemployed           16000
## 1591                    Working now, including military           28000
## 1592                    Working now, including military         9999998
## 1593                    Working now, including military           28000
## 1594                    Working now, including military            4000
## 1595                                      Keeping house               0
## 1596                    Working now, including military           30000
## 1597                    Working now, including military            3200
## 1598                    Working now, including military           34000
## 1599                    Working now, including military           25000
## 1600                    Working now, including military         9999998
## 1601                       Looking for work, unemployed            6000
## 1602                    Working now, including military           15000
## 1603                    Working now, including military            2000
## 1604                    Working now, including military         9999998
## 1605                    Working now, including military         9999998
## 1606                    Working now, including military           50000
## 1607                    Working now, including military           58000
## 1608                    Working now, including military           16000
## 1609                    Working now, including military           32000
## 1610                       Looking for work, unemployed            3000
## 1611                    Working now, including military              NA
## 1612                       Looking for work, unemployed            4200
## 1613                    Working now, including military           10000
## 1614                    Working now, including military               0
## 1615                                      Keeping house            6000
## 1616                    Working now, including military           10000
## 1617                    Working now, including military           36000
## 1618                    Working now, including military           20000
## 1619                    Working now, including military         9999998
## 1620                    Working now, including military            8000
## 1621                    Working now, including military            7000
## 1622                    Working now, including military               0
## 1623                    Working now, including military           18000
## 1624                    Working now, including military           48000
## 1625                    Working now, including military               0
## 1626                    Working now, including military            1800
## 1627                    Working now, including military            6000
## 1628                    Working now, including military           28000
## 1629                    Working now, including military            1357
## 1630                       Looking for work, unemployed           25000
## 1631                    Working now, including military           13000
## 1632                       Looking for work, unemployed               0
## 1633                                      Keeping house               0
## 1634                    Working now, including military           40000
## 1635                    Working now, including military           35000
## 1636                    Working now, including military           28500
## 1637                    Working now, including military              NA
## 1638                    Working now, including military         9999998
## 1639                    Working now, including military         9999998
## 1640                    Working now, including military              NA
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(ggplot2)}
\NormalTok{base_plot <-}\StringTok{ }\KeywordTok{ggplot}\NormalTok{(ta, }\KeywordTok{aes}\NormalTok{(life_satisfaction, annual_earnings)) +}\StringTok{ }\KeywordTok{scale_y_log10}\NormalTok{()}
\NormalTok{base_plot +}\StringTok{ }\KeywordTok{geom_point}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-95-1.pdf}

\section{Jitter}\label{jitter}

When many points overlap, using \texttt{geom\_jitter} adjusts the
position of each point to minimize overlap.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{base_plot +}\StringTok{ }\KeywordTok{geom_jitter}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-96-1.pdf}

See how this compares to using \texttt{alpha} (i.e., opacity) to see how
many points are in a given position:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{base_plot +}\StringTok{ }\KeywordTok{geom_point}\NormalTok{(}\DataTypeTok{alpha =} \FloatTok{0.1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-97-1.pdf}

\section{Rug}\label{rug}

Often when there are many points, we want to plot a summary that
presents the general shape of the data.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{base_plot +}\StringTok{ }\KeywordTok{geom_violin}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-98-1.pdf}

The \texttt{geom\_rug} gives us a rug plot that we can use to highlight
where actual observations occured when we create these summary plots.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{base_plot +}\StringTok{ }\KeywordTok{geom_violin}\NormalTok{() +}\StringTok{ }\KeywordTok{geom_rug}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-99-1.pdf}

Both \texttt{alpha} and \texttt{jitter} can be applied to the rug as
well.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{base_plot +}\StringTok{ }\KeywordTok{geom_violin}\NormalTok{() +}\StringTok{ }\KeywordTok{geom_rug}\NormalTok{(}\DataTypeTok{alpha =} \FloatTok{0.1}\NormalTok{, }\DataTypeTok{position =} \StringTok{"jitter"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-100-1.pdf}

Now we can see that rug did in fact create a line on the x-axis for each
observation. We can use the \texttt{sides} property to only display the
rug on the left and right (\texttt{"lr"})

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{base_plot +}\StringTok{ }\KeywordTok{geom_violin}\NormalTok{() +}\StringTok{ }\KeywordTok{geom_rug}\NormalTok{(}\DataTypeTok{alpha =} \FloatTok{0.1}\NormalTok{, }\DataTypeTok{position =} \StringTok{"jitter"}\NormalTok{, }\DataTypeTok{sides =} \StringTok{"lr"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-101-1.pdf}

\section{Aesthetics}\label{aesthetics}

\hypertarget{themes-labels-colors}{\chapter{Themes, Labels, and
Colors}\label{themes-labels-colors}}

\section{Data}\label{data-7}

\section{Themes}\label{themes}

Themes, ggthemes

\section{Labels}\label{labels}

data labels, titles, and data labels (text)

\section{Colors}\label{colors}

\section{Assignment}\label{assignment-4}

Open the codebook (\texttt{data/TA2015\_codebook.pdf}) and search for
two new variables to visualize and create a plot that makes use of both
jitter and rug.

\part{Topics}\label{part-topics}

\hypertarget{data-sources}{\chapter*{Data Sources
Overview}\label{data-sources}}
\addcontentsline{toc}{chapter}{Data Sources Overview}

While you can find many data sources by typing
\texttt{public\ data\ sources} in your favorite search engine, the
following lists should help you get started.

\section*{Macro Data}\label{macro-data}
\addcontentsline{toc}{section}{Macro Data}

\subsection*{US}\label{us}
\addcontentsline{toc}{subsection}{US}

\begin{itemize}
\tightlist
\item
  \href{https://fred.stlouisfed.org/}{Federal Reserve Economic Data
  (FRED)}
\item
  \href{https://www.bls.gov/data/}{Bureau of Labor Statistics}
\item
  \href{https://www.bea.gov/data.htm}{Bureau of Economic Analysis}
\item
  \href{http://www.nber.org/data/}{National Bureau of Economic Research}
\item
  \href{https://www.cbo.gov/about/products/budget-economic-data}{Congressional
  Budget Office: Budget and Economic Data}
\item
  \href{https://factfinder.census.gov/}{American FactFinder (American
  Community Survey, Census Summary Files, etc.)}
\end{itemize}

\subsection*{Other US}\label{other-us}
\addcontentsline{toc}{subsection}{Other US}

\begin{itemize}
\tightlist
\item
  \href{https://www.conference-board.org/data/}{The Conference Board}
  (includes consumer confidence index)
\item
  \href{http://www.sca.isr.umich.edu/tables.html}{Survey of Consumers}
\item
  \href{https://measuringworth.com/datasets/}{Historical Exchange Rates}
\item
  \href{https://dnav.cms.gov}{Center for Medicare and Medicaid Services}
\end{itemize}

\section*{Micro Data}\label{micro-data}
\addcontentsline{toc}{section}{Micro Data}

\begin{itemize}
\tightlist
\item
  \href{http://simba.isr.umich.edu/data/data.aspx}{Panel Study on Income
  Dynamics}
\item
  \href{https://www.ipums.org/}{IPUMS (census and survey data)}
\item
  \href{https://www.census.gov/programs-surveys/acs/data/pums.html}{US
  Census Public Use Microdata Sample (PUMS)}
\item
  \href{https://dnav.cms.gov}{Center for Medicare and Medicaid Services}
\end{itemize}

\section*{Hawaii Data}\label{hawaii-data}
\addcontentsline{toc}{section}{Hawaii Data}

\begin{itemize}
\tightlist
\item
  \href{http://dbedt.hawaii.gov/economic/databook/}{State of Hawaii
  Department of Business, Economic Development and Tourism (DBEDT)}
\end{itemize}

\section*{Collections of data lists}\label{collections-of-data-lists}
\addcontentsline{toc}{section}{Collections of data lists}

\begin{itemize}
\tightlist
\item
  \href{https://www.aeaweb.org/resources/data}{American Economic
  Association (AEA) list of data sources}
\end{itemize}

\hypertarget{anscombe}{\chapter*{Anscombe's Quartet}\label{anscombe}}
\addcontentsline{toc}{chapter}{Anscombe's Quartet}

Anscombe quartet emphasizes the need to move beyond basic numerical
summaries of your data. The \texttt{anscombe} dataset has four sets of
\texttt{x} and \texttt{y} variables with very similar summaries, but
distinct visual patterns

\section*{Prep the data}\label{prep-the-data}
\addcontentsline{toc}{section}{Prep the data}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{anscombe}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    x1 x2 x3 x4    y1   y2    y3    y4
## 1  10 10 10  8  8.04 9.14  7.46  6.58
## 2   8  8  8  8  6.95 8.14  6.77  5.76
## 3  13 13 13  8  7.58 8.74 12.74  7.71
## 4   9  9  9  8  8.81 8.77  7.11  8.84
## 5  11 11 11  8  8.33 9.26  7.81  8.47
## 6  14 14 14  8  9.96 8.10  8.84  7.04
## 7   6  6  6  8  7.24 6.13  6.08  5.25
## 8   4  4  4 19  4.26 3.10  5.39 12.50
## 9  12 12 12  8 10.84 9.13  8.15  5.56
## 10  7  7  7  8  4.82 7.26  6.42  7.91
## 11  5  5  5  8  5.68 4.74  5.73  6.89
\end{verbatim}

First we'll use \texttt{tidyr} to reshape the anscombe dataset to make
it easier to work with.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(tidyr)}
\NormalTok{tidy_anscombe <-}\StringTok{ }\NormalTok{anscombe %>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{id =} \KeywordTok{row_number}\NormalTok{()) %>%}
\StringTok{  }\KeywordTok{gather}\NormalTok{(}\DataTypeTok{key =} \NormalTok{key, }\DataTypeTok{value =} \NormalTok{value, }\KeywordTok{everything}\NormalTok{(), -id)}
\NormalTok{tidy_anscombe}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    id key value
## 1   1  x1 10.00
## 2   2  x1  8.00
## 3   3  x1 13.00
## 4   4  x1  9.00
## 5   5  x1 11.00
## 6   6  x1 14.00
## 7   7  x1  6.00
## 8   8  x1  4.00
## 9   9  x1 12.00
## 10 10  x1  7.00
## 11 11  x1  5.00
## 12  1  x2 10.00
## 13  2  x2  8.00
## 14  3  x2 13.00
## 15  4  x2  9.00
## 16  5  x2 11.00
## 17  6  x2 14.00
## 18  7  x2  6.00
## 19  8  x2  4.00
## 20  9  x2 12.00
## 21 10  x2  7.00
## 22 11  x2  5.00
## 23  1  x3 10.00
## 24  2  x3  8.00
## 25  3  x3 13.00
## 26  4  x3  9.00
## 27  5  x3 11.00
## 28  6  x3 14.00
## 29  7  x3  6.00
## 30  8  x3  4.00
## 31  9  x3 12.00
## 32 10  x3  7.00
## 33 11  x3  5.00
## 34  1  x4  8.00
## 35  2  x4  8.00
## 36  3  x4  8.00
## 37  4  x4  8.00
## 38  5  x4  8.00
## 39  6  x4  8.00
## 40  7  x4  8.00
## 41  8  x4 19.00
## 42  9  x4  8.00
## 43 10  x4  8.00
## 44 11  x4  8.00
## 45  1  y1  8.04
## 46  2  y1  6.95
## 47  3  y1  7.58
## 48  4  y1  8.81
## 49  5  y1  8.33
## 50  6  y1  9.96
## 51  7  y1  7.24
## 52  8  y1  4.26
## 53  9  y1 10.84
## 54 10  y1  4.82
## 55 11  y1  5.68
## 56  1  y2  9.14
## 57  2  y2  8.14
## 58  3  y2  8.74
## 59  4  y2  8.77
## 60  5  y2  9.26
## 61  6  y2  8.10
## 62  7  y2  6.13
## 63  8  y2  3.10
## 64  9  y2  9.13
## 65 10  y2  7.26
## 66 11  y2  4.74
## 67  1  y3  7.46
## 68  2  y3  6.77
## 69  3  y3 12.74
## 70  4  y3  7.11
## 71  5  y3  7.81
## 72  6  y3  8.84
## 73  7  y3  6.08
## 74  8  y3  5.39
## 75  9  y3  8.15
## 76 10  y3  6.42
## 77 11  y3  5.73
## 78  1  y4  6.58
## 79  2  y4  5.76
## 80  3  y4  7.71
## 81  4  y4  8.84
## 82  5  y4  8.47
## 83  6  y4  7.04
## 84  7  y4  5.25
## 85  8  y4 12.50
## 86  9  y4  5.56
## 87 10  y4  7.91
## 88 11  y4  6.89
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{tidy_anscombe <-}\StringTok{ }\NormalTok{tidy_anscombe %>%}
\StringTok{  }\KeywordTok{separate}\NormalTok{(key, }\KeywordTok{c}\NormalTok{(}\StringTok{"x_or_y"}\NormalTok{, }\StringTok{"series"}\NormalTok{), }\DecValTok{1}\NormalTok{)}
\NormalTok{tidy_anscombe}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    id x_or_y series value
## 1   1      x      1 10.00
## 2   2      x      1  8.00
## 3   3      x      1 13.00
## 4   4      x      1  9.00
## 5   5      x      1 11.00
## 6   6      x      1 14.00
## 7   7      x      1  6.00
## 8   8      x      1  4.00
## 9   9      x      1 12.00
## 10 10      x      1  7.00
## 11 11      x      1  5.00
## 12  1      x      2 10.00
## 13  2      x      2  8.00
## 14  3      x      2 13.00
## 15  4      x      2  9.00
## 16  5      x      2 11.00
## 17  6      x      2 14.00
## 18  7      x      2  6.00
## 19  8      x      2  4.00
## 20  9      x      2 12.00
## 21 10      x      2  7.00
## 22 11      x      2  5.00
## 23  1      x      3 10.00
## 24  2      x      3  8.00
## 25  3      x      3 13.00
## 26  4      x      3  9.00
## 27  5      x      3 11.00
## 28  6      x      3 14.00
## 29  7      x      3  6.00
## 30  8      x      3  4.00
## 31  9      x      3 12.00
## 32 10      x      3  7.00
## 33 11      x      3  5.00
## 34  1      x      4  8.00
## 35  2      x      4  8.00
## 36  3      x      4  8.00
## 37  4      x      4  8.00
## 38  5      x      4  8.00
## 39  6      x      4  8.00
## 40  7      x      4  8.00
## 41  8      x      4 19.00
## 42  9      x      4  8.00
## 43 10      x      4  8.00
## 44 11      x      4  8.00
## 45  1      y      1  8.04
## 46  2      y      1  6.95
## 47  3      y      1  7.58
## 48  4      y      1  8.81
## 49  5      y      1  8.33
## 50  6      y      1  9.96
## 51  7      y      1  7.24
## 52  8      y      1  4.26
## 53  9      y      1 10.84
## 54 10      y      1  4.82
## 55 11      y      1  5.68
## 56  1      y      2  9.14
## 57  2      y      2  8.14
## 58  3      y      2  8.74
## 59  4      y      2  8.77
## 60  5      y      2  9.26
## 61  6      y      2  8.10
## 62  7      y      2  6.13
## 63  8      y      2  3.10
## 64  9      y      2  9.13
## 65 10      y      2  7.26
## 66 11      y      2  4.74
## 67  1      y      3  7.46
## 68  2      y      3  6.77
## 69  3      y      3 12.74
## 70  4      y      3  7.11
## 71  5      y      3  7.81
## 72  6      y      3  8.84
## 73  7      y      3  6.08
## 74  8      y      3  5.39
## 75  9      y      3  8.15
## 76 10      y      3  6.42
## 77 11      y      3  5.73
## 78  1      y      4  6.58
## 79  2      y      4  5.76
## 80  3      y      4  7.71
## 81  4      y      4  8.84
## 82  5      y      4  8.47
## 83  6      y      4  7.04
## 84  7      y      4  5.25
## 85  8      y      4 12.50
## 86  9      y      4  5.56
## 87 10      y      4  7.91
## 88 11      y      4  6.89
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{tidy_anscombe <-}\StringTok{ }\NormalTok{tidy_anscombe %>%}
\StringTok{  }\KeywordTok{spread}\NormalTok{(x_or_y, value)}
\NormalTok{tidy_anscombe}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    id series  x     y
## 1   1      1 10  8.04
## 2   1      2 10  9.14
## 3   1      3 10  7.46
## 4   1      4  8  6.58
## 5   2      1  8  6.95
## 6   2      2  8  8.14
## 7   2      3  8  6.77
## 8   2      4  8  5.76
## 9   3      1 13  7.58
## 10  3      2 13  8.74
## 11  3      3 13 12.74
## 12  3      4  8  7.71
## 13  4      1  9  8.81
## 14  4      2  9  8.77
## 15  4      3  9  7.11
## 16  4      4  8  8.84
## 17  5      1 11  8.33
## 18  5      2 11  9.26
## 19  5      3 11  7.81
## 20  5      4  8  8.47
## 21  6      1 14  9.96
## 22  6      2 14  8.10
## 23  6      3 14  8.84
## 24  6      4  8  7.04
## 25  7      1  6  7.24
## 26  7      2  6  6.13
## 27  7      3  6  6.08
## 28  7      4  8  5.25
## 29  8      1  4  4.26
## 30  8      2  4  3.10
## 31  8      3  4  5.39
## 32  8      4 19 12.50
## 33  9      1 12 10.84
## 34  9      2 12  9.13
## 35  9      3 12  8.15
## 36  9      4  8  5.56
## 37 10      1  7  4.82
## 38 10      2  7  7.26
## 39 10      3  7  6.42
## 40 10      4  8  7.91
## 41 11      1  5  5.68
## 42 11      2  5  4.74
## 43 11      3  5  5.73
## 44 11      4  8  6.89
\end{verbatim}

\section*{Numeric summary}\label{numeric-summary}
\addcontentsline{toc}{section}{Numeric summary}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{tidy_anscombe %>%}
\StringTok{  }\KeywordTok{group_by}\NormalTok{(series) %>%}
\StringTok{  }\KeywordTok{summarise}\NormalTok{(}
    \DataTypeTok{mean_x =} \KeywordTok{mean}\NormalTok{(x),}
    \DataTypeTok{mean_y =} \KeywordTok{mean}\NormalTok{(y),}
    \DataTypeTok{sd_x =} \KeywordTok{sd}\NormalTok{(x),}
    \DataTypeTok{sd_y =} \KeywordTok{sd}\NormalTok{(y),}
    \DataTypeTok{cor =} \KeywordTok{cor}\NormalTok{(x, y)}
  \NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 4 x 6
##   series mean_x   mean_y     sd_x     sd_y       cor
##    <chr>  <dbl>    <dbl>    <dbl>    <dbl>     <dbl>
## 1      1      9 7.500909 3.316625 2.031568 0.8164205
## 2      2      9 7.500909 3.316625 2.031657 0.8162365
## 3      3      9 7.500000 3.316625 2.030424 0.8162867
## 4      4      9 7.500909 3.316625 2.030579 0.8165214
\end{verbatim}

\section*{Visual summary}\label{visual-summary}
\addcontentsline{toc}{section}{Visual summary}

While the visual summaries suggest very similar datasets, the visual
summaries help identify the differences:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(ggplot2)}
\NormalTok{tidy_anscombe %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(x, y)) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{() +}
\StringTok{  }\KeywordTok{facet_wrap}\NormalTok{(~}\StringTok{ }\NormalTok{series) +}
\StringTok{  }\KeywordTok{coord_fixed}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-110-1.pdf}

\section*{The Datasaurus Dozen}\label{the-datasaurus-dozen}
\addcontentsline{toc}{section}{The Datasaurus Dozen}

The Datasaurus Dozen is a set of series, like the Anscombe's quartet
with similar numerical summaries and radically different visual
summaries. See a great discussion of this dataset by the creators,
Justin Matejka and George Fitzmaurice
\href{https://www.autodeskresearch.com/publications/samestats}{here}

Download the data
\href{https://www.autodeskresearch.com/sites/default/files/The\%20Datasaurus\%20Dozen.zip}{here}
and move the DatasaurusDozen.tsv file into your data folder.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{datasaurus <-}\StringTok{ }\KeywordTok{read_tsv}\NormalTok{(}\StringTok{"data/DatasaurusDozen.tsv"}\NormalTok{)}
\NormalTok{datasaurus %>%}
\StringTok{  }\KeywordTok{group_by}\NormalTok{(dataset) %>%}
\StringTok{  }\KeywordTok{summarise}\NormalTok{(}
    \DataTypeTok{mean_x =} \KeywordTok{mean}\NormalTok{(x),}
    \DataTypeTok{mean_y =} \KeywordTok{mean}\NormalTok{(y),}
    \DataTypeTok{sd_x =} \KeywordTok{sd}\NormalTok{(x),}
    \DataTypeTok{sd_y =} \KeywordTok{sd}\NormalTok{(y),}
    \DataTypeTok{cor =} \KeywordTok{cor}\NormalTok{(x, y)}
  \NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 13 x 6
##       dataset   mean_x   mean_y     sd_x     sd_y         cor
##         <chr>    <dbl>    <dbl>    <dbl>    <dbl>       <dbl>
##  1       away 54.26610 47.83472 16.76982 26.93974 -0.06412835
##  2   bullseye 54.26873 47.83082 16.76924 26.93573 -0.06858639
##  3     circle 54.26732 47.83772 16.76001 26.93004 -0.06834336
##  4       dino 54.26327 47.83225 16.76514 26.93540 -0.06447185
##  5       dots 54.26030 47.83983 16.76774 26.93019 -0.06034144
##  6    h_lines 54.26144 47.83025 16.76590 26.93988 -0.06171484
##  7 high_lines 54.26881 47.83545 16.76670 26.94000 -0.06850422
##  8 slant_down 54.26785 47.83590 16.76676 26.93610 -0.06897974
##  9   slant_up 54.26588 47.83150 16.76885 26.93861 -0.06860921
## 10       star 54.26734 47.83955 16.76896 26.93027 -0.06296110
## 11    v_lines 54.26993 47.83699 16.76996 26.93768 -0.06944557
## 12 wide_lines 54.26692 47.83160 16.77000 26.93790 -0.06657523
## 13    x_shape 54.26015 47.83972 16.76996 26.93000 -0.06558334
\end{verbatim}

Visual summaries

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{datasaurus %>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(x, y)) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{() +}
\StringTok{  }\KeywordTok{facet_wrap}\NormalTok{(~}\StringTok{ }\NormalTok{dataset, }\DataTypeTok{ncol =} \DecValTok{6}\NormalTok{) +}
\StringTok{  }\KeywordTok{coord_fixed}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{jonpage-r-course_files/figure-latex/unnamed-chunk-112-1.pdf}

\hypertarget{trifecta}{\chapter*{How to Judge
Visualizations}\label{trifecta}}
\addcontentsline{toc}{chapter}{How to Judge Visualizations}

\section*{Pre-class assignment}\label{pre-class-assignment}
\addcontentsline{toc}{section}{Pre-class assignment}

Read
\href{http://junkcharts.typepad.com/junk_charts/junk-charts-trifecta-checkup-the-definitive-guide.html}{Junk
Charts Trifecta Checkup}

\section*{Lecture}\label{lecture}
\addcontentsline{toc}{section}{Lecture}

\href{http://junkcharts.typepad.com/numbersruleyourworld/biography.html}{Kaiser
Fung} has a useful framework for judging the quality of data
visualizations. He calls his framework the
\href{http://junkcharts.typepad.com/junk_charts/junk-charts-trifecta-checkup-the-definitive-guide.html}{Junk
Charts Trifecta Checkup}. To make that shorter, we'll just call this
framework the \emph{Trifecta Checkup}. This framework boils down to the
following 3 questions:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  What is the \textbf{question}?
\item
  What does the \textbf{data} say?
\item
  What does the \textbf{visual} say?
\end{enumerate}

Each visualization can be labeled according to which question(s) it does
not answer well. For example, a chart with a meaningful question and
relevant data, but ineffective visuals, would be labeled \textbf{v}. A
chart that gets the data and question wrong, but has a nice visual,
would be labeled \textbf{qd}.

\section*{Assignment}\label{assignment-5}
\addcontentsline{toc}{section}{Assignment}

Assign a label to each of the following visualizations based on the
\emph{Trifecta Checkup}. Provide at least one sentence per question
defending your chosen labels.

\bibliography{packages.bib,book.bib}


\end{document}
